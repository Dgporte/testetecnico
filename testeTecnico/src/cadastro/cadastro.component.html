<div class="cadastro-container">
  <app-navbar></app-navbar>
  <div class="stars"></div>
  <div class="stars2"></div>
  <div class="stars3"></div>
  <div class="cadastro-content">
    <h2 class="cadastro-title">Cadastro</h2>
    <form
      class="cadastro-form"
      (submit)="cadastrarFuncionario(); $event.preventDefault()"
    >
      <label for="ativo">Status</label>
      <select class="cadastro-input" id="ativo" name="ativo" required>
        <option value="">Selecione o status</option>
        <option value="ativo">Ativo</option>
        <option value="inativo">Inativo</option>
      </select>
      <br />

      <label for="foto">Foto</label>
      <input
        class="cadastro-input"
        type="file"
        id="foto"
        name="foto"
        accept="image/*"
        (change)="onFileSelected($event)"
      />
      <div *ngIf="selectedPhoto" class="photo-preview">
        <img
          [src]="selectedPhoto"
          alt="Preview da foto"
          class="preview-image"
        />
        <button type="button" class="remove-photo" (click)="removePhoto()">
          <i class="bi bi-x-circle"></i>
        </button>
      </div>
      <br />

      <label for="nome">Nome completo</label>
      <input
        class="cadastro-input"
        type="text"
        id="nome"
        name="nome"
        placeholder="Digite o nome completo"
        required
      />
      <br />

      <label for="email">Email</label>
      <input
        class="cadastro-input"
        type="email"
        id="email"
        name="email"
        placeholder="Digite o email"
        required
      />
      <br />

      <label for="telefone">Telefone</label>
      <input
        class="cadastro-input"
        type="text"
        id="telefone"
        name="telefone"
        placeholder="(00) 00000-0000"
        maxlength="15"
        (input)="formatarTelefone($event)"
        required
      />
      <br />

      <label for="cargo">Cargo</label>
      <input
        class="cadastro-input"
        type="text"
        id="cargo"
        name="cargo"
        placeholder="Digite o cargo"
        required
      />
      <br />

      <label for="salario">Salário</label>
      <input
        class="cadastro-input"
        type="text"
        id="salario"
        name="salario"
        placeholder="R$ 0,00"
        (input)="formatarSalario($event)"
        required
      />
      <br />

      <label for="dataAdmissao">Data de admissão</label>
      <input
        class="cadastro-input"
        type="date"
        id="dataAdmissao"
        name="dataAdmissao"
        required
      />
      <br />

      <label for="cpf">CPF</label>
      <input
        class="cadastro-input"
        type="text"
        id="cpf"
        name="cpf"
        placeholder="000.000.000-00"
        maxlength="14"
        (input)="formatarCpf($event)"
        required
      />
      <br />

      <h3 class="endereco-title">Endereço</h3>

      <label for="cep">CEP</label>
      <input
        class="cadastro-input"
        type="text"
        id="cep"
        name="cep"
        placeholder="00000-000"
        maxlength="9"
        (input)="formatarCep($event)"
        (blur)="onCepChange($event)"
        required
      />
      <br />

      <label for="rua">Rua</label>
      <input
        class="cadastro-input"
        type="text"
        id="rua"
        name="rua"
        placeholder="Digite a rua"
        required
      />
      <br />

      <label for="numero">Número</label>
      <input
        class="cadastro-input"
        type="text"
        id="numero"
        name="numero"
        placeholder="Digite o número"
        required
      />
      <br />

      <label for="complemento">Complemento</label>
      <input
        class="cadastro-input"
        type="text"
        id="complemento"
        name="complemento"
        placeholder="Apartamento, bloco, etc. (opcional)"
      />
      <br />

      <label for="bairro">Bairro</label>
      <input
        class="cadastro-input"
        type="text"
        id="bairro"
        name="bairro"
        placeholder="Digite o bairro"
        required
      />
      <br />

      <label for="cidade">Cidade</label>
      <input
        class="cadastro-input"
        type="text"
        id="cidade"
        name="cidade"
        placeholder="Digite a cidade"
        required
      />
      <br />

      <label for="estado">Estado</label>
      <select class="cadastro-input" id="estado" name="estado" required>
        <option value="">Selecione o estado</option>
        <option value="AC">Acre</option>
        <option value="AL">Alagoas</option>
        <option value="AP">Amapá</option>
        <option value="AM">Amazonas</option>
        <option value="BA">Bahia</option>
        <option value="CE">Ceará</option>
        <option value="DF">Distrito Federal</option>
        <option value="ES">Espírito Santo</option>
        <option value="GO">Goiás</option>
        <option value="MA">Maranhão</option>
        <option value="MT">Mato Grosso</option>
        <option value="MS">Mato Grosso do Sul</option>
        <option value="MG">Minas Gerais</option>
        <option value="PA">Pará</option>
        <option value="PB">Paraíba</option>
        <option value="PR">Paraná</option>
        <option value="PE">Pernambuco</option>
        <option value="PI">Piauí</option>
        <option value="RJ">Rio de Janeiro</option>
        <option value="RN">Rio Grande do Norte</option>
        <option value="RS">Rio Grande do Sul</option>
        <option value="RO">Rondônia</option>
        <option value="RR">Roraima</option>
        <option value="SC">Santa Catarina</option>
        <option value="SP">São Paulo</option>
        <option value="SE">Sergipe</option>
        <option value="TO">Tocantins</option>
      </select>
      <br />

      <div class="button-group">
        <button class="cadastro-button" type="submit" [disabled]="isLoading">
          {{ isLoading ? "Cadastrando..." : "Cadastrar Funcionário" }}
        </button>
        <button
          class="cadastro-button-secondary"
          type="button"
          (click)="limparFormulario()"
        >
          Limpar
        </button>
      </div>
    </form>
  </div>
</div>
