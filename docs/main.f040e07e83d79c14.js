"use strict";(self.webpackChunktesteTecnico=self.webpackChunktesteTecnico||[]).push([[792],{274:(gn,pt,W)=>{W.d(pt,{H:()=>H});var R=W(1397),$=W(8071);function H(oe,Pe){return(0,$.T)(Pe)?(0,R.Z)(oe,Pe,1):(0,R.Z)(oe,1)}},467:(gn,pt,W)=>{function R(H,oe,Pe,gt,xe,Be,ct){try{var le=H[Be](ct),se=le.value}catch(We){return void Pe(We)}le.done?oe(se):Promise.resolve(se).then(gt,xe)}function $(H){return function(){var oe=this,Pe=arguments;return new Promise(function(gt,xe){var Be=H.apply(oe,Pe);function ct(se){R(Be,gt,xe,ct,le,"next",se)}function le(se){R(Be,gt,xe,ct,le,"throw",se)}ct(void 0)})}}W.d(pt,{A:()=>$})},591:(gn,pt,W)=>{function R($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(pt,{L:()=>R})},980:(gn,pt,W)=>{W.d(pt,{j:()=>$});var R=W(9974);function $(H){return(0,R.N)((oe,Pe)=>{try{oe.subscribe(Pe)}finally{Pe.add(H)}})}},1026:(gn,pt,W)=>{W.d(pt,{$:()=>R});const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(gn,pt,W)=>{W.d(pt,{F:()=>$,m:()=>H});var R=W(3669);function $(...oe){return H(oe)}function H(oe){return 0===oe.length?R.D:1===oe.length?oe[0]:function(gt){return oe.reduce((xe,Be)=>Be(xe),gt)}}},1360:(gn,pt,W)=>{function $(e,t){return Object.is(e,t)}W.d(pt,{iLQ:()=>Sy,sZ2:()=>fa,o8S:()=>Ia,BIS:()=>RI,gRc:()=>kb,Ql9:()=>_x,Ocv:()=>Cx,abz:()=>Ua,Z63:()=>Gi,aKT:()=>rd,uvJ:()=>mi,zcH:()=>Ba,bkB:()=>js,$GK:()=>cn,nKC:()=>jt,zZn:()=>Bi,_q3:()=>aw,MKu:()=>cw,xe9:()=>nw,Co$:()=>bD,Vns:()=>Af,SKi:()=>Hr,Xx1:()=>Bo,Agw:()=>ld,PLl:()=>tp,sFG:()=>Ud,_9s:()=>oo,czy:()=>mu,kdw:()=>wo,C4Q:()=>kd,NYb:()=>wR,giA:()=>tA,RxE:()=>Db,c1b:()=>Hv,gXe:()=>vc,mal:()=>lm,L39:()=>_O,EWP:()=>$y,Ol2:()=>nT,w6W:()=>rS,Rfq:()=>rr,WQX:()=>zt,hFB:()=>zg,QuC:()=>Qn,EmA:()=>Ai,phd:()=>CR,Jn2:()=>wx,HJs:()=>UO,N4e:()=>ho,vPA:()=>id,O8t:()=>xc,H3F:()=>dT,H8p:()=>Cs,KH2:()=>bg,Ua0:()=>dc,wOt:()=>At,WHO:()=>YD,e01:()=>eA,Lf2:()=>ol,H5H:()=>kT,Zy3:()=>hi,mq5:()=>QA,JZv:()=>On,TL3:()=>Xx,LfX:()=>Xt,plB:()=>Df,jNT:()=>mT,zjR:()=>rA,ngT:()=>Wo,TL$:()=>SI,Tbb:()=>nr,Vt3:()=>iT,OA$:()=>Ol,Jv_:()=>eb,R7$:()=>DE,BMQ:()=>ET,HbH:()=>xA,AVh:()=>bT,wni:()=>RC,VBU:()=>RD,FsC:()=>PD,jDH:()=>ne,G2t:()=>lt,$C:()=>rT,EJ8:()=>MD,rXU:()=>dg,nrm:()=>NT,k0s:()=>tI,j41:()=>eI,RV6:()=>WA,xGo:()=>La,KVO:()=>Sr,kS0:()=>h,QTQ:()=>Xw,bIt:()=>VT,lsd:()=>MC,XpG:()=>vC,Y8G:()=>AT,mGM:()=>PC,Njj:()=>Gl,eBV:()=>zl,B4B:()=>qh,n$t:()=>rE,DNE:()=>cT,EFF:()=>jC,JRh:()=>jT,SpI:()=>sI,Lme:()=>$T,DH7:()=>XC,mxI:()=>zT,R50:()=>HT}),W(467);let H=null,oe=!1,Pe=1;const gt=Symbol("SIGNAL");function xe(e){const t=H;return H=e,t}const se={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function We(e){if(oe)throw new Error("");if(null===H)return;H.consumerOnSignalRead(e);const t=H.nextProducerIndex++;Te(H),t<H.producerNode.length&&H.producerNode[t]!==e&&et(H)&&it(H.producerNode[t],H.producerIndexOfThis[t]),H.producerNode[t]!==e&&(H.producerNode[t]=e,H.producerIndexOfThis[t]=et(H)?at(e,H,t):0),H.producerLastReadVersion[t]=e.version}function vt(e){if((!et(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Pe)){if(!e.producerMustRecompute(e)&&!mt(e))return void un(e);e.producerRecomputeValue(e),un(e)}}function Ot(e){if(void 0===e.liveConsumerNode)return;const t=oe;oe=!0;try{for(const r of e.liveConsumerNode)r.dirty||rn(r)}finally{oe=t}}function Cn(){return!1!==H?.consumerAllowSignalWrites}function rn(e){e.dirty=!0,Ot(e),e.consumerMarkedDirty?.(e)}function un(e){e.dirty=!1,e.lastCleanEpoch=Pe}function Nn(e){return e&&(e.nextProducerIndex=0),xe(e)}function En(e,t){if(xe(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(et(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)it(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function mt(e){Te(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(vt(r),o!==r.version))return!0}return!1}function Oe(e){if(Te(e),et(e))for(let t=0;t<e.producerNode.length;t++)it(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function at(e,t,r){if(mn(e),0===e.liveConsumerNode.length&&je(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=at(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function it(e,t){if(mn(e),1===e.liveConsumerNode.length&&je(e))for(let o=0;o<e.producerNode.length;o++)it(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Te(a),a.producerIndexOfThis[o]=t}}function et(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Te(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function mn(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function je(e){return void 0!==e.producerNode}const Bn=Symbol("UNSET"),Xn=Symbol("COMPUTING"),Dt=Symbol("ERRORED"),wn={...se,value:Bn,dirty:!0,error:null,equal:$,kind:"computed",producerMustRecompute:e=>e.value===Bn||e.value===Xn,producerRecomputeValue(e){if(e.value===Xn)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Xn;const r=Nn(e);let o,a=!1;try{o=e.computation(),xe(null),a=t!==Bn&&t!==Dt&&o!==Dt&&e.equal(t,o)}catch(l){o=Dt,e.error=l}finally{En(e,r)}a?e.value=t:(e.value=o,e.version++)}};let Ar=function Nt(){throw new Error};function yt(e){Ar(e)}let Q=null;function Re(e,t){Cn()||yt(e),e.equal(e.value,t)||(e.value=t,function kt(e){e.version++,function Rt(){Pe++}(),Ot(e),Q?.()}(e))}const Wt={...se,equal:$,value:void 0,kind:"signal"};let Jn;function Hn(){return Jn}function tr(e){const t=Jn;return Jn=e,t}const Cr=Symbol("NotFound");Error;var Oi=W(4412),or=W(1413),ln=W(8359),ii=W(6354);const It="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class At extends Error{code;constructor(t,r){super(hi(t,r)),this.code=t}}function hi(e,t){return`${function oi(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const ut=Symbol("InputSignalNode#UNSET"),Ke={...Wt,transformFn:void 0,applyValueToInputSignal(e,t){Re(e,t)}};function Ie(e,t){const r=Object.create(Ke);function o(){if(We(r),r.value===ut)throw new At(-950,null);return r.value}return r.value=e,r.transformFn=t?.transform,o[gt]=r,o}function st(e){return{toString:e}.toString()}const sn="__parameters__";function Et(e,t,r){return st(()=>{const o=function Ut(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...l){if(this instanceof a)return o.apply(this,l),this;const f=new a(...l);return y.annotation=f,y;function y(I,S,x){const U=I.hasOwnProperty(sn)?I[sn]:Object.defineProperty(I,sn,{value:[]})[sn];for(;U.length<=x;)U.push(null);return(U[x]=U[x]||[]).push(f),I}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const On=globalThis;function jn(e){for(let t in e)if(e[t]===jn)return t;throw Error("Could not find renamed property on target object.")}function Ri(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function nr(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(nr).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const r=e.toString();if(null==r)return""+r;const o=r.indexOf("\n");return o>=0?r.slice(0,o):r}function Pi(e,t){return e?t?`${e} ${t}`:e:t||""}const yr=jn({__forward_ref__:jn});function rr(e){return e.__forward_ref__=rr,e.toString=function(){return nr(this())},e}function Vt(e){return Xr(e)?e():e}function Xr(e){return"function"==typeof e&&e.hasOwnProperty(yr)&&e.__forward_ref__===rr}function ne(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function lt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ft(e){return $t(e,tn)||$t(e,vr)}function Xt(e){return null!==Ft(e)}function $t(e,t){return e.hasOwnProperty(t)?e[t]:null}function Sn(e){return e&&(e.hasOwnProperty(Rn)||e.hasOwnProperty(pi))?e[Rn]:null}const tn=jn({\u0275prov:jn}),Rn=jn({\u0275inj:jn}),vr=jn({ngInjectableDef:jn}),pi=jn({ngInjectorDef:jn});class jt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=ne({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Di(e){return e&&!!e.\u0275providers}const Uo=jn({\u0275cmp:jn}),Eo=jn({\u0275dir:jn}),Ts=jn({\u0275pipe:jn}),M=jn({\u0275mod:jn}),Y=jn({\u0275fac:jn}),L=jn({__NG_ELEMENT_ID__:jn}),B=jn({__NG_ENV_ID__:jn});function ae(e){return"string"==typeof e?e:null==e?"":String(e)}function fr(e,t){throw new At(-200,e)}function Pn(e,t){throw new At(-201,!1)}var cn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(cn||{});let qn;function ci(){return qn}function ur(e){const t=qn;return qn=e,t}function so(e,t,r){const o=Ft(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&cn.Optional?null:void 0!==t?t:void Pn()}const De={},he="__NG_DI_FLAG__";class Ne{injector;constructor(t){this.injector=t}retrieve(t,r){return this.injector.get(t,r.optional?Cr:De,r)}}const nt="ngTempTokenPath",hn=/\n/gm,Er="__source";function ao(e,t=cn.Default){if(void 0===Hn())throw new At(-203,!1);if(null===Hn())return so(e,void 0,t);{const r=Hn();let o;return o=r instanceof Ne?r.injector:r,o.get(e,t&cn.Optional?null:void 0,t)}}function Sr(e,t=cn.Default){return(ci()||ao)(Vt(e),t)}function zt(e,t=cn.Default){return Sr(e,ki(t))}function ki(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ws(e){const t=[];for(let r=0;r<e.length;r++){const o=Vt(e[r]);if(Array.isArray(o)){if(0===o.length)throw new At(900,!1);let a,l=cn.Default;for(let f=0;f<o.length;f++){const y=o[f],I=Oc(y);"number"==typeof I?-1===I?a=y.token:l|=I:a=y}t.push(Sr(a,l))}else t.push(Sr(o))}return t}function To(e,t){return e[he]=t,e.prototype[he]=t,e}function Oc(e){return e[he]}const Bo=To(Et("Optional"),8),wo=To(Et("SkipSelf"),4);function qo(e,t){return e.hasOwnProperty(Y)?e[Y]:null}function Js(e,t){e.forEach(r=>Array.isArray(r)?Js(r,t):t(r))}function kc(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Ea(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ur(e,t,r){let o=$n(e,t);return o>=0?e[1|o]=r:(o=~o,function lo(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Lc(e,t){const r=$n(e,t);if(r>=0)return e[1|r]}function $n(e,t){return function Su(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const l=o+(a-o>>1),f=e[l<<r];if(t===f)return l<<r;f>t?a=l:o=l+1}return~(a<<r)}(e,t,1)}const ir={},Qt=[],Gi=new jt(""),Do=new jt("",-1),Rr=new jt("");class os{get(t,r=De){if(r===De){const o=new Error(`NullInjectorError: No provider for ${nr(t)}!`);throw o.name="NullInjectorError",o}return r}}function Ao(e,t){const r=e[M]||null;if(!r&&!0===t)throw new Error(`Type ${nr(e)} does not have '\u0275mod' property.`);return r}function nn(e){return e[Uo]||null}function Zr(e){return e[Eo]||null}function Br(e){return e[Ts]||null}function Qn(e){const t=nn(e)||Zr(e)||Br(e);return null!==t&&t.standalone}function Ai(e){return{\u0275providers:e}}function Ta(...e){return{\u0275providers:Li(0,e),\u0275fromNgModule:!0}}function Li(e,...t){const r=[],o=new Set;let a;const l=f=>{r.push(f)};return Js(t,f=>{const y=f;Ds(y,l,[],o)&&(a||=[],a.push(y))}),void 0!==a&&wa(a,l),r}function wa(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Ko(a,l=>{t(l,o)})}}function Ds(e,t,r,o){if(!(e=Vt(e)))return!1;let a=null,l=Sn(e);const f=!l&&nn(e);if(l||f){if(f&&!f.standalone)return!1;a=e}else{const I=e.ngModule;if(l=Sn(I),!l)return!1;a=I}const y=o.has(a);if(f){if(y)return!1;if(o.add(a),f.dependencies){const I="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const S of I)Ds(S,t,r,o)}}else{if(!l)return!1;{if(null!=l.imports&&!y){let S;o.add(a);try{Js(l.imports,x=>{Ds(x,t,r,o)&&(S||=[],S.push(x))})}finally{}void 0!==S&&wa(S,t)}if(!y){const S=qo(a)||(()=>new a);t({provide:a,useFactory:S,deps:Qt},a),t({provide:Rr,useValue:a,multi:!0},a),t({provide:Gi,useValue:()=>Sr(a),multi:!0},a)}const I=l.providers;if(null!=I&&!y){const S=e;Ko(I,x=>{t(x,S)})}}}return a!==e&&void 0!==e.providers}function Ko(e,t){for(let r of e)Di(r)&&(r=r.\u0275providers),Array.isArray(r)?Ko(r,t):t(r)}const Pu=jn({provide:String,useValue:jn});function As(e){return null!==e&&"object"==typeof e&&Pu in e}function jo(e){return"function"==typeof e}const Cs=new jt(""),Wi={},Ca={};let bo;function Fi(){return void 0===bo&&(bo=new os),bo}class mi{}class yi extends mi{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,bs(t,f=>this.processProvider(f)),this.records.set(Do,So(void 0,this)),a.has("environment")&&this.records.set(mi,So(void 0,this));const l=this.records.get(Cs);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Rr,Qt,cn.Self))}retrieve(t,r){return this.get(t,r.optional?Cr:De,r)}destroy(){Xo(this),this._destroyed=!0;const t=xe(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(t)}}onDestroy(t){return Xo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Xo(this);const r=tr(this),o=ur(void 0);try{return t()}finally{tr(r),ur(o)}}get(t,r=De,o=cn.Default){if(Xo(this),t.hasOwnProperty(B))return t[B](this);o=ki(o);const l=tr(this),f=ur(void 0);try{if(!(o&cn.SkipSelf)){let I=this.records.get(t);if(void 0===I){const S=function Fc(e){return"function"==typeof e||"object"==typeof e&&e instanceof jt}(t)&&Ft(t);I=S&&this.injectableDefInScope(S)?So(Zs(t),Wi):null,this.records.set(t,I)}if(null!=I)return this.hydrate(t,I,o)}return(o&cn.Self?Fi():this.parent).get(t,r=o&cn.Optional&&r===De?null:r)}catch(y){if("NullInjectorError"===y.name){if((y[nt]=y[nt]||[]).unshift(nr(t)),l)throw y;return function qs(e,t,r,o){const a=e[nt];throw t[Er]&&a.unshift(t[Er]),e.message=function Ks(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=nr(t);if(Array.isArray(t))a=t.map(nr).join(" -> ");else if("object"==typeof t){let l=[];for(let f in t)if(t.hasOwnProperty(f)){let y=t[f];l.push(f+":"+("string"==typeof y?JSON.stringify(y):nr(y)))}a=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(hn,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[nt]=null,e}(y,t,"R3InjectorError",this.source)}throw y}finally{ur(f),tr(l)}}resolveInjectorInitializers(){const t=xe(null),r=tr(this),o=ur(void 0);try{const l=this.get(Gi,Qt,cn.Self);for(const f of l)f()}finally{tr(r),ur(o),xe(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(nr(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=jo(t=Vt(t))?t:Vt(t&&t.provide);const o=function ss(e){return As(e)?So(void 0,e.useValue):So(Mu(e),Wi)}(t);if(!jo(t)&&!0===t.multi){let a=this.records.get(r);a||(a=So(void 0,Wi,!0),a.factory=()=>ws(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r,o){const a=xe(null);try{return r.value===Ca?fr(nr(t)):r.value===Wi&&(r.value=Ca,r.value=r.factory(void 0,o)),"object"==typeof r.value&&r.value&&function Ys(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{xe(a)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Vt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Zs(e){const t=Ft(e),r=null!==t?t.factory:qo(e);if(null!==r)return r;if(e instanceof jt)throw new At(204,!1);if(e instanceof Function)return function Rl(e){if(e.length>0)throw new At(204,!1);const r=function dn(e){return e&&(e[tn]||e[vr])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new At(204,!1)}function Mu(e,t,r){let o;if(jo(e)){const a=Vt(e);return qo(a)||Zs(a)}if(As(e))o=()=>Vt(e.useValue);else if(function Aa(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...ws(e.deps||[]));else if(function Qo(e){return!(!e||!e.useExisting)}(e))o=(a,l)=>Sr(Vt(e.useExisting),void 0!==l&&l&cn.Optional?cn.Optional:void 0);else{const a=Vt(e&&(e.useClass||e.provide));if(!function ba(e){return!!e.deps}(e))return qo(a)||Zs(a);o=()=>new a(...ws(e.deps))}return o}function Xo(e){if(e.destroyed)throw new At(205,!1)}function So(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function bs(e,t){for(const r of e)Array.isArray(r)?bs(r,t):r&&Di(r)?bs(r.\u0275providers,t):t(r)}function ho(e,t){let r;e instanceof yi?(Xo(e),r=e):r=new Ne(e);const a=tr(r),l=ur(void 0);try{return t()}finally{tr(a),ur(l)}}function Ro(){return void 0!==ci()||null!=Hn()}const Yt=0,Ye=1,yn=2,jr=3,li=4,_i=5,vi=6,ea=7,Zn=8,Mr=9,to=10,vn=11,us=12,ec=13,Rs=14,Tr=15,ls=16,Sa=17,Ps=18,ds=19,Jo=20,Ht=26,Hc=1,Yo=9,kn=10;function Wr(e){return Array.isArray(e)&&"object"==typeof e[Hc]}function ei(e){return Array.isArray(e)&&!0===e[Hc]}function Ra(e){return!!(4&e.flags)}function po(e){return e.componentOffset>-1}function na(e){return!(1&~e.flags)}function Ki(e){return!!e.template}function go(e){return!!(512&e[yn])}function Ci(e){return!(256&~e[yn])}class Lf{previousValue;currentValue;firstChange;constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function xl(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}const Ol=(()=>{const e=()=>hs;return e.ngInherit=!0,e})();function hs(e){return e.type.prototype.ngOnChanges&&(e.setInput=kl),ra}function ra(){const e=Nu(this),t=e?.current;if(t){const r=e.previous;if(r===ir)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function kl(e,t,r,o,a){const l=this.declaredInputs[o],f=Nu(e)||function Nr(e,t){return e[es]=t}(e,{previous:ir,current:null}),y=f.current||(f.current={}),I=f.previous,S=I[l];y[l]=new Lf(S&&S.currentValue,r,I===ir),xl(e,t,a,r)}const es="__ngSimpleChanges__";function Nu(e){return e[es]||null}const v=function(e,t=null,r){};function V(e){for(;Array.isArray(e);)e=e[Yt];return e}function ye(e,t){return V(t[e])}function ke(e,t){return V(t[e.index])}function _n(e,t){return e.data[t]}function lr(e,t){const r=t[e];return Wr(r)?r:r[Yt]}function mo(e){return!(128&~e[yn])}function xi(e,t){return null==t?null:e[t]}function xs(e){e[Sa]=0}function Os(e){1024&e[yn]||(e[yn]|=1024,mo(e)&&Pa(e))}function Kc(e){return!!(9216&e[yn]||e[24]?.dirty)}function xu(e){e[to].changeDetectionScheduler?.notify(8),64&e[yn]&&(e[yn]|=1024),Kc(e)&&Pa(e)}function Pa(e){e[to].changeDetectionScheduler?.notify(0);let t=Fn(e);for(;null!==t&&!(8192&t[yn])&&(t[yn]|=8192,mo(t));)t=Fn(t)}function Fl(e,t){if(Ci(e))throw new At(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function Fn(e){const t=e[jr];return ei(t)?t[jr]:t}function Vl(e){return e[ea]??=[]}function Ul(e){return e.cleanup??=[]}const Mn={lFrame:ql(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Kd=!1;function ia(){return Mn.bindingsEnabled}function Qe(){return Mn.lFrame.lView}function Dn(){return Mn.lFrame.tView}function zl(e){return Mn.lFrame.contextLView=e,e[Zn]}function Gl(e){return Mn.lFrame.contextLView=null,e}function Kn(){let e=ks();for(;null!==e&&64===e.type;)e=e.parent;return e}function ks(){return Mn.lFrame.currentTNode}function rs(e,t){const r=Mn.lFrame;r.currentTNode=e,r.isParent=t}function Jd(){return Mn.lFrame.isParent}function zo(){return Kd}function Wl(e){const t=Kd;return Kd=e,t}function yo(){return Mn.lFrame.bindingIndex++}function is(e){const t=Mn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Fu(e,t){const r=Mn.lFrame;r.bindingIndex=r.bindingRootIndex=e,Uu(t)}function Uu(e){Mn.lFrame.currentDirectiveIndex=e}function Bu(){return Mn.lFrame.currentQueryIndex}function ju(e){Mn.lFrame.currentQueryIndex=e}function Zd(e){const t=e[Ye];return 2===t.type?t.declTNode:1===t.type?e[_i]:null}function Yd(e,t,r){if(r&cn.SkipSelf){let a=t,l=e;for(;!(a=a.parent,null!==a||r&cn.Host||(a=Zd(l),null===a||(l=l[Rs],10&a.type))););if(null===a)return!1;t=a,e=l}const o=Mn.lFrame=Uf();return o.currentTNode=t,o.lView=e,!0}function eh(e){const t=Uf(),r=e[Ye];Mn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Uf(){const e=Mn.lFrame,t=null===e?null:e.child;return null===t?ql(e):t}function ql(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Pg(){const e=Mn.lFrame;return Mn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const sa=Pg;function Fs(){const e=Pg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xi(){return Mn.lFrame.selectedIndex}function Vs(e){Mn.lFrame.selectedIndex=e}function Yn(){const e=Mn.lFrame;return _n(e.tView,e.selectedIndex)}let Na=!0;function fs(){return Na}function _o(e){Na=e}function Zc(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const l=e.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:x}=l;f&&(e.contentHooks??=[]).push(-r,f),y&&((e.contentHooks??=[]).push(r,y),(e.contentCheckHooks??=[]).push(r,y)),I&&(e.viewHooks??=[]).push(-r,I),S&&((e.viewHooks??=[]).push(r,S),(e.viewCheckHooks??=[]).push(r,S)),null!=x&&(e.destroyHooks??=[]).push(r,x)}}function Yc(e,t,r){jf(e,t,3,r)}function cc(e,t,r,o){(3&e[yn])===r&&jf(e,t,r,o)}function Xl(e,t){let r=e[yn];(3&r)===t&&(r&=16383,r+=1,e[yn]=r)}function jf(e,t,r,o){const l=o??-1,f=t.length-1;let y=0;for(let I=void 0!==o?65535&e[Sa]:0;I<f;I++)if("number"==typeof t[I+1]){if(y=t[I],null!=o&&y>=o)break}else t[I]<0&&(e[Sa]+=65536),(y<l||-1==l)&&(Jl(e,r,t,I),e[Sa]=(4294901760&e[Sa])+I+2),I++}function nh(e,t){v(4,e,t);const r=xe(null);try{t.call(e)}finally{xe(r),v(5,e,t)}}function Jl(e,t,r,o){const a=r[o]<0,l=r[o+1],y=e[a?-r[o]:r[o]];a?e[yn]>>14<e[Sa]>>16&&(3&e[yn])===t&&(e[yn]+=16384,nh(y,l)):nh(y,l)}const aa=-1;class ca{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,o){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=o}}function eu(e){return 3===e||4===e||6===e}function xa(e){return 64===e.charCodeAt(0)}function Go(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||Hu(e,r,a,0,-1===r||2===r?t[++o]:null)}}return e}function Hu(e,t,r,o,a){let l=0,f=e.length;if(-1===t)f=-1;else for(;l<e.length;){const y=e[l++];if("number"==typeof y){if(y===t){f=-1;break}if(y>t){f=l-1;break}}}for(;l<e.length;){const y=e[l];if("number"==typeof y)break;if(y===r)return void(null!==a&&(e[l+1]=a));l++,null!==a&&l++}-1!==f&&(e.splice(f,0,t),l=f+1),e.splice(l++,0,r),null!==a&&e.splice(l++,0,a)}function tu(e){return e!==aa}function nu(e){return 32767&e}function ru(e,t){let r=function Hf(e){return e>>16}(e),o=t;for(;r>0;)o=o[Rs],r--;return o}let rh=!0;function uc(e){const t=rh;return rh=e,t}const ih=255,Yl=5;let oh=0;const ps={};function iu(e,t){const r=Wu(e,t);if(-1!==r)return r;const o=t[Ye];o.firstCreatePass&&(e.injectorIndex=t.length,Gu(o.data,e),Gu(t,null),Gu(o.blueprint,null));const a=lc(e,t),l=e.injectorIndex;if(tu(a)){const f=nu(a),y=ru(a,t),I=y[Ye].data;for(let S=0;S<8;S++)t[l+S]=y[f+S]|I[f+S]}return t[l+8]=a,l}function Gu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function lc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=E(a),null===o)return aa;if(r++,a=a[Rs],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return aa}function sh(e,t,r){!function zu(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(L)&&(o=r[L]),null==o&&(o=r[L]=oh++);const a=o&ih;t.data[e+(a>>Yl)]|=1<<a}(e,t,r)}function Oa(e,t,r){if(r&cn.Optional||void 0!==e)return e;Pn()}function qu(e,t,r,o){if(r&cn.Optional&&void 0===o&&(o=null),!(r&(cn.Self|cn.Host))){const a=e[Mr],l=ur(void 0);try{return a?a.get(t,o,r&cn.Optional):so(t,o,r&cn.Optional)}finally{ur(l)}}return Oa(o,0,r)}function ou(e,t,r,o=cn.Default,a){if(null!==e){if(2048&t[yn]&&!(o&cn.Self)){const f=function su(e,t,r,o,a){let l=e,f=t;for(;null!==l&&null!==f&&2048&f[yn]&&!go(f);){const y=Ku(l,f,r,o|cn.Self,ps);if(y!==ps)return y;let I=l.parent;if(!I){const S=f[Jo];if(S){const x=S.get(r,ps,o);if(x!==ps)return x}I=E(f),f=f[Rs]}l=I}return a}(e,t,r,o,ps);if(f!==ps)return f}const l=Ku(e,t,r,o,ps);if(l!==ps)return l}return qu(t,r,o,a)}function Ku(e,t,r,o,a){const l=function uh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(L)?e[L]:void 0;return"number"==typeof t?t>=0?t&ih:lh:t}(r);if("function"==typeof l){if(!Yd(t,e,o))return o&cn.Host?Oa(a,0,o):qu(t,r,o,a);try{let f;if(f=l(o),null!=f||o&cn.Optional)return f;Pn()}finally{sa()}}else if("number"==typeof l){let f=null,y=Wu(e,t),I=aa,S=o&cn.Host?t[Tr][_i]:null;for((-1===y||o&cn.SkipSelf)&&(I=-1===y?lc(e,t):t[y+8],I!==aa&&Xu(o,!1)?(f=t[Ye],y=nu(I),t=ru(I,t)):y=-1);-1!==y;){const x=t[Ye];if(Qu(l,y,x.data)){const U=ch(y,t,r,f,o,S);if(U!==ps)return U}I=t[y+8],I!==aa&&Xu(o,t[Ye].data[y+8]===S)&&Qu(l,y,t)?(f=x,y=nu(I),t=ru(I,t)):y=-1}}return a}function ch(e,t,r,o,a,l){const f=t[Ye],y=f.data[e+8],x=ka(y,f,r,null==o?po(y)&&rh:o!=f&&!!(3&y.type),a&cn.Host&&l===y);return null!==x?Ii(t,f,x,y,a):ps}function ka(e,t,r,o,a){const l=e.providerIndexes,f=t.data,y=1048575&l,I=e.directiveStart,x=l>>20,ee=a?y+x:e.directiveEnd;for(let K=o?y:y+x;K<ee;K++){const _e=f[K];if(K<I&&r===_e||K>=I&&_e.type===r)return K}if(a){const K=f[I];if(K&&Ki(K)&&K.type===r)return I}return null}function Ii(e,t,r,o,a){let l=e[r];const f=t.data;if(l instanceof ca){const y=l;y.resolving&&fr(function qe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ae(e)}(f[r]));const I=uc(y.canSeeViewProviders);y.resolving=!0;const x=y.injectImpl?ur(y.injectImpl):null;Yd(e,o,cn.Default);try{l=e[r]=y.factory(void 0,a,f,e,o),t.firstCreatePass&&r>=o.directiveStart&&function th(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:l}=t.type.prototype;if(o){const f=hs(t);(r.preOrderHooks??=[]).push(e,f),(r.preOrderCheckHooks??=[]).push(e,f)}a&&(r.preOrderHooks??=[]).push(0-e,a),l&&((r.preOrderHooks??=[]).push(e,l),(r.preOrderCheckHooks??=[]).push(e,l))}(r,f[r],t)}finally{null!==x&&ur(x),uc(I),y.resolving=!1,sa()}}return l}function Qu(e,t,r){return!!(r[t+(e>>Yl)]&1<<e)}function Xu(e,t){return!(e&cn.Self||e&cn.Host&&t)}class xr{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return ou(this._tNode,this._lView,t,ki(o),r)}}function lh(){return new xr(Kn(),Qe())}function La(e){return st(()=>{const t=e.prototype.constructor,r=t[Y]||dh(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const l=a[Y]||dh(a);if(l&&l!==r)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function dh(e){return Xr(e)?()=>{const t=dh(Vt(e));return t&&t()}:qo(e)}function E(e){const t=e[Ye],r=t.type;return 2===r?t.declTNode:1===r?e[_i]:null}function h(e){return function ah(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const l=r[a];if(eu(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(l===t)return r[a+1];a+=2}}}return null}(Kn(),e)}function Fa(e,t=null,r=null,o){const a=Va(e,t,r,o);return a.resolveInjectorInitializers(),a}function Va(e,t=null,r=null,o,a=new Set){const l=[r||Qt,Ta(e)];return o=o||("object"==typeof e?void 0:nr(e)),new yi(l,t||Fi(),o||null,a)}class Bi{static THROW_IF_NOT_FOUND=De;static NULL=new os;static create(t,r){if(Array.isArray(t))return Fa({name:""},r,t,"");{const o=t.name??"";return Fa({name:o},t.parent,t.providers,o)}}static \u0275prov=ne({token:Bi,providedIn:"any",factory:()=>Sr(Do)});static __NG_ELEMENT_ID__=-1}new jt("").__NG_ELEMENT_ID__=e=>{const t=Kn();if(null===t)throw new At(204,!1);if(2&t.type)return t.value;if(e&cn.Optional)return null;throw new At(204,!1)};const Wy=!1;let Ua=(()=>class e{static __NG_ELEMENT_ID__=Og;static __NG_ENV_ID__=r=>r})();class qy extends Ua{_lView;constructor(t){super(),this._lView=t}onDestroy(t){const r=this._lView;return Ci(r)?(t(),()=>{}):(Fl(r,t),()=>function di(e,t){if(null===e[21])return;const r=e[21].indexOf(t);-1!==r&&e[21].splice(r,1)}(r,t))}}function Og(){return new qy(Qe())}class qr{}const hh=new jt("",{providedIn:"root",factory:()=>!1}),Ky=new jt(""),kg=new jt("");let dc=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Oi.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ne({token:e,providedIn:"root",factory:()=>new e})}return e})();const js=class Gf extends or.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Ro()&&(this.destroyRef=zt(Ua,{optional:!0})??void 0,this.pendingTasks=zt(dc,{optional:!0})??void 0)}emit(t){const r=xe(null);try{super.next(t)}finally{xe(r)}}subscribe(t,r,o){let a=t,l=r||(()=>null),f=o;if(t&&"object"==typeof t){const I=t;a=I.next?.bind(I),l=I.error?.bind(I),f=I.complete?.bind(I)}this.__isAsync&&(l=this.wrapInTimeout(l),a&&(a=this.wrapInTimeout(a)),f&&(f=this.wrapInTimeout(f)));const y=super.subscribe({next:a,error:l,complete:f});return t instanceof ln.yU&&t.add(y),y}wrapInTimeout(t){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{try{t(r)}finally{void 0!==o&&this.pendingTasks?.remove(o)}})}}};function fh(...e){}function Lg(e){let t,r;function o(){e=fh;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function hc(e){return queueMicrotask(()=>e()),()=>{e=fh}}const ph="isAngularZone",ed=ph+"_ID";let Jy=0;class Hr{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new js(!1);onMicrotaskEmpty=new js(!1);onStable=new js(!1);onError=new js(!1);constructor(t){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:l=Wy}=t;if(typeof Zone>"u")throw new At(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!a&&o,f.shouldCoalesceRunChangeDetection=a,f.callbackScheduled=!1,f.scheduleInRootZone=l,function Vg(e){const t=()=>{!function Fg(e){function t(){Lg(()=>{e.callbackScheduled=!1,Ug(e),e.isCheckStableRunning=!0,td(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ug(e))}(e)},r=Jy++;e._inner=e._inner.fork({name:"angular",properties:{[ph]:!0,[ed]:r,[ed+r]:!0},onInvokeTask:(o,a,l,f,y,I)=>{if(function II(e){return $g(e,"__ignore_ng_zone__")}(I))return o.invokeTask(l,f,y,I);try{return Bg(e),o.invokeTask(l,f,y,I)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),Wf(e)}},onInvoke:(o,a,l,f,y,I,S)=>{try{return Bg(e),o.invoke(l,f,y,I,S)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Zy(e){return $g(e,"__scheduler_tick__")}(I)&&t(),Wf(e)}},onHasTask:(o,a,l,f)=>{o.hasTask(l,f),a===l&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,Ug(e),td(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,l,f)=>(o.handleError(l,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(ph)}static assertInAngularZone(){if(!Hr.isInAngularZone())throw new At(909,!1)}static assertNotInAngularZone(){if(Hr.isInAngularZone())throw new At(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+a,t,gh,fh,fh);try{return l.runTask(f,r,o)}finally{l.cancelTask(f)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const gh={};function td(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ug(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Bg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wf(e){e._nesting--,td(e)}class jg{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new js;onMicrotaskEmpty=new js;onStable=new js;onError=new js;run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function $g(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Ba{_console=console;handleError(t){this._console.error("ERROR",t)}}const Yy=new jt("",{providedIn:"root",factory:()=>{const e=zt(Hr),t=zt(Ba);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Ju(e,t){return Ie(e,t)}const zg=(Ju.required=function nd(e){return Ie(ut,e)},Ju);function qf(){return Zu(Kn(),Qe())}function Zu(e,t){return new rd(ke(e,t))}let rd=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=qf})();function Gg(e){return e instanceof rd?e.nativeElement:e}function id(e,t){const r=function Se(e,t){const r=Object.create(Wt);r.value=e,void 0!==t&&(r.equal=t);const o=()=>(We(r),r.value);return o[gt]=r,o}(e,t?.equal),o=r[gt];return r.set=a=>Re(o,a),r.update=a=>function ot(e,t){Cn()||yt(e),Re(e,t(e.value))}(o,a),r.asReadonly=od.bind(r),r}function od(){const e=this[gt];if(void 0===e.readonlyFn){const t=()=>this();t[gt]=e,e.readonlyFn=t}return e.readonlyFn}function Wg(e){return function t_(e){return"function"==typeof e&&void 0!==e[gt]}(e)&&"function"==typeof e.set}function r_(){return this._results[Symbol.iterator]()}class i_{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new or.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function gi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Xa(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o];if(r&&(a=r(a),l=r(l)),l!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=r_}function cu(e){return!(128&~e.flags)}var ad=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ad||{});const cd=new Map;let qg=0;function Kf(e){cd.delete(e[ds])}const Jg="__ngContext__";function Or(e,t){Wr(t)?(e[Jg]=t[ds],function TI(e){cd.set(e[ds],e)}(t)):e[Jg]=t}function l_(e){return Zf(e[us])}function ud(e){return Zf(e[li])}function Zf(e){for(;null!==e&&!ei(e);)e=e[li];return e}let Eh;function SI(e){Eh=e}const fa=new jt("",{providedIn:"root",factory:()=>rm}),rm="ng",tp=new jt(""),ld=new jt("",{providedIn:"platform",factory:()=>"unknown"}),RI=new jt("",{providedIn:"root",factory:()=>function $s(){if(void 0!==Eh)return Eh;if(typeof document<"u")return document;throw new At(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),op=new jt("",{providedIn:"root",factory:()=>!1});var bh=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(bh||{});const ol=new jt(""),ap=new Set;function Wo(e){ap.has(e)||(ap.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let fd=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=E_})();function E_(){return new fd(Qe(),Kn())}var sl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(sl||{});let cp=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=ne({token:e,providedIn:"root",factory:()=>new e})}return e})();const um=[sl.EarlyRead,sl.Write,sl.MixedReadWrite,sl.Read];let mc=(()=>{class e{ngZone=zt(Hr);scheduler=zt(qr);errorHandler=zt(Ba,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){zt(ol,{optional:!0})}execute(){const r=this.sequences.size>0;r&&v(16),this.executing=!0;for(const o of um)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[o])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,a.hooks[o])(a.pipelinedValue),a.snapshot))}catch(l){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(l)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&v(17)}register(r){const{view:o}=r;void 0!==o?((o[25]??=[]).push(r),Pa(o),o[yn]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(bh.AFTER_NEXT_RENDER,r):r()}static \u0275prov=ne({token:e,providedIn:"root",factory:()=>new e})}return e})();class T_{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,r,o,a,l,f=null){this.impl=t,this.hooks=r,this.view=o,this.once=a,this.snapshot=f,this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(r=>r!==this))}}function lm(e,t){!t?.injector&&function fo(e){if(!Ro())throw new At(-203,!1)}();const r=t?.injector??zt(Bi);return Wo("NgAfterNextRender"),function up(e,t,r,o){const a=t.get(cp);a.impl??=t.get(mc);const l=t.get(ol,null,{optional:!0}),f=r?.phase??sl.MixedReadWrite,y=!0!==r?.manualCleanup?t.get(Ua):null,I=t.get(fd,null,{optional:!0}),S=new T_(a.impl,function MI(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,f),I?.view,o,y,l?.snapshot(null));return a.impl.register(S),S}(e,r,t,!0)}let M_=(e,t,r,o)=>{};function zI(e,t){const r=e.contentQueries;if(null!==r){const o=xe(null);try{for(let a=0;a<r.length;a+=2){const f=r[a+1];if(-1!==f){const y=e.data[f];ju(r[a]),y.contentQueries(2,t[f],f)}}}finally{xe(o)}}}function Lr(e,t,r){ju(0);const o=xe(null);try{t(e,r)}finally{xe(o)}}function j_(e,t,r){if(Ra(t)){const o=xe(null);try{const l=t.directiveEnd;for(let f=t.directiveStart;f<l;f++){const y=e.data[f];y.contentQueries&&y.contentQueries(1,r[f],f)}}finally{xe(o)}}}var vc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(vc||{});let Td;function qI(e){return function Ap(){if(void 0===Td&&(Td=null,On.trustedTypes))try{Td=On.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Td}()?.createScriptURL(e)||e}class KI{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${It})`}}function $i(e){return e instanceof KI?e.changingThisBreaksApplicationSecurity:e}function ga(e,t){const r=function Cw(e){return e instanceof KI&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${It})`)}return r===t}const pl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ma=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ma||{});function qh(e){const t=Vp();return t?t.sanitize(ma.URL,e)||"":ga(e,"URL")?$i(e):function wd(e){return(e=String(e)).match(pl)?e:"unsafe:"+e}(ae(e))}function X_(e){const t=Vp();if(t)return qI(t.sanitize(ma.RESOURCE_URL,e)||"");if(ga(e,"ResourceURL"))return qI($i(e));throw new At(904,!1)}function rE(e,t,r){return function Fp(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?X_:qh}(t,r)(e)}function Vp(){const e=Qe();return e&&e[to].sanitizer}function wc(e){return e instanceof Function?e():e}function Fm(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const l=t.length;if(a+l===o||e.charCodeAt(a+l)<=32)return a}r=a+1}}const dE="ng-template";function hE(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==Fm(t[a+1].toLowerCase(),r,0))return!0}else if(Vm(e))return!1;if(a=t.indexOf(1,a),a>-1){let l;for(;++a<t.length&&"string"==typeof(l=t[a]);)if(l.toLowerCase()===r)return!0}return!1}function Vm(e){return 4===e.type&&e.value!==dE}function fE(e,t,r){return t===(4!==e.type||r?e.value:dE)}function pE(e,t,r){let o=4;const a=e.attrs,l=null!==a?function $w(e){for(let t=0;t<e.length;t++)if(eu(e[t]))return t;return e.length}(a):0;let f=!1;for(let y=0;y<t.length;y++){const I=t[y];if("number"!=typeof I){if(!f)if(4&o){if(o=2|1&o,""!==I&&!fE(e,I,r)||""===I&&1===t.length){if(ya(o))return!1;f=!0}}else if(8&o){if(null===a||!hE(e,a,I,r)){if(ya(o))return!1;f=!0}}else{const S=t[++y],x=Bw(I,a,Vm(e),r);if(-1===x){if(ya(o))return!1;f=!0;continue}if(""!==S){let U;if(U=x>l?"":a[x+1].toLowerCase(),2&o&&S!==U){if(ya(o))return!1;f=!0}}}}else{if(!f&&!ya(o)&&!ya(I))return!1;if(f&&ya(I))continue;f=!1,o=I|1&o}}return ya(o)||f}function ya(e){return!(1&e)}function Bw(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let l=!1;for(;a<t.length;){const f=t[a];if(f===e)return a;if(3===f||6===f)l=!0;else{if(1===f||2===f){let y=t[++a];for(;"string"==typeof y;)y=t[++a];continue}if(4===f)break;if(0===f){a+=4;continue}}a+=l?1:2}return-1}return function mE(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function gE(e,t,r=!1){for(let o=0;o<t.length;o++)if(pE(e,t[o],r))return!0;return!1}function sv(e,t){return e?":not("+t.trim()+")":t}function Hw(e){let t=e[0],r=1,o=2,a="",l=!1;for(;r<e.length;){let f=e[r];if("string"==typeof f)if(2&o){const y=e[++r];a+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&o?a+="."+f:4&o&&(a+=" "+f);else""!==a&&!ya(f)&&(t+=sv(l,a),a=""),o=f,l=l||!ya(o);r++}return""!==a&&(t+=sv(l,a)),t}const bn={};function Bm(e,t,r){return e.createElement(t,r)}function Cd(e,t,r,o,a){e.insertBefore(t,r,o,a)}function IE(e,t,r){e.appendChild(t,r)}function EE(e,t,r,o,a){null!==o?Cd(e,t,r,o,a):IE(e,t,r)}function jm(e,t,r){const{mergedAttrs:o,classes:a,styles:l}=r;null!==o&&function xg(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const l=r[o++],f=r[o++],y=r[o++];e.setAttribute(t,f,y,l)}else{const l=a,f=r[++o];xa(l)?e.setProperty(t,l,f):e.setAttribute(t,l,f),o++}}}(e,t,o),null!==a&&function Gw(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}(e,t,a),null!==l&&function zw(e,t,r){e.setAttribute(t,"style",r)}(e,t,l)}function $m(e,t,r,o,a,l,f,y,I,S,x){const U=Ht+o,ee=U+a,K=function Ww(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:bn);return r}(U,ee),_e="function"==typeof S?S():S;return K[Ye]={type:e,blueprint:K,template:r,queries:null,viewQuery:y,declTNode:t,data:K.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:I,consts:_e,incompleteFirstPass:!1,ssrId:x}}function Hm(e,t,r,o,a,l,f,y,I,S,x){const U=t.blueprint.slice();return U[Yt]=a,U[yn]=1228|o,(null!==S||e&&2048&e[yn])&&(U[yn]|=2048),xs(U),U[jr]=U[Rs]=e,U[Zn]=r,U[to]=f||e&&e[to],U[vn]=y||e&&e[vn],U[Mr]=I||e&&e[Mr]||null,U[_i]=l,U[ds]=function s_(){return qg++}(),U[vi]=x,U[Jo]=S,U[Tr]=2==t.type?e[Tr]:U,U}function Hp(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function bd(e,t,r,o){if(0===r)return-1;const a=t.length;for(let l=0;l<r;l++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function uv(e,t){return e[us]?e[ec][li]=t:e[us]=t,e[ec]=t,t}function DE(e=1){AE(Dn(),Qe(),Xi()+e,!1)}function AE(e,t,r,o){if(!o)if(3&~t[yn]){const l=e.preOrderHooks;null!==l&&cc(t,l,0,r)}else{const l=e.preOrderCheckHooks;null!==l&&Yc(t,l,r)}Vs(r)}var Sd=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Sd||{});function Rd(e,t,r,o){const a=xe(null);try{const[l,f,y]=e.inputs[r];let I=null;!!(f&Sd.SignalBased)&&(I=t[l][gt]),null!==I&&void 0!==I.transformFn?o=I.transformFn(o):null!==y&&(o=y.call(t,o)),null!==e.setInput?e.setInput(t,I,o,r,l):xl(t,I,l,o)}finally{xe(a)}}function c(e,t,r,o,a){const l=Xi(),f=2&o;try{Vs(-1),f&&t.length>Ht&&AE(e,t,Ht,!1),v(f?2:0,a),r(o,a)}finally{Vs(l),v(f?3:1,a)}}function n(e,t,r){(function ze(e,t,r){const o=r.directiveStart,a=r.directiveEnd;po(r)&&function qw(e,t,r){const o=ke(t,e),a=function wE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=$m(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(r),l=e[to].rendererFactory,f=uv(e,Hm(e,a,null,Hp(r),o,t,null,l.createRenderer(o,r),null,null,null));e[t.index]=f}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||iu(r,t);const l=r.initialInputs;for(let f=o;f<a;f++){const y=e.data[f],I=Ii(t,e,f,r);Or(I,t),null!==l&&pn(0,f-o,I,y,0,l),Ki(y)&&(lr(r.index,t)[Zn]=Ii(t,e,f,r))}})(e,t,r),!(64&~r.flags)&&function tt(e,t,r){const o=r.directiveStart,a=r.directiveEnd,l=r.index,f=function Vu(){return Mn.lFrame.currentDirectiveIndex}();try{Vs(l);for(let y=o;y<a;y++){const I=e.data[y],S=t[y];Uu(y),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&wt(I,S)}}finally{Vs(-1),Uu(f)}}(e,t,r)}function i(e,t,r=ke){const o=t.localNames;if(null!==o){let a=t.index+1;for(let l=0;l<o.length;l+=2){const f=o[l+1],y=-1===f?r(t,e):e[f];e[a++]=y}}}let d=()=>null;function P(e,t,r,o,a,l,f,y){if(y||!Ae(t,e,r,o,a)){if(3&t.type){const I=ke(t,r);o=function C(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=f?f(a,t.value||"",o):a,l.setProperty(I,o,a)}}else po(t)&&function F(e,t){const r=lr(t,e);16&r[yn]||(r[yn]|=64)}(r,t.index)}function wt(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function _t(e,t){const r=e.directiveRegistry;let o=null;if(r)for(let a=0;a<r.length;a++){const l=r[a];gE(t,l.selectors,!1)&&(o??=[],Ki(l)?o.unshift(l):o.push(l))}return o}function qt(e,t,r,o,a,l){const f=ke(e,t);!function An(e,t,r,o,a,l,f){if(null==l)e.removeAttribute(t,a,r);else{const y=null==f?ae(l):f(l,o||"",a);e.setAttribute(t,a,y,r)}}(t[vn],f,l,e.value,r,o,a)}function pn(e,t,r,o,a,l){const f=l[t];if(null!==f)for(let y=0;y<f.length;y+=2)Rd(o,r,f[y],f[y+1])}function Ae(e,t,r,o,a){const l=e.inputs?.[o],f=e.hostDirectiveInputs?.[o];let y=!1;if(f)for(let I=0;I<f.length;I+=2){const S=f[I];Rd(t.data[S],r[S],f[I+1],a),y=!0}if(l)for(const I of l)Rd(t.data[I],r[I],o,a),y=!0;return y}function ue(e,t){const r=lr(t,e),o=r[Ye];!function pe(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Yt];null!==a&&null===r[vi]&&(r[vi]=null),v(18),be(o,r,r[Zn]),v(19,r[Zn])}function be(e,t,r){eh(t);try{const o=e.viewQuery;null!==o&&Lr(1,o,r);const a=e.template;null!==a&&c(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ps]?.finishViewCreation(e),e.staticContentQueries&&zI(e,t),e.staticViewQueries&&Lr(2,e.viewQuery,r);const l=e.components;null!==l&&function Le(e,t){for(let r=0;r<t.length;r++)ue(e,t[r])}(t,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[yn]&=-5,Fs()}}function fe(e,t){return!t||null===t.firstChild||cu(e)}function yl(e,t){return undefined(e,t)}var mu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(mu||{});function zs(e){return!(32&~e.flags)}function yu(e,t,r,o,a){if(null!=o){let l,f=!1;ei(o)?l=o:Wr(o)&&(f=!0,o=o[Yt]);const y=V(o);0===e&&null!==r?null==a?IE(t,r,y):Cd(t,r,y,a||null,!0):1===e&&null!==r?Cd(t,r,y,a||null,!0):2===e?function $p(e,t,r){e.removeChild(null,t,r)}(t,y,f):3===e&&t.destroyNode(y),null!=l&&function Km(e,t,r,o,a){const l=r[7];l!==V(r)&&yu(t,e,o,l,a);for(let y=kn;y<r.length;y++){const I=r[y];Pd(I[Ye],I,e,t,o,l)}}(t,e,l,r,a)}}function Dc(e,t){t[to].changeDetectionScheduler?.notify(9),Pd(e,t,t[vn],2,null,null)}function Gm(e,t){const r=e[Yo],o=r.indexOf(t);r.splice(o,1)}function Ac(e,t){if(Ci(t))return;const r=t[vn];r.destroyNode&&Pd(e,t,r,3,null,null),function ko(e){let t=e[us];if(!t)return Wm(e[Ye],e);for(;t;){let r=null;if(Wr(t))r=t[us];else{const o=t[kn];o&&(r=o)}if(!r){for(;t&&!t[li]&&t!==e;)Wr(t)&&Wm(t[Ye],t),t=t[jr];null===t&&(t=e),Wr(t)&&Wm(t[Ye],t),r=t&&t[li]}t=r}}(t)}function Wm(e,t){if(Ci(t))return;const r=xe(null);try{t[yn]&=-129,t[yn]|=256,t[24]&&Oe(t[24]),function SE(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof ca)){const l=r[o+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const y=a[l[f]],I=l[f+1];v(4,y,I);try{I.call(y)}finally{v(5,y,I)}}else{v(4,a,l);try{l.call(a)}finally{v(5,a,l)}}}}}(e,t),function Qh(e,t){const r=e.cleanup,o=t[ea];if(null!==r)for(let f=0;f<r.length-1;f+=2)if("string"==typeof r[f]){const y=r[f+3];y>=0?o[y]():o[-y].unsubscribe(),f+=2}else r[f].call(o[r[f+1]]);null!==o&&(t[ea]=null);const a=t[21];if(null!==a){t[21]=null;for(let f=0;f<a.length;f++)(0,a[f])()}const l=t[23];if(null!==l){t[23]=null;for(const f of l)f.destroy()}}(e,t),1===t[Ye].type&&t[vn].destroy();const o=t[ls];if(null!==o&&ei(t[jr])){o!==t[jr]&&Gm(o,t);const a=t[Ps];null!==a&&a.detachView(e)}Kf(t)}finally{xe(r)}}function qm(e,t,r){return function Xh(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[Yt];if(po(o)){const{encapsulation:a}=e.data[o.directiveStart+o.componentOffset];if(a===vc.None||a===vc.Emulated)return null}return ke(o,r)}(e,t.parent,r)}let Zh,Gp=function zp(e,t,r){return 40&e.type?ke(e,r):null};function Yh(e,t,r,o){const a=qm(e,o,t),l=t[vn],y=function Jh(e,t,r){return Gp(e,t,r)}(o.parent||t[_i],o,t);if(null!=a)if(Array.isArray(r))for(let I=0;I<r.length;I++)EE(l,a,r[I],y,!1);else EE(l,a,r,y,!1);void 0!==Zh&&Zh(l,o,t,r,a)}function _u(e,t){if(null!==t){const r=t.type;if(3&r)return ke(t,e);if(4&r)return qp(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return _u(e,o);{const a=e[t.index];return ei(a)?qp(-1,a):V(a)}}if(128&r)return _u(e,t.next);if(32&r)return yl(t,e)()||V(e[t.index]);{const o=lv(e,t);return null!==o?Array.isArray(o)?o[0]:_u(Fn(e[Tr]),o):_u(e,t.next)}}return null}function lv(e,t){return null!==t?e[Tr][_i].projection[t.projection]:null}function qp(e,t){const r=kn+e+1;if(r<t.length){const o=t[r],a=o[Ye].firstChild;if(null!==a)return _u(o,a)}return t[7]}function Kp(e,t,r,o,a,l,f){for(;null!=r;){if(128===r.type){r=r.next;continue}const y=o[r.index],I=r.type;if(f&&0===t&&(y&&Or(V(y),o),r.flags|=2),!zs(r))if(8&I)Kp(e,t,r.child,o,a,l,!1),yu(t,e,a,y,l);else if(32&I){const S=yl(r,o);let x;for(;x=S();)yu(t,e,a,x,l);yu(t,e,a,y,l)}else 16&I?hv(e,t,o,r,a,l):yu(t,e,a,y,l);r=f?r.projectionNext:r.next}}function Pd(e,t,r,o,a,l){Kp(r,o,e.firstChild,t,a,l,!1)}function hv(e,t,r,o,a,l){const f=r[Tr],I=f[_i].projection[o.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)yu(t,e,a,I[S],l);else{let S=I;const x=f[jr];cu(o)&&(S.flags|=128),Kp(e,t,S,x,a,l,!0)}}function vu(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const l=t[r.index];null!==l&&o.push(V(l)),ei(l)&&ro(l,o);const f=r.type;if(8&f)vu(e,t,r.child,o);else if(32&f){const y=yl(r,t);let I;for(;I=y();)o.push(I)}else if(16&f){const y=lv(t,r);if(Array.isArray(y))o.push(...y);else{const I=Fn(t[Tr]);vu(I[Ye],I,y,o,!0)}}r=a?r.projectionNext:r.next}return o}function ro(e,t){for(let r=kn;r<e.length;r++){const o=e[r],a=o[Ye].firstChild;null!==a&&vu(o[Ye],o,a,t)}e[7]!==e[Yt]&&t.push(e[7])}function Lo(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let ef=[];const tf={...se,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Pa(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},mv={...se,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Fn(e.lView);for(;t&&!Qp(t[Ye]);)t=Fn(t);t&&Os(t)},consumerOnSignalRead(){this.lView[24]=this}};function Qp(e){return 2!==e.type}function yv(e){if(null===e[23])return;let t=!0;for(;t;){let r=!1;for(const o of e[23])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=r&&!!(8192&e[yn])}}function Md(e,t=!0,r=0){const a=e[to].rendererFactory;a.begin?.();try{!function _v(e,t){const r=zo();try{Wl(!0),xd(e,t);let o=0;for(;Kc(e);){if(100===o)throw new At(103,!1);o++,xd(e,1)}}finally{Wl(r)}}(e,r)}catch(f){throw t&&function pr(e,t){const r=e[Mr],o=r?r.get(Ba,null):null;o&&o.handleError(t)}(e,f),f}finally{a.end?.()}}function Nd(e,t,r,o){if(Ci(t))return;const a=t[yn];eh(t);let y=!0,I=null,S=null;Qp(e)?(S=function fv(e){return e[24]??function pv(e){const t=ef.pop()??Object.create(tf);return t.lView=e,t}(e)}(t),I=Nn(S)):null===function Be(){return H}()?(y=!1,S=function gv(e){const t=e[24]??Object.create(mv);return t.lView=e,t}(t),I=Nn(S)):t[24]&&(Oe(t[24]),t[24]=null);try{xs(t),function ku(e){return Mn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&c(e,t,r,2,o);const x=!(3&~a);if(x){const K=e.preOrderCheckHooks;null!==K&&Yc(t,K,null)}else{const K=e.preOrderHooks;null!==K&&cc(t,K,0,null),Xl(t,0)}if(function Jm(e){for(let t=l_(e);null!==t;t=ud(t)){if(!(2&t[yn]))continue;const r=t[Yo];for(let o=0;o<r.length;o++)Os(r[o])}}(t),yv(t),Xp(t,0),null!==e.contentQueries&&zI(e,t),x){const K=e.contentCheckHooks;null!==K&&Yc(t,K)}else{const K=e.contentHooks;null!==K&&cc(t,K,1),Xl(t,1)}!function nf(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)Vs(~a);else{const l=a,f=r[++o],y=r[++o];Fu(f,l);const I=t[l];v(24,I),y(2,I),v(25,I)}}}finally{Vs(-1)}}(e,t);const U=e.components;null!==U&&Ym(t,U,0);const ee=e.viewQuery;if(null!==ee&&Lr(2,ee,o),x){const K=e.viewCheckHooks;null!==K&&Yc(t,K)}else{const K=e.viewHooks;null!==K&&cc(t,K,2),Xl(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const K of t[22])K();t[22]=null}Lo(t),t[yn]&=-73}catch(x){throw Pa(t),x}finally{null!==S&&(En(S,I),y&&function RE(e){e.lView[24]!==e&&(e.lView=null,ef.push(e))}(S)),Fs()}}function Xp(e,t){for(let r=l_(e);null!==r;r=ud(r))for(let o=kn;o<r.length;o++)Zm(r[o],t)}function _l(e,t,r){v(18);const o=lr(t,e);Zm(o,r),v(19,o[Zn])}function Zm(e,t){mo(e)&&xd(e,t)}function xd(e,t){const o=e[Ye],a=e[yn],l=e[24];let f=!!(0===t&&16&a);if(f||=!!(64&a&&0===t),f||=!!(1024&a),f||=!(!l?.dirty||!mt(l)),f||=!1,l&&(l.dirty=!1),e[yn]&=-9217,f)Nd(o,e,o.template,e[Zn]);else if(8192&a){yv(e),Xp(e,1);const y=o.components;null!==y&&Ym(e,y,1),Lo(e)}}function Ym(e,t,r){for(let o=0;o<t.length;o++)_l(e,t[o],r)}function Od(e,t){const r=zo()?64:1088;for(e[to].changeDetectionScheduler?.notify(t);e;){e[yn]|=r;const o=Fn(e);if(go(e)&&!o)return e;e=o}return null}function Fo(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function rf(e,t){if(e.length<=kn)return;const r=kn+t,o=e[r];if(o){const a=o[ls];null!==a&&a!==e&&Gm(a,o),t>0&&(e[r-1][li]=o[li]);const l=Ea(e,kn+t);!function zm(e,t){Dc(e,t),t[Yt]=null,t[_i]=null}(o[Ye],o);const f=l[Ps];null!==f&&f.detachView(l[Ye]),o[jr]=null,o[li]=null,o[yn]&=-129}return o}function Il(e,t){const r=e[Yo],o=t[jr];(Wr(o)||t[Tr]!==o[jr][Tr])&&(e[yn]|=2),null===r?e[Yo]=[t]:r.push(t)}let sf=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,r=t[Ye];return vu(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[Zn]}set context(t){this._lView[Zn]=t}get destroyed(){return Ci(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[jr];if(ei(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(rf(t,o),Ea(r,o))}this._attachedToViewContainer=!1}Ac(this._lView[Ye],this._lView)}onDestroy(t){Fl(this._lView,t)}markForCheck(){Od(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[yn]&=-129}reattach(){xu(this._lView),this._lView[yn]|=128}detectChanges(){this._lView[yn]|=1024,Md(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new At(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=go(this._lView),r=this._lView[ls];null!==r&&!t&&Gm(r,this._lView),Dc(this._lView[Ye],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new At(902,!1);this._appRef=t;const r=go(this._lView),o=this._lView[ls];null!==o&&!r&&Il(o,this._lView),xu(this._lView)}},kd=(()=>class e{static __NG_ELEMENT_ID__=Iu})();const ny=kd,Jp=class extends ny{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=function Ge(e,t,r,o){const a=xe(null);try{const l=t.tView,I=Hm(e,l,r,4096&e[yn]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);I[ls]=e[t.index];const x=e[Ps];return null!==x&&(I[Ps]=x.createEmbeddedView(l)),be(l,I,r),I}finally{xe(a)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new sf(a)}};function Iu(){return af(Kn(),Qe())}function af(e,t){return 4&e.type?new Jp(t,e,Zu(e,t)):null}function wl(e,t,r,o,a){let l=e.data[t];if(null===l)l=function uy(e,t,r,o,a){const l=ks(),f=Jd(),I=e.data[t]=function Cc(e,t,r,o,a,l){let f=t?t.injectorIndex:-1,y=0;return function oa(){return null!==Mn.skipHydrationRootTNode}()&&(y|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,r,t,o,a);return function Dl(e,t,r,o){null===e.firstChild&&(e.firstChild=t),null!==r&&(o?null==r.child&&null!==t.parent&&(r.child=t):null===r.next&&(r.next=t,t.prev=r))}(e,I,l,f),I}(e,t,r,o,a),function Lu(){return Mn.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=r,l.value=o,l.attrs=a;const f=function ns(){const e=Mn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===f?-1:f.injectorIndex}return rs(l,!0),l}let Gr=class{},io=class{};class gr{resolveComponentFactory(t){throw Error(`No component factory found for ${nr(t)}.`)}}let Zi=class{static NULL=new gr};class oo{}let Ud=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function va(){const e=Qe(),r=lr(Kn().index,e);return(Wr(r)?r:e)[vn]}()})(),ug=(()=>{class e{static \u0275prov=ne({token:e,providedIn:"root",factory:()=>null})}return e})();function Df(e){return!!Ao(e)}const BE={};class lg{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=ki(o);const a=this.injector.get(t,BE,o);return a!==BE||r===BE?a:this.parentInjector.get(t,r,o)}}function jE(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,l=0;if(null!==t)for(let f=0;f<t.length;f++){const y=t[f];"number"==typeof y?l=y:1==l?a=Pi(a,y):2==l&&(o=Pi(o,y+": "+t[++f]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}function dg(e,t=cn.Default){const r=Qe();return null===r?Sr(e,t):ou(Kn(),r,Vt(e),t)}function Xw(){throw new Error("invalid")}function $E(e,t,r,o,a){const l=null===o?null:{"":-1},f=a(e,r);if(null!==f){let y,I=null,S=null;const x=function v0(e){let t=null,r=!1;for(let f=0;f<e.length;f++){const y=e[f];if(0===f&&Ki(y)&&(t=y),null!==y.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let o=null,a=null,l=null;for(const f of e)null!==f.findHostDirectiveDefs&&(o??=[],a??=new Map,l??=new Map,I0(f,o,l,a)),f===t&&(o??=[],o.push(f));return null!==o?(o.push(...null===t?e:e.slice(1)),[o,a,l]):null}(f);null===x?y=f:[y,I,S]=x,function T0(e,t,r,o,a,l,f){const y=o.length;let I=!1;for(let ee=0;ee<y;ee++){const K=o[ee];!I&&Ki(K)&&(I=!0,E0(e,r,ee)),sh(iu(r,t),e,K.type)}!function S0(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,y);for(let ee=0;ee<y;ee++){const K=o[ee];K.providersResolver&&K.providersResolver(K)}let S=!1,x=!1,U=bd(e,t,y,null);y>0&&(r.directiveToIndex=new Map);for(let ee=0;ee<y;ee++){const K=o[ee];if(r.mergedAttrs=Go(r.mergedAttrs,K.hostAttrs),D0(e,r,t,U,K),b0(U,K,a),null!==f&&f.has(K)){const[Je,bt]=f.get(K);r.directiveToIndex.set(K.type,[U,Je+r.directiveStart,bt+r.directiveStart])}else(null===l||!l.has(K))&&r.directiveToIndex.set(K.type,U);null!==K.contentQueries&&(r.flags|=4),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(r.flags|=64);const _e=K.type.prototype;!S&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),S=!0),!x&&(_e.ngOnChanges||_e.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),x=!0),U++}!function w0(e,t,r){for(let o=t.directiveStart;o<t.directiveEnd;o++){const a=e.data[o];if(null!==r&&r.has(a)){const l=r.get(a);Zw(0,t,l,o),Zw(1,t,l,o),eD(t,o,!0)}else Jw(0,t,a,o),Jw(1,t,a,o),eD(t,o,!1)}}(e,r,l)}(e,t,r,y,l,I,S)}null!==l&&null!==o&&function _0(e,t,r){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const l=r[t[a+1]];if(null==l)throw new At(-301,!1);o.push(t[a],l)}}(r,o,l)}function I0(e,t,r,o){const a=t.length;e.findHostDirectiveDefs(e,t,o),r.set(e,[a,t.length-1])}function E0(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function Jw(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){let f;f=0===e?t.inputs??={}:t.outputs??={},f[l]??=[],f[l].push(o),Yw(t,l)}}function Zw(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){const f=a[l];let y;y=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},y[f]??=[],y[f].push(o,l),Yw(t,f)}}function Yw(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function eD(e,t,r){const{attrs:o,inputs:a,hostDirectiveInputs:l}=e;if(null===o||!r&&null===a||r&&null===l||Vm(e))return e.initialInputs??=[],void e.initialInputs.push(null);let f=null,y=0;for(;y<o.length;){const I=o[y];if(0!==I)if(5!==I){if("number"==typeof I)break;if(!r&&a.hasOwnProperty(I)){const S=a[I];for(const x of S)if(x===t){f??=[],f.push(I,o[y+1]);break}}else if(r&&l.hasOwnProperty(I)){const S=l[I];for(let x=0;x<S.length;x+=2)if(S[x]===t){f??=[],f.push(S[x+1],o[y+1]);break}}y+=2}else y+=2;else y+=4}e.initialInputs??=[],e.initialInputs.push(f)}function D0(e,t,r,o,a){e.data[o]=a;const l=a.factory||(a.factory=qo(a.type)),f=new ca(l,Ki(a),dg);e.blueprint[o]=f,r[o]=f,function A0(e,t,r,o,a){const l=a.hostBindings;if(l){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const y=~t.index;(function C0(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(f)!=y&&f.push(y),f.push(r,o,l)}}(e,t,o,bd(e,r,a.hostVars,bn),a)}function b0(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Ki(t)&&(r[""]=e)}}function tD(e,t,r,o,a,l,f,y){const I=t.consts,x=wl(t,e,2,o,xi(I,f));return l&&$E(t,r,x,xi(I,y),a),x.mergedAttrs=Go(x.mergedAttrs,x.attrs),null!==x.attrs&&jE(x,x.attrs,!1),null!==x.mergedAttrs&&jE(x,x.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,x),x}function nD(e,t){Zc(e,t),Ra(t)&&e.queries.elementEnd(t)}class rD extends Zi{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=nn(t);return new wy(r,this.ngModule)}}class wy extends io{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function R0(e){return Object.keys(e).map(t=>{const[r,o,a]=e[t],l={propName:r,templateName:t,isSignal:!!(o&Sd.SignalBased)};return a&&(l.transform=a),l})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function P0(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function _E(e){return e.map(Hw).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,o,a){v(22);const l=xe(null);try{const f=this.componentDef,y=o?["ng-version","19.2.14"]:function vE(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let l=e[o];if("string"==typeof l)2===a?""!==l&&t.push(l,e[++o]):8===a&&r.push(l);else{if(!ya(a))break;a=l}o++}return r.length&&t.push(1,...r),t}(this.componentDef.selectors[0]),I=$m(0,null,null,1,0,null,null,null,null,[y],null),S=function M0(e,t,r){let o=t instanceof mi?t:t?.injector;return o&&null!==e.getStandaloneInjector&&(o=e.getStandaloneInjector(o)||o),o?new lg(r,o):r}(f,a||this.ngModule,t),x=function N0(e){const t=e.get(oo,null);if(null===t)throw new At(407,!1);return{rendererFactory:t,sanitizer:e.get(ug,null),changeDetectionScheduler:e.get(qr,null)}}(S),U=x.rendererFactory.createRenderer(null,f),ee=o?function s(e,t,r,o){const l=o.get(op,!1)||r===vc.ShadowDom,f=e.selectRootElement(t,l);return function u(e){d(e)}(f),f}(U,o,f.encapsulation,S):function x0(e,t){const r=(e.selectors[0][0]||"div").toLowerCase();return Bm(t,r,"svg"===r?"svg":"math"===r?"math":null)}(f,U),K=Hm(null,I,null,512|Hp(f),null,null,x,U,S,null,null);K[Ht]=ee,eh(K);let _e=null;try{const Je=tD(Ht,I,K,"#host",()=>[this.componentDef],!0,0);ee&&(jm(U,ee,Je),Or(ee,K)),n(I,K,Je),j_(I,Je,K),nD(I,Je),void 0!==r&&function k0(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const l=r[a];o.push(null!=l&&l.length?Array.from(l):null)}}(Je,this.ngContentSelectors,r),_e=lr(Je.index,K),K[Zn]=_e[Zn],be(I,K,null)}catch(Je){throw null!==_e&&Kf(_e),Kf(K),Je}finally{v(23),Fs()}return new O0(this.componentType,K)}finally{xe(l)}}}class O0 extends Gr{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=_n(r[Ye],Ht),this.location=Zu(this._tNode,r),this.instance=lr(this._tNode.index,r)[Zn],this.hostView=this.changeDetectorRef=new sf(r,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const a=this._rootLView;Ae(o,a[Ye],a,t,r),this.previousInputValues.set(t,r),Od(lr(o.index,a),1)}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Hv=(()=>class e{static __NG_ELEMENT_ID__=L0})();function L0(){return sD(Kn(),Qe())}const F0=Hv,iD=class extends F0{_lContainer;_hostTNode;_hostLView;constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return Zu(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const t=lc(this._hostTNode,this._hostLView);if(tu(t)){const r=ru(t,this._hostLView),o=nu(t);return new xr(r[Ye].data[o+8],r)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=oD(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-kn}createEmbeddedView(t,r,o){let a,l;"number"==typeof o?a=o:null!=o&&(a=o.index,l=o.injector);const y=t.createEmbeddedViewImpl(r||{},l,null);return this.insertImpl(y,a,fe(this._hostTNode,null)),y}createComponent(t,r,o,a,l){const f=t&&!function ui(e){return"function"==typeof e}(t);let y;if(f)y=r;else{const _e=r||{};y=_e.index,o=_e.injector,a=_e.projectableNodes,l=_e.environmentInjector||_e.ngModuleRef}const I=f?t:new wy(nn(t)),S=o||this.parentInjector;if(!l&&null==I.ngModule){const Je=(f?S:this.parentInjector).get(mi,null);Je&&(l=Je)}nn(I.componentType??{});const K=I.create(S,a,null,l);return this.insertImpl(K.hostView,y,fe(this._hostTNode,null)),K}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function ts(e){return ei(e[jr])}(a)){const y=this.indexOf(t);if(-1!==y)this.detach(y);else{const I=a[jr],S=new iD(I,I[_i],I[jr]);S.detach(S.indexOf(t))}}const l=this._adjustIndex(r),f=this._lContainer;return function Wa(e,t,r,o=!0){const a=t[Ye];if(function ME(e,t,r,o){const a=kn+o,l=r.length;o>0&&(r[a-1][li]=t),o<l-kn?(t[li]=r[a],kc(r,kn+o,t)):(r.push(t),t[li]=null),t[jr]=r;const f=t[ls];null!==f&&r!==f&&Il(f,t);const y=t[Ps];null!==y&&y.insertView(e),xu(t),t[yn]|=128}(a,t,e,r),o){const f=qp(r,e),y=t[vn],I=y.parentNode(e[7]);null!==I&&function bE(e,t,r,o,a,l){o[Yt]=a,o[_i]=t,Pd(e,o,r,1,a,l)}(a,e[_i],y,t,I,f)}const l=t[vi];null!==l&&null!==l.firstChild&&(l.firstChild=null)}(f,a,l,o),t.attachToViewContainerRef(),kc(HE(f),l,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=oD(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=rf(this._lContainer,r);o&&(Ea(HE(this._lContainer),r),Ac(o[Ye],o))}detach(t){const r=this._adjustIndex(t,-1),o=rf(this._lContainer,r);return o&&null!=Ea(HE(this._lContainer),r)?new sf(o):null}_adjustIndex(t,r=0){return t??this.length+r}};function oD(e){return e[8]}function HE(e){return e[8]||(e[8]=[])}function sD(e,t){let r;const o=t[e.index];return ei(o)?r=o:(r=Fo(o,t,null,e),t[e.index]=r,uv(t,r)),aD(r,t,e,o),new iD(r,e,t)}let aD=function uD(e,t,r,o){if(e[7])return;let a;a=8&r.type?V(o):function V0(e,t){const r=e[vn],o=r.createComment(""),a=ke(t,e),l=r.parentNode(a);return Cd(r,l,o,r.nextSibling(a),!1),o}(t,r),e[7]=a},zE=()=>!1;class GE{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new GE(this.queryList)}setDirty(){this.queryList.setDirty()}}class WE{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let l=0;l<o;l++){const f=r.getByIndex(l);a.push(this.queries[f.indexInDeclarationView].clone())}return new WE(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==JE(t,r).matches&&this.queries[r].setDirty()}}class lD{flags;read;predicate;constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function W0(e){return e.split(",").map(t=>t.trim())}(t):t}}class qE{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(t,a);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new qE(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class KE{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new KE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const l=o[a];this.matchTNodeWithReadOption(t,r,$0(r,l)),this.matchTNodeWithReadOption(t,r,ka(r,t,l,!1,!1))}else o===kd?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,ka(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===rd||a===Hv||a===kd&&4&r.type)this.addMatch(r.index,-2);else{const l=ka(r,t,a,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function $0(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function z0(e,t,r,o){return-1===r?function H0(e,t){return 11&e.type?Zu(e,t):4&e.type?af(e,t):null}(t,e):-2===r?function G0(e,t,r){return r===rd?Zu(t,e):r===kd?af(t,e):r===Hv?sD(t,e):void 0}(e,t,o):Ii(e,e[Ye],r,t)}function dD(e,t,r,o){const a=t[Ps].queries[o];if(null===a.matches){const l=e.data,f=r.matches,y=[];for(let I=0;null!==f&&I<f.length;I+=2){const S=f[I];y.push(S<0?null:z0(t,l[S],f[I+1],r.metadata.read))}a.matches=y}return a.matches}function QE(e,t,r,o){const a=e.queries.getByIndex(r),l=a.matches;if(null!==l){const f=dD(e,t,a,r);for(let y=0;y<l.length;y+=2){const I=l[y];if(I>0)o.push(f[y/2]);else{const S=l[y+1],x=t[-I];for(let U=kn;U<x.length;U++){const ee=x[U];ee[ls]===ee[jr]&&QE(ee[Ye],ee,S,o)}if(null!==x[Yo]){const U=x[Yo];for(let ee=0;ee<U.length;ee++){const K=U[ee];QE(K[Ye],K,S,o)}}}}}return o}function pD(e,t,r,o){const a=Dn();if(a.firstCreatePass){const l=Kn();(function gD(e,t,r){null===e.queries&&(e.queries=new qE),e.queries.track(new KE(t,r))})(a,new lD(t,r,o),l.index),function q0(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return function hD(e,t,r){const o=new i_(!(4&~r));return function qd(e,t,r,o){const a=Vl(t);a.push(r),e.firstCreatePass&&Ul(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[Ps]??=new WE).queries.push(new GE(o))-1}(a,Qe(),r)}function JE(e,t){return e.queries.getByIndex(t)}function mD(e,t){const r=e[Ye],o=JE(r,t);return o.crossesNgTemplate?QE(r,e,t,[]):dD(r,e,o,t)}let Af=class{},bD=class{};function rS(e,t){return new eT(e,t??null,[])}class eT extends Af{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new rD(this);constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r;const l=Ao(t);this._bootstrapComponents=wc(l.bootstrap),this._r3Injector=Va(t,r,[{provide:Af,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver},...o],nr(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tT extends bD{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new eT(this.moduleType,t,[])}}class SD extends Af{injector;componentFactoryResolver=new rD(this);instance=null;constructor(t){super();const r=new yi([...t.providers,{provide:Af,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver}],t.parent||Fi(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function nT(e,t,r=null){return new SD({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let oS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Li(0,r.type),a=o.length>0?nT([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ne({token:e,providedIn:"environment",factory:()=>new e(Sr(mi))})}return e})();function RD(e){return st(()=>{const t=ND(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ad.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(oS).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||vc.Emulated,styles:e.styles||Qt,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Wo("NgStandalone"),xD(r);const o=e.dependencies;return r.directiveDefs=zv(o,!1),r.pipeDefs=zv(o,!0),r.id=function dS(e){let t=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const l of o.join("|"))t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function sS(e){return nn(e)||Zr(e)}function aS(e){return null!==e}function rT(e){return st(()=>({type:e.type,bootstrap:e.bootstrap||Qt,declarations:e.declarations||Qt,imports:e.imports||Qt,exports:e.exports||Qt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function cS(e,t){if(null==e)return ir;const r={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let l,f,y,I;Array.isArray(a)?(y=a[0],l=a[1],f=a[2]??l,I=a[3]||null):(l=a,f=a,y=Sd.None,I=null),r[l]=[o,y,I],t[l]=f}return r}function uS(e){if(null==e)return ir;const t={};for(const r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function PD(e){return st(()=>{const t=ND(e);return xD(t),t})}function MD(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function ND(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||ir,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Qt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cS(e.inputs,t),outputs:uS(e.outputs),debugInfo:null}}function xD(e){e.features?.forEach(t=>t(e))}function zv(e,t){if(!e)return null;const r=t?Br:sS;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(aS)}function iT(e){let t=function OD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(Ki(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new At(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const f=e;f.inputs=oT(e.inputs),f.declaredInputs=oT(e.declaredInputs),f.outputs=oT(e.outputs);const y=a.hostBindings;y&&mS(e,y);const I=a.viewQuery,S=a.contentQueries;if(I&&pS(e,I),S&&gS(e,S),hS(e,a),Ri(e.outputs,a.outputs),Ki(a)&&a.data.animation){const x=e.data;x.animation=(x.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let f=0;f<l.length;f++){const y=l[f];y&&y.ngInherit&&y(e),y===iT&&(r=!1)}}t=Object.getPrototypeOf(t)}!function fS(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Go(a.hostAttrs,r=Go(r,a.hostAttrs))}}(o)}function hS(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=t.inputs[r];void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=t.declaredInputs[r])}}function oT(e){return e===ir?{}:e===Qt?[]:e}function pS(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function gS(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,l)=>{t(o,a,l),r(o,a,l)}:t}function mS(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function Gv(e){return!!aT(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function aT(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Hi(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Cy(e,t,r,o,a,l,f,y,I,S){const x=r+Ht,U=t.firstCreatePass?function AS(e,t,r,o,a,l,f,y,I){const S=t.consts,x=wl(t,e,4,f||null,y||null);ia()&&$E(t,r,x,xi(S,I),_t),x.mergedAttrs=Go(x.mergedAttrs,x.attrs),Zc(t,x);const U=x.tView=$m(2,x,o,a,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,S,null);return null!==t.queries&&(t.queries.template(t,x),U.queries=t.queries.embeddedTView(x)),x}(x,t,e,o,a,l,f,y,I):t.data[x];rs(U,!1);const ee=UD(t,e,U,r);fs()&&Yh(t,e,ee,U),Or(ee,e);const K=Fo(ee,e,ee,U);return e[x]=K,uv(e,K),function cD(e,t,r){return zE(e,t,r)}(K,U,e),na(U)&&n(t,e,U),null!=I&&i(e,U,S),U}function cT(e,t,r,o,a,l,f,y){const I=Qe(),S=Dn();return Cy(I,S,e,t,r,o,a,xi(S.consts,l),f,y),cT}let UD=function BD(e,t,r,o){return _o(!0),t[vn].createComment("")};let dT=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const YD=new jt(""),eA=new jt("");let gT,wR=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(r,o,a){this._ngZone=r,this.registry=o,Ro()&&(this._destroyRef=zt(Ua,{optional:!0})??void 0),gT||(function DR(e){gT=e}(a),a.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const r=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),o=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Hr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{r.unsubscribe(),o.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,a){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),r()},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:a})}whenStable(r,o,a){if(a&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,a){return[]}static \u0275fac=function(o){return new(o||e)(Sr(Hr),Sr(tA),Sr(eA))};static \u0275prov=ne({token:e,factory:e.\u0275fac})}return e})(),tA=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return gT?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),nA=(()=>{class e{static \u0275prov=ne({token:e,providedIn:"root",factory:()=>new AR})}return e})();class AR{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const o=this.queues.get(t.zone);o.has(t)&&(o.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}function mT(e){return!!e&&"function"==typeof e.then}function rA(e){return!!e&&"function"==typeof e.subscribe}const iA=new jt("");function CR(e){return Ai([{provide:iA,multi:!0,useValue:e}])}let oA=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=zt(iA,{optional:!0})??[];injector=zt(Bi);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const l=ho(this.injector,a);if(mT(l))r.push(l);else if(rA(l)){const f=new Promise((y,I)=>{l.subscribe({complete:y,error:I})});r.push(f)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(a=>{this.reject(a)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sy=new jt("");let Ia=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=zt(Yy);afterRenderManager=zt(cp);zonelessEnabled=zt(hh);rootEffectScheduler=zt(nA);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new or.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=zt(dc).hasPendingTasks.pipe((0,ii.T)(r=>!r));constructor(){zt(ol,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=zt(mi);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){return this.bootstrapImpl(r,o)}bootstrapImpl(r,o,a=Bi.NULL){v(10);const l=r instanceof io;if(!this._injector.get(oA).done)throw new At(405,"");let y;y=l?r:this._injector.get(Zi).resolveComponentFactory(r),this.componentTypes.push(y.componentType);const I=function bR(e){return e.isBoundToModule}(y)?void 0:this._injector.get(Af),x=y.create(a,[],o||y.selector,I),U=x.location.nativeElement,ee=x.injector.get(YD,null);return ee?.registerApplication(U),x.onDestroy(()=>{this.detachView(x.hostView),Xv(this.components,x),ee?.unregisterApplication(U)}),this._loadComponent(x),v(11,x),x}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){v(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(bh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new At(101,!1);const r=xe(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,xe(r),this.afterTick.next(),v(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(oo,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)v(14),this.synchronizeOnce(),v(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:a}of this.allViews)RR(o,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>Kc(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;Xv(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Sy,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Xv(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new At(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xv(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function RR(e,t,r,o){(r||Kc(e))&&Md(e,t,r&&!o?0:1)}function ET(e,t,r,o){const a=Qe();return Hi(a,yo(),t)&&(Dn(),qt(Yn(),a,e,t,r,o)),ET}function yg(e,t,r,o,a,l){const y=function Cf(e,t,r,o){const a=Hi(e,t,r);return Hi(e,t+1,o)||a}(e,function Ls(){return Mn.lFrame.bindingIndex}(),r,a);return is(2),y?t+ae(r)+o+ae(a)+l:bn}function Jv(e,t){return e<<17|t<<2}function Sf(e){return e>>17&32767}function TT(e){return 2|e}function Dg(e){return(131068&e)>>2}function wT(e,t){return-131069&e|t<<2}function DT(e){return 1|e}function AA(e,t,r,o){const a=e[r+1],l=null===t;let f=o?Sf(a):Dg(a),y=!1;for(;0!==f&&(!1===y||l);){const S=e[f+1];gP(e[f],t)&&(y=!0,e[f+1]=o?DT(S):TT(S)),f=o?Sf(S):Dg(S)}y&&(e[r+1]=o?TT(a):DT(a))}function gP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&$n(e,t)>=0}const Io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CA(e){return e.substring(Io.key,Io.keyEnd)}function bA(e,t){const r=Io.textEnd;return r===t?-1:(t=Io.keyEnd=function vP(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,Io.key=t,r),Ag(e,t,r))}function Ag(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function AT(e,t,r){const o=Qe();return Hi(o,yo(),t)&&P(Dn(),Yn(),o,e,t,o[vn],r,!1),AT}function CT(e,t,r,o,a){Ae(t,e,r,a?"class":"style",o)}function bT(e,t){return function Mc(e,t,r,o){const a=Qe(),l=Dn(),f=is(2);l.firstUpdatePass&&kA(l,e,f,o),t!==bn&&Hi(a,f,t)&&FA(l,l.data[Xi()],a,a[vn],e,a[f+1]=function PP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=nr($i(e)))),e}(t,r),o,f)}(e,t,null,!0),bT}function xA(e){!function Nc(e,t,r,o){const a=Dn(),l=is(2);a.firstUpdatePass&&kA(a,null,l,o);const f=Qe();if(r!==bn&&Hi(f,l,r)){const y=a.data[Xi()];if(UA(y,o)&&!OA(a,l)){let I=o?y.classesWithoutHost:y.stylesWithoutHost;null!==I&&(r=Pi(I,r||"")),CT(a,y,f,r,o)}else!function RP(e,t,r,o,a,l,f,y){a===bn&&(a=Qt);let I=0,S=0,x=0<a.length?a[0]:null,U=0<l.length?l[0]:null;for(;null!==x||null!==U;){const ee=I<a.length?a[I+1]:void 0,K=S<l.length?l[S+1]:void 0;let Je,_e=null;x===U?(I+=2,S+=2,ee!==K&&(_e=U,Je=K)):null===U||null!==x&&x<U?(I+=2,_e=x):(S+=2,_e=U,Je=K),null!==_e&&FA(e,t,r,o,_e,Je,f,y),x=I<a.length?a[I]:null,U=S<l.length?l[S]:null}}(a,y,f,f[vn],f[l+1],f[l+1]=function bP(e,t,r){if(null==r||""===r)return Qt;const o=[],a=$i(r);if(Array.isArray(a))for(let l=0;l<a.length;l++)e(o,a[l],!0);else if("object"==typeof a)for(const l in a)a.hasOwnProperty(l)&&e(o,l,a[l]);else"string"==typeof a&&t(o,a);return o}(e,t,r),o,l)}}(SP,Cu,e,!0)}function Cu(e,t){for(let r=function yP(e){return function RA(e){Io.key=0,Io.keyEnd=0,Io.value=0,Io.valueEnd=0,Io.textEnd=e.length}(e),bA(e,Ag(e,0,Io.textEnd))}(t);r>=0;r=bA(t,r))Ur(e,CA(t),!0)}function OA(e,t){return t>=e.expandoStartIndex}function kA(e,t,r,o){const a=e.data;if(null===a[r+1]){const l=a[Xi()],f=OA(e,r);UA(l,o)&&null===t&&!f&&(t=!1),t=function wP(e,t,r,o){const a=function Jc(e){const t=Mn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=Py(r=ST(null,e,t,r,o),t.attrs,o),l=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==a)if(r=ST(a,e,t,r,o),null===l){let I=function DP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==Dg(o))return e[Sf(o)]}(e,t,o);void 0!==I&&Array.isArray(I)&&(I=ST(null,e,t,I[1],o),I=Py(I,t.attrs,o),function AP(e,t,r,o){e[Sf(r?t.classBindings:t.styleBindings)]=o}(e,t,o,I))}else l=function CP(e,t,r){let o;const a=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<a;l++)o=Py(o,e[l].hostAttrs,r);return Py(o,t.attrs,r)}(e,t,o)}return void 0!==l&&(o?t.residualClasses=l:t.residualStyles=l),r}(a,l,t,o),function fP(e,t,r,o,a,l){let f=l?t.classBindings:t.styleBindings,y=Sf(f),I=Dg(f);e[o]=r;let x,S=!1;if(Array.isArray(r)?(x=r[1],(null===x||$n(r,x)>0)&&(S=!0)):x=r,a)if(0!==I){const ee=Sf(e[y+1]);e[o+1]=Jv(ee,y),0!==ee&&(e[ee+1]=wT(e[ee+1],o)),e[y+1]=function dP(e,t){return 131071&e|t<<17}(e[y+1],o)}else e[o+1]=Jv(y,0),0!==y&&(e[y+1]=wT(e[y+1],o)),y=o;else e[o+1]=Jv(I,0),0===y?y=o:e[I+1]=wT(e[I+1],o),I=o;S&&(e[o+1]=TT(e[o+1])),AA(e,x,o,!0),AA(e,x,o,!1),function pP(e,t,r,o,a){const l=a?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&$n(l,t)>=0&&(r[o+1]=DT(r[o+1]))}(t,x,e,o,l),f=Jv(y,I),l?t.classBindings=f:t.styleBindings=f}(a,l,t,r,f,o)}}function ST(e,t,r,o,a){let l=null;const f=r.directiveEnd;let y=r.directiveStylingLast;for(-1===y?y=r.directiveStart:y++;y<f&&(l=t[y],o=Py(o,l.hostAttrs,a),l!==e);)y++;return null!==e&&(r.directiveStylingLast=y),o}function Py(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?a=f:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ur(e,f,!!r||t[++l]))}return void 0===e?null:e}function SP(e,t,r){const o=String(t);""!==o&&!o.includes(" ")&&Ur(e,o,r)}function FA(e,t,r,o,a,l,f,y){if(!(3&t.type))return;const I=e.data,S=I[y+1],x=function hP(e){return!(1&~e)}(S)?VA(I,t,r,a,Dg(S),f):void 0;Zv(x)||(Zv(l)||function lP(e){return!(2&~e)}(S)&&(l=VA(I,null,r,a,y,f)),function Qm(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let l=-1===o.indexOf("-")?void 0:mu.DashCase;null==a?e.removeStyle(r,o,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=mu.Important),e.setStyle(r,o,a,l))}}(o,f,ye(Xi(),r),a,l))}function VA(e,t,r,o,a,l){const f=null===t;let y;for(;a>0;){const I=e[a],S=Array.isArray(I),x=S?I[1]:I,U=null===x;let ee=r[a+1];ee===bn&&(ee=U?Qt:void 0);let K=U?Lc(ee,o):x===o?ee:void 0;if(S&&!Zv(K)&&(K=Lc(I,o)),Zv(K)&&(y=K,f))return y;const _e=e[a+1];a=f?Sf(_e):Dg(_e)}if(null!==t){let I=l?t.residualClasses:t.residualStyles;null!=I&&(y=Lc(I,o))}return y}function Zv(e){return void 0!==e}function UA(e,t){return!!(e.flags&(t?8:16))}function eI(e,t,r,o){const a=Qe(),l=Dn(),f=Ht+e,y=a[vn],I=l.firstCreatePass?tD(f,l,a,t,_t,ia(),r,o):l.data[f],S=HA(l,a,I,y,t,e);a[f]=S;const x=na(I);return rs(I,!0),jm(y,S,I),!zs(I)&&fs()&&Yh(l,a,S,I),(0===function Qd(){return Mn.lFrame.elementDepthCount}()||x)&&Or(S,a),function ac(){Mn.lFrame.elementDepthCount++}(),x&&(n(l,a,I),j_(l,I,a)),null!==o&&i(a,I),eI}function tI(){let e=Kn();Jd()?function ti(){Mn.lFrame.isParent=!1}():(e=e.parent,rs(e,!1));const t=e;(function $l(e){return Mn.skipHydrationRootTNode===e})(t)&&function Qc(){Mn.skipHydrationRootTNode=null}(),function jl(){Mn.lFrame.elementDepthCount--}();const r=Dn();return r.firstCreatePass&&nD(r,t),null!=t.classesWithoutHost&&function Ng(e){return!!(8&e.flags)}(t)&&CT(r,t,Qe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function $f(e){return!!(16&e.flags)}(t)&&CT(r,t,Qe(),t.stylesWithoutHost,!1),tI}function NT(e,t,r,o){return eI(e,t,r,o),tI(),NT}let HA=(e,t,r,o,a,l)=>(_o(!0),Bm(o,a,function Us(){return Mn.lFrame.currentNamespace}()));function WA(){return Qe()}const Rf=void 0;var oM=["en",[["a","p"],["AM","PM"],Rf],[["AM","PM"],Rf,Rf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rf,"{1} 'at' {0}",Rf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iM(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Cg={};function kT(e){const t=function sM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=XA(t);if(r)return r;const o=t.split("-")[0];if(r=XA(o),r)return r;if("en"===o)return oM;throw new At(701,!1)}function QA(e){return kT(e)[bg.PluralCase]}function XA(e){return e in Cg||(Cg[e]=On.ng&&On.ng.common&&On.ng.common.locales&&On.ng.common.locales[e]),Cg[e]}var bg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(bg||{});const nI="en-US";let JA=nI;function gC(e,t,r){return function o(a){if(a===Function)return r;Od(po(e)?lr(e.index,t):t,5);const f=t[Zn];let y=mC(t,f,r,a),I=o.__ngNextListenerFn__;for(;I;)y=mC(t,f,I,a)&&y,I=I.__ngNextListenerFn__;return y}}function mC(e,t,r,o){const a=xe(null);try{return v(6,t,r),!1!==r(o)}catch(l){return function KM(e,t){const r=e[Mr],o=r?r.get(Ba,null):null;o&&o.handleError(t)}(e,l),!1}finally{v(7,t,r),xe(a)}}function yC(e,t,r,o,a,l){const y=t[Ye],x=t[r][y.data[r].outputs[o]],U=y.firstCreatePass?Ul(y):null,ee=Vl(t),K=x.subscribe(l),_e=ee.length;ee.push(l,K),U&&U.push(a,e.index,_e,-(_e+1))}function VT(e,t,r,o){const a=Qe(),l=Dn(),f=Kn();return UT(l,a,a[vn],f,e,t,o),VT}function UT(e,t,r,o,a,l,f){const y=na(o),S=e.firstCreatePass?Ul(e):null,x=Vl(t);let U=!0;if(3&o.type||f){const ee=ke(o,t),K=f?f(ee):ee,_e=x.length,Je=f?xt=>f(V(xt[o.index])):o.index;let bt=null;if(!f&&y&&(bt=function QM(e,t,r,o){const a=e.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const f=a[l];if(f===r&&a[l+1]===o){const y=t[ea],I=a[l+2];return y.length>I?y[I]:null}"string"==typeof f&&(l+=2)}return null}(e,t,a,o.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=l,bt.__ngLastListenerFn__=l,U=!1;else{!function kI(e,t,r,o){M_(e,t,r,o)}(t,K,a,l=gC(o,t,l));const xt=r.listen(K,a,l);x.push(l,xt),S&&S.push(a,Je,_e,_e+1)}}else l=gC(o,t,l);if(U){const ee=o.outputs?.[a],K=o.hostDirectiveOutputs?.[a];if(K&&K.length)for(let _e=0;_e<K.length;_e+=2)yC(o,t,K[_e],K[_e+1],a,l);if(ee&&ee.length)for(const _e of ee)yC(o,t,_e,a,a,l)}}function vC(e=1){return function Mg(e){return(Mn.lFrame.contextLView=function Ll(e,t){for(;e>0;)t=t[Rs],e--;return t}(e,Mn.lFrame.contextLView))[Zn]}(e)}function RC(e,t,r,o){pD(e,t,r,o)}function PC(e){const t=Qe(),r=Dn(),o=Bu();ju(o+1);const a=JE(r,o);if(e.dirty&&function $r(e){return!(4&~e[yn])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const l=mD(t,o);e.reset(l,Gg),e.notifyOnChanges()}return!0}return!1}function MC(){return function XE(e,t){return e[Ps].queries[t].queryList}(Qe(),Bu())}function jC(e,t=""){const r=Qe(),o=Dn(),a=e+Ht,l=o.firstCreatePass?wl(o,a,1,t,null):o.data[a],f=$C(o,r,l,t,e);r[a]=f,fs()&&Yh(o,r,f,l),rs(l,!1)}let $C=(e,t,r,o,a)=>(_o(!0),function Um(e,t){return e.createText(t)}(t[vn],o));function jT(e){return sI("",e,""),jT}function sI(e,t,r){const o=Qe(),a=function mg(e,t,r,o){return Hi(e,yo(),r)?t+ae(r)+o:bn}(o,e,t,r);return a!==bn&&Sl(o,Xi(),a),sI}function $T(e,t,r,o,a){const l=Qe(),f=yg(l,e,t,r,o,a);return f!==bn&&Sl(l,Xi(),f),$T}function Sl(e,t,r){const o=ye(t,e);!function av(e,t,r){e.setValue(t,r)}(e[vn],o,r)}function HT(e,t,r){Wg(t)&&(t=t());const o=Qe();return Hi(o,yo(),t)&&P(Dn(),Yn(),o,e,t,o[vn],r,!1),HT}function XC(e,t){const r=Wg(e);return r&&e.set(t),r}function zT(e,t){const r=Qe(),o=Dn(),a=Kn();return UT(o,r,r[vn],a,e,t),zT}function GT(e,t,r,o,a){if(e=Vt(e),Array.isArray(e))for(let l=0;l<e.length;l++)GT(e[l],t,r,o,a);else{const l=Dn(),f=Qe(),y=Kn();let I=jo(e)?e:Vt(e.provide);const S=Mu(e),x=1048575&y.providerIndexes,U=y.directiveStart,ee=y.providerIndexes>>20;if(jo(e)||!e.multi){const K=new ca(S,a,dg),_e=qT(I,t,a?x:x+ee,U);-1===_e?(sh(iu(y,f),l,I),WT(l,e,t.length),t.push(I),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),r.push(K),f.push(K)):(r[_e]=K,f[_e]=K)}else{const K=qT(I,t,x+ee,U),_e=qT(I,t,x,x+ee),bt=_e>=0&&r[_e];if(a&&!bt||!a&&!(K>=0&&r[K])){sh(iu(y,f),l,I);const xt=function TN(e,t,r,o,a){const l=new ca(e,r,dg);return l.multi=[],l.index=t,l.componentProviders=0,YC(l,a,o&&!r),l}(a?EN:IN,r.length,a,o,S);!a&&bt&&(r[_e].providerFactory=xt),WT(l,e,t.length,0),t.push(I),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),r.push(xt),f.push(xt)}else WT(l,e,K>-1?K:_e,YC(r[a?_e:K],S,!a&&o));!a&&o&&bt&&r[_e].componentProviders++}}}function WT(e,t,r,o){const a=jo(t),l=function Co(e){return!!e.useClass}(t);if(a||l){const I=(l?Vt(t.useClass):t).prototype.ngOnDestroy;if(I){const S=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const x=S.indexOf(r);-1===x?S.push(r,[o,I]):S[x+1].push(o,I)}else S.push(r,I)}}}function YC(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function qT(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function IN(e,t,r,o,a){return KT(this.multi,[])}function EN(e,t,r,o,a){const l=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=Ii(o,o[Ye],this.providerFactory.index,a);f=I.slice(0,y),KT(l,f);for(let S=y;S<I.length;S++)f.push(I[S])}else f=[],KT(l,f);return f}function KT(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function eb(e,t=[]){return r=>{r.providersResolver=(o,a)=>function vN(e,t,r){const o=Dn();if(o.firstCreatePass){const a=Ki(e);GT(r,o.data,o.blueprint,a,!0),GT(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}class Db{full;major;minor;patch;constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}class yx{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let _x=(()=>{class e{compileModuleSync(r){return new tT(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),l=wc(Ao(r).declarations).reduce((f,y)=>{const I=nn(y);return I&&f.push(new wy(I)),f},[]);return new yx(o,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ex=(()=>{class e{zone=zt(Hr);changeDetectionScheduler=zt(qr);applicationRef=zt(Ia);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Tx=new jt("",{factory:()=>!1});function YT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new Hr({...ew(),scheduleInRootZone:r}),[{provide:Hr,useFactory:e},{provide:Gi,multi:!0,useFactory:()=>{const o=zt(Ex,{optional:!0});return()=>o.initialize()}},{provide:Gi,multi:!0,useFactory:()=>{const o=zt(Dx);return()=>{o.initialize()}}},!0===t?{provide:Ky,useValue:!0}:[],{provide:kg,useValue:r??Wy}]}function wx(e){const t=e?.ignoreChangesOutsideZone,r=e?.scheduleInRootZone,o=YT({ngZoneFactory:()=>{const a=ew(e);return a.scheduleInRootZone=r,a.shouldCoalesceEventChangeDetection&&Wo("NgZone_CoalesceEvent"),new Hr(a)},ignoreChangesOutsideZone:t,scheduleInRootZone:r});return Ai([{provide:Tx,useValue:!0},{provide:hh,useValue:!1},o])}function ew(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let Dx=(()=>{class e{subscription=new ln.yU;initialized=!1;zone=zt(Hr);pendingTasks=zt(dc);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Hr.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Hr.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uy=(()=>{class e{appRef=zt(Ia);taskService=zt(dc);ngZone=zt(Hr);zonelessEnabled=zt(hh);tracing=zt(ol,{optional:!0});disableScheduling=zt(Ky,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ln.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ed):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(zt(kg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,o=!0;break;case 12:this.appRef.dirtyFlags|=16,o=!0;break;case 11:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const a=this.useMicrotaskScheduler?hc:Lg;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ed+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const nw=new jt("",{providedIn:"root",factory:()=>zt(nw,cn.Optional|cn.SkipSelf)||function Ax(){return typeof $localize<"u"&&$localize.locale||nI}()}),Cx=new jt("",{providedIn:"root",factory:()=>"USD"}),lI=new jt(""),Mx=new jt("");function By(e){return!e.moduleRef}let zd=null;let kb=(()=>class e{static __NG_ELEMENT_ID__=Fx})();function Fx(e){return function Vx(e,t,r){if(po(e)&&!r){const o=lr(e.index,t);return new sf(o,o)}return 175&e.type?new sf(t[Tr],t):null}(Kn(),Qe(),!(16&~e))}class Ub{constructor(){}supports(t){return Gv(t)}create(t){return new Hx(t)}}const $x=(e,t)=>t;class Hx{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||$x}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,l=null;for(;r||o;){const f=!o||r&&r.currentIndex<jb(o,a,l)?r:o,y=jb(f,a,l),I=f.currentIndex;if(f===o)a--,o=o._nextRemoved;else if(r=r._next,null==f.previousIndex)a++;else{l||(l=[]);const S=y-a,x=I-a;if(S!=x){for(let ee=0;ee<S;ee++){const K=ee<l.length?l[ee]:l[ee]=0,_e=K+ee;x<=_e&&_e<S&&(l[ee]=K+1)}l[f.previousIndex]=x-S}}y!==I&&t(f,y,I)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Gv(t))throw new At(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,l,f,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)l=t[y],f=this._trackByFn(y,l),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,l,f,y)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,f,y),o=!0),r=r._next}else a=0,function wS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,y=>{f=this._trackByFn(a,y),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,y,f,a)),Object.is(r.item,y)||this._addIdentityChange(r,y)):(r=this._mismatch(r,y,f,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,l,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,l,a)):t=this._addAfter(new zx(r,o),l,a),t}_verifyReinsertion(t,r,o,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?t=this._reinsertAfter(l,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,l=t._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new Bb),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bb),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class zx{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,r){this.item=t,this.trackById=r}}class Gx{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class Bb{map=new Map;put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new Gx,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jb(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class $b{constructor(){}supports(t){return t instanceof Map||aT(t)}create(){return new Wx}}class Wx{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||aT(t)))throw new At(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const l=a._prev,f=a._next;return l&&(l._next=f),f&&(f._prev=l),a._next=null,a._prev=null,a}const o=new qx(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class qx{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function Hb(){return new aw([new Ub])}let aw=(()=>{class e{factories;static \u0275prov=ne({token:e,providedIn:"root",factory:Hb});constructor(r){this.factories=r}static create(r,o){if(null!=o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||Hb()),deps:[[e,new wo,new Bo]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(null!=o)return o;throw new At(901,!1)}}return e})();function zb(){return new cw([new $b])}let cw=(()=>{class e{static \u0275prov=ne({token:e,providedIn:"root",factory:zb});factories;constructor(r){this.factories=r}static create(r,o){if(o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||zb()),deps:[[e,new wo,new Bo]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(o)return o;throw new At(901,!1)}}return e})();function Xx(e){v(8);try{const{rootComponent:t,appProviders:r,platformProviders:o}=e,a=function Lx(e=[]){if(zd)return zd;const t=function Nb(e=[],t){return Bi.create({name:t,providers:[{provide:Cs,useValue:"platform"},{provide:lI,useValue:new Set([()=>zd=null])},...e]})}(e);return zd=t,function sA(){!function ve(e){Ar=e}(()=>{throw new At(600,!1)})}(),function xb(e){const t=e.get(tp,null);ho(e,()=>{t?.forEach(r=>r())})}(t),t}(o),l=[YT({}),{provide:qr,useExisting:Uy},...r||[]];return function Rb(e){const t=By(e)?e.r3Injector:e.moduleRef.injector,r=t.get(Hr);return r.run(()=>{By(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(Ba,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:l=>{o.handleError(l)}})}),By(e)){const l=()=>t.destroy(),f=e.platformInjector.get(lI);f.add(l),t.onDestroy(()=>{a.unsubscribe(),f.delete(l)})}else{const l=()=>e.moduleRef.destroy(),f=e.platformInjector.get(lI);f.add(l),e.moduleRef.onDestroy(()=>{Xv(e.allPlatformModules,e.moduleRef),a.unsubscribe(),f.delete(l)})}return function xx(e,t,r){try{const o=r();return mT(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const l=t.get(oA);return l.runInitializers(),l.donePromise.then(()=>{if(function lM(e){"string"==typeof e&&(JA=e.toLowerCase().replace(/_/g,"-"))}(t.get(nw,nI)||nI),!t.get(Mx,!0))return By(e)?t.get(Ia):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(By(e)){const I=t.get(Ia);return void 0!==e.rootComponent&&I.bootstrap(e.rootComponent),I}return function Nx(e,t){const r=e.injector.get(Ia);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new At(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new SD({providers:l,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{v(9)}}function _O(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function xc(e){return function St(e){const t=xe(null);try{return e()}finally{xe(t)}}(e)}function $y(e,t){return function en(e,t){const r=Object.create(wn);r.computation=e,void 0!==t&&(r.equal=t);const o=()=>{if(vt(r),We(r),r.value===Dt)throw r.error;return r.value};return o[gt]=r,o}(e,t?.equal)}function UO(e){const t=nn(e);if(!t)return null;const r=new wy(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1397:(gn,pt,W)=>{W.d(pt,{Z:()=>Be});var R=W(6354),$=W(8750),H=W(9974),oe=W(5225),Pe=W(4360),xe=W(8071);function Be(ct,le,se=1/0){return(0,xe.T)(le)?Be((We,Rt)=>(0,R.T)((vt,Ot)=>le(We,vt,Rt,Ot))((0,$.Tg)(ct(We,Rt))),se):("number"==typeof le&&(se=le),(0,H.N)((We,Rt)=>function gt(ct,le,se,We,Rt,vt,Ot,Cn){const rn=[];let un=0,Nn=0,En=!1;const mt=()=>{En&&!rn.length&&!un&&le.complete()},Oe=it=>un<We?at(it):rn.push(it),at=it=>{vt&&le.next(it),un++;let et=!1;(0,$.Tg)(se(it,Nn++)).subscribe((0,Pe._)(le,Te=>{Rt?.(Te),vt?Oe(Te):le.next(Te)},()=>{et=!0},void 0,()=>{if(et)try{for(un--;rn.length&&un<We;){const Te=rn.shift();Ot?(0,oe.N)(le,Ot,()=>at(Te)):at(Te)}mt()}catch(Te){le.error(Te)}}))};return ct.subscribe((0,Pe._)(le,Oe,()=>{En=!0,mt()})),()=>{Cn?.()}}(We,Rt,ct,se)))}},1413:(gn,pt,W)=>{W.d(pt,{B:()=>xe});var R=W(1985),$=W(8359);const oe=(0,W(1853).L)(ct=>function(){ct(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=W(7908),gt=W(9786);let xe=(()=>{class ct extends R.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const We=new Be(this,this);return We.operator=se,We}_throwIfClosed(){if(this.closed)throw new oe}next(se){(0,gt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const We of this.currentObservers)We.next(se)}})}error(se){(0,gt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:We}=this;for(;We.length;)We.shift().error(se)}})}complete(){(0,gt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:We,isStopped:Rt,observers:vt}=this;return We||Rt?$.Kn:(this.currentObservers=null,vt.push(se),new $.yU(()=>{this.currentObservers=null,(0,Pe.o)(vt,se)}))}_checkFinalizedStatuses(se){const{hasError:We,thrownError:Rt,isStopped:vt}=this;We?se.error(Rt):vt&&se.complete()}asObservable(){const se=new R.c;return se.source=this,se}}return ct.create=(le,se)=>new Be(le,se),ct})();class Be extends xe{constructor(le,se){super(),this.destination=le,this.source=se}next(le){var se,We;null===(We=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===We||We.call(se,le)}error(le){var se,We;null===(We=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===We||We.call(se,le)}complete(){var le,se;null===(se=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===se||se.call(le)}_subscribe(le){var se,We;return null!==(We=null===(se=this.source)||void 0===se?void 0:se.subscribe(le))&&void 0!==We?We:$.Kn}}},1563:(gn,pt,W)=>{W.d(pt,{$b:()=>$,Vy:()=>xe});const R=[];var $=function(le){return le[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",le}($||{});const H={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},oe=$.INFO,Pe={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},gt=(le,se,...We)=>{if(se<le.logLevel)return;const Rt=(new Date).toISOString(),vt=Pe[se];if(!vt)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[vt](`[${Rt}]  ${le.name}:`,...We)};class xe{constructor(se){this.name=se,this._logLevel=oe,this._logHandler=gt,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in $))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?H[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...se),this._logHandler(this,$.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...se),this._logHandler(this,$.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,$.INFO,...se),this._logHandler(this,$.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,$.WARN,...se),this._logHandler(this,$.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...se),this._logHandler(this,$.ERROR,...se)}}},1635:(gn,pt,W)=>{function We(Q,Se,Ve,Re){return new(Ve||(Ve=Promise))(function(ft,Wt){function kt(Tn){try{Bt(Re.next(Tn))}catch(on){Wt(on)}}function Vn(Tn){try{Bt(Re.throw(Tn))}catch(on){Wt(on)}}function Bt(Tn){Tn.done?ft(Tn.value):function ot(ft){return ft instanceof Ve?ft:new Ve(function(Wt){Wt(ft)})}(Tn.value).then(kt,Vn)}Bt((Re=Re.apply(Q,Se||[])).next())})}function mt(Q){return this instanceof mt?(this.v=Q,this):new mt(Q)}function Oe(Q,Se,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,Re=Ve.apply(Q,Se||[]),ft=[];return ot=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),kt("next"),kt("throw"),kt("return",function Wt(St){return function(Jn){return Promise.resolve(Jn).then(St,on)}}),ot[Symbol.asyncIterator]=function(){return this},ot;function kt(St,Jn){Re[St]&&(ot[St]=function(Hn){return new Promise(function(tr,Cr){ft.push([St,Hn,tr,Cr])>1||Vn(St,Hn)})},Jn&&(ot[St]=Jn(ot[St])))}function Vn(St,Jn){try{!function Bt(St){St.value instanceof mt?Promise.resolve(St.value.v).then(Tn,on):ri(ft[0][2],St)}(Re[St](Jn))}catch(Hn){ri(ft[0][3],Hn)}}function Tn(St){Vn("next",St)}function on(St){Vn("throw",St)}function ri(St,Jn){St(Jn),ft.shift(),ft.length&&Vn(ft[0][0],ft[0][1])}}function it(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Se=Q[Symbol.asyncIterator];return Se?Se.call(Q):(Q=function Cn(Q){var Se="function"==typeof Symbol&&Symbol.iterator,Ve=Se&&Q[Se],Re=0;if(Ve)return Ve.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&Re>=Q.length&&(Q=void 0),{value:Q&&Q[Re++],done:!Q}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),Ve={},Re("next"),Re("throw"),Re("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function Re(ft){Ve[ft]=Q[ft]&&function(Wt){return new Promise(function(kt,Vn){!function ot(ft,Wt,kt,Vn){Promise.resolve(Vn).then(function(Bt){ft({value:Bt,done:kt})},Wt)}(kt,Vn,(Wt=Q[ft](Wt)).done,Wt.value)})}}}W.d(pt,{AQ:()=>Oe,N3:()=>mt,sH:()=>We,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError},1853:(gn,pt,W)=>{function R($){const oe=$(Pe=>{Error.call(Pe),Pe.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}W.d(pt,{L:()=>R})},1985:(gn,pt,W)=>{W.d(pt,{c:()=>Be});var R=W(7707),$=W(8359),H=W(3494),oe=W(1203),Pe=W(1026),gt=W(8071),xe=W(9786);let Be=(()=>{class We{constructor(vt){vt&&(this._subscribe=vt)}lift(vt){const Ot=new We;return Ot.source=this,Ot.operator=vt,Ot}subscribe(vt,Ot,Cn){const rn=function se(We){return We&&We instanceof R.vU||function le(We){return We&&(0,gt.T)(We.next)&&(0,gt.T)(We.error)&&(0,gt.T)(We.complete)}(We)&&(0,$.Uv)(We)}(vt)?vt:new R.Ms(vt,Ot,Cn);return(0,xe.Y)(()=>{const{operator:un,source:Nn}=this;rn.add(un?un.call(rn,Nn):Nn?this._subscribe(rn):this._trySubscribe(rn))}),rn}_trySubscribe(vt){try{return this._subscribe(vt)}catch(Ot){vt.error(Ot)}}forEach(vt,Ot){return new(Ot=ct(Ot))((Cn,rn)=>{const un=new R.Ms({next:Nn=>{try{vt(Nn)}catch(En){rn(En),un.unsubscribe()}},error:rn,complete:Cn});this.subscribe(un)})}_subscribe(vt){var Ot;return null===(Ot=this.source)||void 0===Ot?void 0:Ot.subscribe(vt)}[H.s](){return this}pipe(...vt){return(0,oe.m)(vt)(this)}toPromise(vt){return new(vt=ct(vt))((Ot,Cn)=>{let rn;this.subscribe(un=>rn=un,un=>Cn(un),()=>Ot(rn))})}}return We.create=Rt=>new We(Rt),We})();function ct(We){var Rt;return null!==(Rt=We??Pe.$.Promise)&&void 0!==Rt?Rt:Promise}},2881:(gn,pt,W)=>{W.d(pt,{MD:()=>Ts,Sq:()=>fi,bT:()=>ie,fw:()=>H});var R=W(1360),$=W(6048);let H=(()=>{class M extends $.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(L,B){super(),this._platformLocation=L,null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){const B=this._platformLocation.hash??"#";return B.length>0?B.substring(1):B}prepareExternalUrl(L){const B=(0,$.om)(this._baseHref,L);return B.length>0?"#"+B:B}pushState(L,B,ae,qe){const Pt=this.prepareExternalUrl(ae+(0,$.Q)(qe))||this._platformLocation.pathname;this._platformLocation.pushState(L,B,Pt)}replaceState(L,B,ae,qe){const Pt=this.prepareExternalUrl(ae+(0,$.Q)(qe))||this._platformLocation.pathname;this._platformLocation.replaceState(L,B,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}static \u0275fac=function(B){return new(B||M)(R.KVO($.Vw),R.KVO($.kB,8))};static \u0275prov=R.jDH({token:M,factory:M.\u0275fac})}return M})();class _r{$implicit;ngForOf;index;count;constructor(Y,L,B,ae){this.$implicit=Y,this.ngForOf=L,this.index=B,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fi=(()=>{class M{_viewContainer;_template;_differs;set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(L,B,ae){this._viewContainer=L,this._template=B,this._differs=ae}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const B=this._viewContainer;L.forEachOperation((ae,qe,Pt)=>{if(null==ae.previousIndex)B.createEmbeddedView(this._template,new _r(ae.item,this._ngForOf,-1,-1),null===Pt?void 0:Pt);else if(null==Pt)B.remove(null===qe?void 0:qe);else if(null!==qe){const Jt=B.get(qe);B.move(Jt,Pt),we(Jt,ae)}});for(let ae=0,qe=B.length;ae<qe;ae++){const Jt=B.get(ae).context;Jt.index=ae,Jt.count=qe,Jt.ngForOf=this._ngForOf}L.forEachIdentityChange(ae=>{we(B.get(ae.currentIndex),ae)})}static ngTemplateContextGuard(L,B){return!0}static \u0275fac=function(B){return new(B||M)(R.rXU(R.c1b),R.rXU(R.C4Q),R.rXU(R._q3))};static \u0275dir=R.FsC({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return M})();function we(M,Y){M.context.$implicit=Y.item}let ie=(()=>{class M{_viewContainer;_context=new me;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(L,B){this._viewContainer=L,this._thenTemplateRef=B}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){rt(L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){rt(L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(L,B){return!0}static \u0275fac=function(B){return new(B||M)(R.rXU(R.c1b),R.rXU(R.C4Q))};static \u0275dir=R.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return M})();class me{$implicit=null;ngIf=null}function rt(M,Y){if(M&&!M.createEmbeddedView)throw new R.wOt(2020,!1)}let Ts=(()=>{class M{static \u0275fac=function(B){return new(B||M)};static \u0275mod=R.$C({type:M});static \u0275inj=R.G2t({})}return M})()},3073:(gn,pt,W)=>{W.d(pt,{D:()=>Pe});const{isArray:R}=Array,{getPrototypeOf:$,prototype:H,keys:oe}=Object;function Pe(xe){if(1===xe.length){const Be=xe[0];if(R(Be))return{args:Be,keys:null};if(function gt(xe){return xe&&"object"==typeof xe&&$(xe)===H}(Be)){const ct=oe(Be);return{args:ct.map(le=>Be[le]),keys:ct}}}return{args:xe,keys:null}}},3494:(gn,pt,W)=>{W.d(pt,{s:()=>R});const R="function"==typeof Symbol&&Symbol.observable||"@@observable"},3669:(gn,pt,W)=>{function R($){return $}W.d(pt,{D:()=>R})},3794:(gn,pt,W)=>{W.d(pt,{ms:()=>oe,lI:()=>Pe});var R=W(8071);function H(xe){return xe[xe.length-1]}function oe(xe){return(0,R.T)(H(xe))?xe.pop():void 0}function Pe(xe){return function $(xe){return xe&&(0,R.T)(xe.schedule)}(H(xe))?xe.pop():void 0}},4012:(gn,pt,W)=>{W.d(pt,{h1:()=>Be,uA:()=>H});var R=W(467),$=W(9164);class H{constructor(le,se,We){this.name=le,this.instanceFactory=se,this.type=We,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const oe="[DEFAULT]";class Pe{constructor(le,se){this.name=le,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const se=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(se)){const We=new $.cY;if(this.instancesDeferred.set(se,We),this.isInitialized(se)||this.shouldAutoInitialize())try{const Rt=this.getOrInitializeService({instanceIdentifier:se});Rt&&We.resolve(Rt)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(le){const se=this.normalizeInstanceIdentifier(le?.identifier),We=le?.optional??!1;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Rt){if(We)return null;throw Rt}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function xe(ct){return"EAGER"===ct.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[se,We]of this.instancesDeferred.entries()){const Rt=this.normalizeInstanceIdentifier(se);try{const vt=this.getOrInitializeService({instanceIdentifier:Rt});We.resolve(vt)}catch{}}}}clearInstance(le=oe){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,R.A)(function*(){const se=Array.from(le.instances.values());yield Promise.all([...se.filter(We=>"INTERNAL"in We).map(We=>We.INTERNAL.delete()),...se.filter(We=>"_delete"in We).map(We=>We._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=oe){return this.instances.has(le)}getOptions(le=oe){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:se={}}=le,We=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(We))throw Error(`${this.name}(${We}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Rt=this.getOrInitializeService({instanceIdentifier:We,options:se});for(const[vt,Ot]of this.instancesDeferred.entries())We===this.normalizeInstanceIdentifier(vt)&&Ot.resolve(Rt);return Rt}onInit(le,se){const We=this.normalizeInstanceIdentifier(se),Rt=this.onInitCallbacks.get(We)??new Set;Rt.add(le),this.onInitCallbacks.set(We,Rt);const vt=this.instances.get(We);return vt&&le(vt,We),()=>{Rt.delete(le)}}invokeOnInitCallbacks(le,se){const We=this.onInitCallbacks.get(se);if(We)for(const Rt of We)try{Rt(le,se)}catch{}}getOrInitializeService({instanceIdentifier:le,options:se={}}){let We=this.instances.get(le);if(!We&&this.component&&(We=this.component.instanceFactory(this.container,{instanceIdentifier:(ct=le,ct===oe?void 0:ct),options:se}),this.instances.set(le,We),this.instancesOptions.set(le,se),this.invokeOnInitCallbacks(We,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,We)}catch{}var ct;return We||null}normalizeInstanceIdentifier(le=oe){return this.component?this.component.multipleInstances?le:oe:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const se=this.getProvider(le.name);if(se.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);se.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const se=new Pe(le,this);return this.providers.set(le,se),se}getProviders(){return Array.from(this.providers.values())}}},4056:(gn,pt,W)=>{W.d(pt,{MF:()=>si,j6:()=>ge,xZ:()=>sn,om:()=>Ke,Sx:()=>Ri,Wp:()=>Si,KO:()=>yr});var R=W(467),$=W(4012),H=W(1563),oe=W(9164);let gt,xe;const le=new WeakMap,se=new WeakMap,We=new WeakMap,Rt=new WeakMap,vt=new WeakMap;let rn={get(te,ne,Ce){if(te instanceof IDBTransaction){if("done"===ne)return se.get(te);if("objectStoreNames"===ne)return te.objectStoreNames||We.get(te);if("store"===ne)return Ce.objectStoreNames[1]?void 0:Ce.objectStore(Ce.objectStoreNames[0])}return mt(te[ne])},set:(te,ne,Ce)=>(te[ne]=Ce,!0),has:(te,ne)=>te instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in te};function En(te){return"function"==typeof te?function Nn(te){return te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ct(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(te)?function(...ne){return te.apply(Oe(this),ne),mt(le.get(this))}:function(...ne){return mt(te.apply(Oe(this),ne))}:function(ne,...Ce){const lt=te.call(Oe(this),ne,...Ce);return We.set(lt,ne.sort?ne.sort():[ne]),mt(lt)}}(te):(te instanceof IDBTransaction&&function Cn(te){if(se.has(te))return;const ne=new Promise((Ce,lt)=>{const Ft=()=>{te.removeEventListener("complete",Xt),te.removeEventListener("error",$t),te.removeEventListener("abort",$t)},Xt=()=>{Ce(),Ft()},$t=()=>{lt(te.error||new DOMException("AbortError","AbortError")),Ft()};te.addEventListener("complete",Xt),te.addEventListener("error",$t),te.addEventListener("abort",$t)});se.set(te,ne)}(te),((te,ne)=>ne.some(Ce=>te instanceof Ce))(te,function Be(){return gt||(gt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(te,rn):te)}function mt(te){if(te instanceof IDBRequest)return function Ot(te){const ne=new Promise((Ce,lt)=>{const Ft=()=>{te.removeEventListener("success",Xt),te.removeEventListener("error",$t)},Xt=()=>{Ce(mt(te.result)),Ft()},$t=()=>{lt(te.error),Ft()};te.addEventListener("success",Xt),te.addEventListener("error",$t)});return ne.then(Ce=>{Ce instanceof IDBCursor&&le.set(Ce,te)}).catch(()=>{}),vt.set(ne,te),ne}(te);if(Rt.has(te))return Rt.get(te);const ne=En(te);return ne!==te&&(Rt.set(te,ne),vt.set(ne,te)),ne}const Oe=te=>vt.get(te),et=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],mn=new Map;function je(te,ne){if(!(te instanceof IDBDatabase)||ne in te||"string"!=typeof ne)return;if(mn.get(ne))return mn.get(ne);const Ce=ne.replace(/FromIndex$/,""),lt=ne!==Ce,Ft=Te.includes(Ce);if(!(Ce in(lt?IDBIndex:IDBObjectStore).prototype)||!Ft&&!et.includes(Ce))return;const Xt=function(){var $t=(0,R.A)(function*(dn,...Sn){const tn=this.transaction(dn,Ft?"readwrite":"readonly");let Rn=tn.store;return lt&&(Rn=Rn.index(Sn.shift())),(yield Promise.all([Rn[Ce](...Sn),Ft&&tn.done]))[0]});return function(Sn){return $t.apply(this,arguments)}}();return mn.set(ne,Xt),Xt}!function un(te){rn=te(rn)}(te=>({...te,get:(ne,Ce,lt)=>je(ne,Ce)||te.get(ne,Ce,lt),has:(ne,Ce)=>!!je(ne,Ce)||te.has(ne,Ce)}));class en{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Ce=>{if(function Bn(te){return"VERSION"===te.getComponent()?.type}(Ce)){const lt=Ce.getImmediate();return`${lt.library}/${lt.version}`}return null}).filter(Ce=>Ce).join(" ")}}const Xn="@firebase/app",wn=new H.Vy("@firebase/app"),Nt="@firebase/app-compat",Ar="@firebase/analytics-compat",yt="@firebase/analytics",ve="@firebase/app-check-compat",Q="@firebase/app-check",Se="@firebase/auth",Ve="@firebase/auth-compat",Re="@firebase/database",ot="@firebase/data-connect",ft="@firebase/database-compat",Wt="@firebase/functions",kt="@firebase/functions-compat",Vn="@firebase/installations",Bt="@firebase/installations-compat",Tn="@firebase/messaging",on="@firebase/messaging-compat",ri="@firebase/performance",St="@firebase/performance-compat",Jn="@firebase/remote-config",Hn="@firebase/remote-config-compat",tr="@firebase/storage",Cr="@firebase/storage-compat",Qr="@firebase/firestore",wi="@firebase/ai",Oi="@firebase/firestore-compat",or="firebase",ii="[DEFAULT]",Wn={[Xn]:"fire-core",[Nt]:"fire-core-compat",[yt]:"fire-analytics",[Ar]:"fire-analytics-compat",[Q]:"fire-app-check",[ve]:"fire-app-check-compat",[Se]:"fire-auth",[Ve]:"fire-auth-compat",[Re]:"fire-rtdb",[ot]:"fire-data-connect",[ft]:"fire-rtdb-compat",[Wt]:"fire-fn",[kt]:"fire-fn-compat",[Vn]:"fire-iid",[Bt]:"fire-iid-compat",[Tn]:"fire-fcm",[on]:"fire-fcm-compat",[ri]:"fire-perf",[St]:"fire-perf-compat",[Jn]:"fire-rc",[Hn]:"fire-rc-compat",[tr]:"fire-gcs",[Cr]:"fire-gcs-compat",[Qr]:"fire-fst",[Oi]:"fire-fst-compat",[wi]:"fire-vertex","fire-js":"fire-js",[or]:"fire-js-all"},It=new Map,At=new Map,oi=new Map;function hi(te,ne){try{te.container.addComponent(ne)}catch(Ce){wn.debug(`Component ${ne.name} failed to register with FirebaseApp ${te.name}`,Ce)}}function Ke(te){const ne=te.name;if(oi.has(ne))return wn.debug(`There were multiple attempts to register component ${ne}.`),!1;oi.set(ne,te);for(const Ce of It.values())hi(Ce,te);for(const Ce of At.values())hi(Ce,te);return!0}function ge(te,ne){const Ce=te.container.getProvider("heartbeat").getImmediate({optional:!0});return Ce&&Ce.triggerHeartbeat(),te.container.getProvider(ne)}function sn(te){return null!=te&&void 0!==te.settings}const Ut=new oe.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Et{constructor(ne,Ce,lt){this._isDeleted=!1,this._options={...ne},this._config={...Ce},this._name=Ce.name,this._automaticDataCollectionEnabled=Ce.automaticDataCollectionEnabled,this._container=lt,this.container.addComponent(new $.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Ut.create("app-deleted",{appName:this._name})}}const si="12.2.0";function Si(te,ne={}){let Ce=te;"object"!=typeof ne&&(ne={name:ne});const lt={name:ii,automaticDataCollectionEnabled:!0,...ne},Ft=lt.name;if("string"!=typeof Ft||!Ft)throw Ut.create("bad-app-name",{appName:String(Ft)});if(Ce||(Ce=(0,oe.T9)()),!Ce)throw Ut.create("no-options");const Xt=It.get(Ft);if(Xt){if((0,oe.bD)(Ce,Xt.options)&&(0,oe.bD)(lt,Xt.config))return Xt;throw Ut.create("duplicate-app",{appName:Ft})}const $t=new $.h1(Ft);for(const Sn of oi.values())$t.addComponent(Sn);const dn=new Et(Ce,lt,$t);return It.set(Ft,dn),dn}function Ri(te=ii){const ne=It.get(te);if(!ne&&te===ii&&(0,oe.T9)())return Si();if(!ne)throw Ut.create("no-app",{appName:te});return ne}function yr(te,ne,Ce){let lt=Wn[te]??te;Ce&&(lt+=`-${Ce}`);const Ft=lt.match(/\s|\//),Xt=ne.match(/\s|\//);if(Ft||Xt){const $t=[`Unable to register library "${lt}" with version "${ne}":`];return Ft&&$t.push(`library name "${lt}" contains illegal characters (whitespace or "/")`),Ft&&Xt&&$t.push("and"),Xt&&$t.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void wn.warn($t.join(" "))}Ke(new $.uA(`${lt}-version`,()=>({library:lt,version:ne}),"VERSION"))}const _r="firebase-heartbeat-store";let fi=null;function we(){return fi||(fi=function at(te,ne,{blocked:Ce,upgrade:lt,blocking:Ft,terminated:Xt}={}){const $t=indexedDB.open(te,ne),dn=mt($t);return lt&&$t.addEventListener("upgradeneeded",Sn=>{lt(mt($t.result),Sn.oldVersion,Sn.newVersion,mt($t.transaction),Sn)}),Ce&&$t.addEventListener("blocked",Sn=>Ce(Sn.oldVersion,Sn.newVersion,Sn)),dn.then(Sn=>{Xt&&Sn.addEventListener("close",()=>Xt()),Ft&&Sn.addEventListener("versionchange",tn=>Ft(tn.oldVersion,tn.newVersion,tn))}).catch(()=>{}),dn}("firebase-heartbeat-database",1,{upgrade:(te,ne)=>{if(0===ne)try{te.createObjectStore(_r)}catch(Ce){console.warn(Ce)}}}).catch(te=>{throw Ut.create("idb-open",{originalErrorMessage:te.message})})),fi}function ie(){return(ie=(0,R.A)(function*(te){try{const Ce=(yield we()).transaction(_r),lt=yield Ce.objectStore(_r).get(He(te));return yield Ce.done,lt}catch(ne){if(ne instanceof oe.g)wn.warn(ne.message);else{const Ce=Ut.create("idb-get",{originalErrorMessage:ne?.message});wn.warn(Ce.message)}}})).apply(this,arguments)}function me(te,ne){return rt.apply(this,arguments)}function rt(){return(rt=(0,R.A)(function*(te,ne){try{const lt=(yield we()).transaction(_r,"readwrite");yield lt.objectStore(_r).put(ne,He(te)),yield lt.done}catch(Ce){if(Ce instanceof oe.g)wn.warn(Ce.message);else{const lt=Ut.create("idb-set",{originalErrorMessage:Ce?.message});wn.warn(lt.message)}}})).apply(this,arguments)}function He(te){return`${te.name}!${te.options.appId}`}class ar{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Ce=this.container.getProvider("app").getImmediate();this._storage=new ce(Ce),this._heartbeatsCachePromise=this._storage.read().then(lt=>(this._heartbeatsCache=lt,lt))}triggerHeartbeat(){var ne=this;return(0,R.A)(function*(){try{const lt=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=z();if(null==ne._heartbeatsCache?.heartbeats&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise,null==ne._heartbeatsCache?.heartbeats)||ne._heartbeatsCache.lastSentHeartbeatDate===Ft||ne._heartbeatsCache.heartbeats.some(Xt=>Xt.date===Ft))return;if(ne._heartbeatsCache.heartbeats.push({date:Ft,agent:lt}),ne._heartbeatsCache.heartbeats.length>30){const Xt=function Fe(te){if(0===te.length)return-1;let ne=0,Ce=te[0].date;for(let lt=1;lt<te.length;lt++)te[lt].date<Ce&&(Ce=te[lt].date,ne=lt);return ne}(ne._heartbeatsCache.heartbeats);ne._heartbeatsCache.heartbeats.splice(Xt,1)}return ne._storage.overwrite(ne._heartbeatsCache)}catch(Ce){wn.warn(Ce)}})()}getHeartbeatsHeader(){var ne=this;return(0,R.A)(function*(){try{if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null==ne._heartbeatsCache?.heartbeats||0===ne._heartbeatsCache.heartbeats.length)return"";const Ce=z(),{heartbeatsToSend:lt,unsentEntries:Ft}=function X(te,ne=1024){const Ce=[];let lt=te.slice();for(const Ft of te){const Xt=Ce.find($t=>$t.agent===Ft.agent);if(Xt){if(Xt.dates.push(Ft.date),Me(Ce)>ne){Xt.dates.pop();break}}else if(Ce.push({agent:Ft.agent,dates:[Ft.date]}),Me(Ce)>ne){Ce.pop();break}lt=lt.slice(1)}return{heartbeatsToSend:Ce,unsentEntries:lt}}(ne._heartbeatsCache.heartbeats),Xt=(0,oe.Uj)(JSON.stringify({version:2,heartbeats:lt}));return ne._heartbeatsCache.lastSentHeartbeatDate=Ce,Ft.length>0?(ne._heartbeatsCache.heartbeats=Ft,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Xt}catch(Ce){return wn.warn(Ce),""}})()}}function z(){return(new Date).toISOString().substring(0,10)}class ce{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.A)(function*(){return!!(0,oe.zW)()&&(0,oe.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,R.A)(function*(){if(yield ne._canUseIndexedDBPromise){const lt=yield function re(te){return ie.apply(this,arguments)}(ne.app);return lt?.heartbeats?lt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ne){var Ce=this;return(0,R.A)(function*(){if(yield Ce._canUseIndexedDBPromise){const Ft=yield Ce.read();return me(Ce.app,{lastSentHeartbeatDate:ne.lastSentHeartbeatDate??Ft.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Ce=this;return(0,R.A)(function*(){if(yield Ce._canUseIndexedDBPromise){const Ft=yield Ce.read();return me(Ce.app,{lastSentHeartbeatDate:ne.lastSentHeartbeatDate??Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...ne.heartbeats]})}})()}}function Me(te){return(0,oe.Uj)(JSON.stringify({version:2,heartbeats:te})).length}!function Xe(te){Ke(new $.uA("platform-logger",ne=>new en(ne),"PRIVATE")),Ke(new $.uA("heartbeat",ne=>new ar(ne),"PRIVATE")),yr(Xn,"0.14.2",te),yr(Xn,"0.14.2","esm2020"),yr("fire-js","")}("")},4360:(gn,pt,W)=>{W.d(pt,{_:()=>$});var R=W(7707);function $(oe,Pe,gt,xe,Be){return new H(oe,Pe,gt,xe,Be)}class H extends R.vU{constructor(Pe,gt,xe,Be,ct,le){super(Pe),this.onFinalize=ct,this.shouldUnsubscribe=le,this._next=gt?function(se){try{gt(se)}catch(We){Pe.error(We)}}:super._next,this._error=Be?function(se){try{Be(se)}catch(We){Pe.error(We)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(se){Pe.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:gt}=this;super.unsubscribe(),!gt&&(null===(Pe=this.onFinalize)||void 0===Pe||Pe.call(this))}}}},4412:(gn,pt,W)=>{W.d(pt,{t:()=>$});var R=W(1413);class $ extends R.B{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const Pe=super._subscribe(oe);return!Pe.closed&&oe.next(this._value),Pe}getValue(){const{hasError:oe,thrownError:Pe,_value:gt}=this;if(oe)throw Pe;return this._throwIfClosed(),gt}next(oe){super.next(this._value=oe)}}},4606:(gn,pt,W)=>{W.d(pt,{j:()=>ct,db:()=>Be});var R=W(4056);(0,R.KO)("firebase","12.2.1","app");var oe=W(9112),Pe=W(6060);const xe=(0,R.Wp)({apiKey:"AIzaSyCUmYI4OygEaKcnvEqbB54PExiQzgOCm2g",authDomain:"testetecnico-8392e.firebaseapp.com",projectId:"testetecnico-8392e",storageBucket:"testetecnico-8392e.firebasestorage.app",messagingSenderId:"654901677494",appId:"1:654901677494:web:94bb24d1d56c934c660517",measurementId:"G-9VPXM4Y5SY"}),Be=(0,oe.aU)(xe),ct=(0,Pe.xI)(xe)},4611:(gn,pt,W)=>{W.d(pt,{nX:()=>Br,Pu:()=>Wc,Zp:()=>ir,nU:()=>Ft,c1:()=>Qo,XR:()=>qc,wF:()=>Ir,lW:()=>co,mo:()=>ao,Z:()=>hn,J2:()=>sc,J_:()=>Ns,bw:()=>Qi,tD:()=>Aa,Ix:()=>es,D$:()=>Gd,n3:()=>Pu,OY:()=>qo,Sd:()=>lt,bK:()=>Ml,gk:()=>hs,Lg:()=>Ln,wO:()=>M,Us:()=>Js,we:()=>jo});var R=W(9361),$=W(6048),H=W(1360),oe=W(1985),Pe=W(8071),xe=W(6648),Be=W(7673),ct=W(4412),le=W(3073),se=W(3669),We=W(6450),Rt=W(3794),vt=W(8496),Ot=W(4360),Cn=W(5225);function rn(..._){const D=(0,Rt.lI)(_),v=(0,Rt.ms)(_),{args:A,keys:N}=(0,le.D)(_);if(0===A.length)return(0,xe.H)([],D);const V=new oe.c(function un(_,D,v=se.D){return A=>{Nn(D,()=>{const{length:N}=_,V=new Array(N);let j=N,ye=N;for(let ke=0;ke<N;ke++)Nn(D,()=>{const Ct=(0,xe.H)(_[ke],D);let _n=!1;Ct.subscribe((0,Ot._)(A,dr=>{V[ke]=dr,_n||(_n=!0,ye--),ye||A.next(v(V.slice()))},()=>{--j||A.complete()}))},A)},A)}}(A,D,N?j=>(0,vt.e)(N,j):se.D));return v?V.pipe((0,We.I)(v)):V}function Nn(_,D,v){_?(0,Cn.N)(v,_,D):D()}const mt=(0,W(1853).L)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var Oe=W(6365);function it(..._){return function at(){return(0,Oe.U)(1)}()((0,xe.H)(_,(0,Rt.lI)(_)))}var et=W(8750);function Te(_){return new oe.c(D=>{(0,et.Tg)(_()).subscribe(D)})}var mn=W(1203);function je(_,D){const v=(0,Pe.T)(_)?_:()=>_,A=N=>N.error(v());return new oe.c(D?N=>D.schedule(A,0,N):A)}const en=new oe.c(_=>_.complete());var Dt=W(8359),wn=W(9974);function Nt(){return(0,wn.N)((_,D)=>{let v=null;_._refCount++;const A=(0,Ot._)(D,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(v=null);const N=_._connection,V=v;v=null,N&&(!V||N===V)&&N.unsubscribe(),D.unsubscribe()});_.subscribe(A),A.closed||(v=_.connect())})}class Ar extends oe.c{constructor(D,v){super(),this.source=D,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,wn.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Dt.yU;const v=this.getSubject();D.add(this.source.subscribe((0,Ot._)(v,void 0,()=>{this._teardown(),v.complete()},A=>{this._teardown(),v.error(A)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Dt.yU.EMPTY)}return D}refCount(){return Nt()(this)}}var yt=W(1413),ve=W(6354),Q=W(5558);function Se(_){return _<=0?()=>en:(0,wn.N)((D,v)=>{let A=0;D.subscribe((0,Ot._)(v,N=>{++A<=_&&(v.next(N),_<=A&&v.complete())}))})}var Re=W(5964),ot=W(1397);function ft(_){return(0,wn.N)((D,v)=>{let A=!1;D.subscribe((0,Ot._)(v,N=>{A=!0,v.next(N)},()=>{A||v.next(_),v.complete()}))})}function Wt(_=kt){return(0,wn.N)((D,v)=>{let A=!1;D.subscribe((0,Ot._)(v,N=>{A=!0,v.next(N)},()=>A?v.complete():v.error(_())))})}function kt(){return new mt}function Vn(_,D){const v=arguments.length>=2;return A=>A.pipe(_?(0,Re.p)((N,V)=>_(N,V,A)):se.D,Se(1),v?ft(D):Wt(()=>new mt))}var Bt=W(274);function Tn(_,D,v){const A=(0,Pe.T)(_)||D||v?{next:_,error:D,complete:v}:_;return A?(0,wn.N)((N,V)=>{var j;null===(j=A.subscribe)||void 0===j||j.call(A);let ye=!0;N.subscribe((0,Ot._)(V,ke=>{var Ct;null===(Ct=A.next)||void 0===Ct||Ct.call(A,ke),V.next(ke)},()=>{var ke;ye=!1,null===(ke=A.complete)||void 0===ke||ke.call(A),V.complete()},ke=>{var Ct;ye=!1,null===(Ct=A.error)||void 0===Ct||Ct.call(A,ke),V.error(ke)},()=>{var ke,Ct;ye&&(null===(ke=A.unsubscribe)||void 0===ke||ke.call(A)),null===(Ct=A.finalize)||void 0===Ct||Ct.call(A)}))}):se.D}function on(_){return(0,wn.N)((D,v)=>{let V,A=null,N=!1;A=D.subscribe((0,Ot._)(v,void 0,void 0,j=>{V=(0,et.Tg)(_(j,on(_)(D))),A?(A.unsubscribe(),A=null,V.subscribe(v)):N=!0})),N&&(A.unsubscribe(),A=null,V.subscribe(v))})}function Jn(_){return _<=0?()=>en:(0,wn.N)((D,v)=>{let A=[];D.subscribe((0,Ot._)(v,N=>{A.push(N),_<A.length&&A.shift()},()=>{for(const N of A)v.next(N);v.complete()},void 0,()=>{A=null}))})}var tr=W(980),Cr=W(5343);let or=(()=>{class _{_doc;constructor(v){this._doc=v}getTitle(){return this._doc.title}setTitle(v){this._doc.title=v||""}static \u0275fac=function(A){return new(A||_)(H.KVO(R.q))};static \u0275prov=H.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const In="primary",yr=Symbol("RouteTitle");class rr{params;constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const v=this.params[D];return Array.isArray(v)?v[0]:v}return null}getAll(D){if(this.has(D)){const v=this.params[D];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function Vt(_){return new rr(_)}function Xr(_,D,v){const A=v.path.split("/");if(A.length>_.length||"full"===v.pathMatch&&(D.hasChildren()||A.length<_.length))return null;const N={};for(let V=0;V<A.length;V++){const j=A[V],ye=_[V];if(":"===j[0])N[j.substring(1)]=ye;else if(j!==ye.path)return null}return{consumed:_.slice(0,A.length),posParams:N}}function _r(_,D){const v=_?fi(_):void 0,A=D?fi(D):void 0;if(!v||!A||v.length!=A.length)return!1;let N;for(let V=0;V<v.length;V++)if(N=v[V],!we(_[N],D[N]))return!1;return!0}function fi(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}function we(_,D){if(Array.isArray(_)&&Array.isArray(D)){if(_.length!==D.length)return!1;const v=[..._].sort(),A=[...D].sort();return v.every((N,V)=>A[V]===N)}return _===D}function re(_){return _.length>0?_[_.length-1]:null}function ie(_){return function gt(_){return!!_&&(_ instanceof oe.c||(0,Pe.T)(_.lift)&&(0,Pe.T)(_.subscribe))}(_)?_:(0,H.jNT)(_)?(0,xe.H)(Promise.resolve(_)):(0,Be.of)(_)}const me={exact:function an(_,D,v){if(!ne(_.segments,D.segments)||!ce(_.segments,D.segments,v)||_.numberOfChildren!==D.numberOfChildren)return!1;for(const A in D.children)if(!_.children[A]||!an(_.children[A],D.children[A],v))return!1;return!0},subset:z},rt={exact:function Kt(_,D){return _r(_,D)},subset:function ar(_,D){return Object.keys(D).length<=Object.keys(_).length&&Object.keys(D).every(v=>we(_[v],D[v]))},ignored:()=>!0};function He(_,D,v){return me[v.paths](_.root,D.root,v.matrixParams)&&rt[v.queryParams](_.queryParams,D.queryParams)&&!("exact"===v.fragment&&_.fragment!==D.fragment)}function z(_,D,v){return X(_,D,D.segments,v)}function X(_,D,v,A){if(_.segments.length>v.length){const N=_.segments.slice(0,v.length);return!(!ne(N,v)||D.hasChildren()||!ce(N,v,A))}if(_.segments.length===v.length){if(!ne(_.segments,v)||!ce(_.segments,v,A))return!1;for(const N in D.children)if(!_.children[N]||!z(_.children[N],D.children[N],A))return!1;return!0}{const N=v.slice(0,_.segments.length),V=v.slice(_.segments.length);return!!(ne(_.segments,N)&&ce(_.segments,N,A)&&_.children[In])&&X(_.children[In],D,V,A)}}function ce(_,D,v){return D.every((A,N)=>rt[v](_[N].parameters,A.parameters))}class Me{root;queryParams;fragment;_queryParamMap;constructor(D=new Fe([],{}),v={},A=null){this.root=D,this.queryParams=v,this.fragment=A}get queryParamMap(){return this._queryParamMap??=Vt(this.queryParams),this._queryParamMap}toString(){return Xt.serialize(this)}}class Fe{segments;children;parent=null;constructor(D,v){this.segments=D,this.children=v,Object.values(v).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class Xe{path;parameters;_parameterMap;constructor(D,v){this.path=D,this.parameters=v}get parameterMap(){return this._parameterMap??=Vt(this.parameters),this._parameterMap}toString(){return Mi(this)}}function ne(_,D){return _.length===D.length&&_.every((v,A)=>v.path===D[A].path)}let lt=(()=>{class _{static \u0275fac=function(A){return new(A||_)};static \u0275prov=H.jDH({token:_,factory:()=>new Ft,providedIn:"root"})}return _})();class Ft{parse(D){const v=new Di(D);return new Me(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(D){const v=`/${dn(D.root,!0)}`,A=function Vo(_){const D=Object.entries(_).map(([v,A])=>Array.isArray(A)?A.map(N=>`${tn(v)}=${tn(N)}`).join("&"):`${tn(v)}=${tn(A)}`).filter(v=>v);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${v}${A}${"string"==typeof D.fragment?`#${function Rn(_){return encodeURI(_)}(D.fragment)}`:""}`}}const Xt=new Ft;function $t(_){return _.segments.map(D=>Mi(D)).join("/")}function dn(_,D){if(!_.hasChildren())return $t(_);if(D){const v=_.children[In]?dn(_.children[In],!1):"",A=[];return Object.entries(_.children).forEach(([N,V])=>{N!==In&&A.push(`${N}:${dn(V,!1)}`)}),A.length>0?`${v}(${A.join("//")})`:v}{const v=function Ce(_,D){let v=[];return Object.entries(_.children).forEach(([A,N])=>{A===In&&(v=v.concat(D(N,A)))}),Object.entries(_.children).forEach(([A,N])=>{A!==In&&(v=v.concat(D(N,A)))}),v}(_,(A,N)=>N===In?[dn(_.children[In],!1)]:[`${N}:${dn(A,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[In]?`${$t(_)}/${v[0]}`:`${$t(_)}/(${v.join("//")})`}}function Sn(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tn(_){return Sn(_).replace(/%3B/gi,";")}function vr(_){return Sn(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pi(_){return decodeURIComponent(_)}function jt(_){return pi(_.replace(/\+/g,"%20"))}function Mi(_){return`${vr(_.path)}${function br(_){return Object.entries(_).map(([D,v])=>`;${vr(D)}=${vr(v)}`).join("")}(_.parameters)}`}const ai=/^[^\/()?;#]+/;function Vr(_){const D=_.match(ai);return D?D[0]:""}const Yi=/^[^\/()?;=#]+/,bu=/^[^=?&#]+/,Es=/^[^&#]+/;class Di{url;remaining;constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(D.length>0||Object.keys(v).length>0)&&(A[In]=new Fe(D,v)),A}parseSegment(){const D=Vr(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new H.wOt(4009,!1);return this.capture(D),new Xe(pi(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const v=function Qa(_){const D=_.match(Yi);return D?D[0]:""}(this.remaining);if(!v)return;this.capture(v);let A="";if(this.consumeOptional("=")){const N=Vr(this.remaining);N&&(A=N,this.capture(A))}D[pi(v)]=pi(A)}parseQueryParam(D){const v=function Is(_){const D=_.match(bu);return D?D[0]:""}(this.remaining);if(!v)return;this.capture(v);let A="";if(this.consumeOptional("=")){const j=function Ws(_){const D=_.match(Es);return D?D[0]:""}(this.remaining);j&&(A=j,this.capture(A))}const N=jt(v),V=jt(A);if(D.hasOwnProperty(N)){let j=D[N];Array.isArray(j)||(j=[j],D[N]=j),j.push(V)}else D[N]=V}parseParens(D){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Vr(this.remaining),N=this.remaining[A.length];if("/"!==N&&")"!==N&&";"!==N)throw new H.wOt(4010,!1);let V;A.indexOf(":")>-1?(V=A.slice(0,A.indexOf(":")),this.capture(V),this.capture(":")):D&&(V=In);const j=this.parseChildren();v[V]=1===Object.keys(j).length?j[In]:new Fe([],j),this.consumeOptional("//")}return v}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new H.wOt(4011,!1)}}function Uo(_){return _.segments.length>0?new Fe([],{[In]:_}):_}function Eo(_){const D={};for(const[A,N]of Object.entries(_.children)){const V=Eo(N);if(A===In&&0===V.segments.length&&V.hasChildren())for(const[j,ye]of Object.entries(V.children))D[j]=ye;else(V.segments.length>0||V.hasChildren())&&(D[A]=V)}return function Ts(_){if(1===_.numberOfChildren&&_.children[In]){const D=_.children[In];return new Fe(_.segments.concat(D.segments),D.children)}return _}(new Fe(_.segments,D))}function M(_){return _ instanceof Me}function L(_){let D;const N=Uo(function v(V){const j={};for(const ke of V.children){const Ct=v(ke);j[ke.outlet]=Ct}const ye=new Fe(V.url,j);return V===_&&(D=ye),ye}(_.root));return D??N}function B(_,D,v,A){let N=_;for(;N.parent;)N=N.parent;if(0===D.length)return Pt(N,N,N,v,A);const V=function cr(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new fr(!0,0,_);let D=0,v=!1;const A=_.reduce((N,V,j)=>{if("object"==typeof V&&null!=V){if(V.outlets){const ye={};return Object.entries(V.outlets).forEach(([ke,Ct])=>{ye[ke]="string"==typeof Ct?Ct.split("/"):Ct}),[...N,{outlets:ye}]}if(V.segmentPath)return[...N,V.segmentPath]}return"string"!=typeof V?[...N,V]:0===j?(V.split("/").forEach((ye,ke)=>{0==ke&&"."===ye||(0==ke&&""===ye?v=!0:".."===ye?D++:""!=ye&&N.push(ye))}),N):[...N,V]},[]);return new fr(v,D,A)}(D);if(V.toRoot())return Pt(N,N,new Fe([],{}),v,A);const j=function Pn(_,D,v){if(_.isAbsolute)return new zn(D,!0,0);if(!v)return new zn(D,!1,NaN);if(null===v.parent)return new zn(v,!0,0);const A=ae(_.commands[0])?0:1;return function cn(_,D,v){let A=_,N=D,V=v;for(;V>N;){if(V-=N,A=A.parent,!A)throw new H.wOt(4005,!1);N=A.segments.length}return new zn(A,!1,N-V)}(v,v.segments.length-1+A,_.numberOfDoubleDots)}(V,N,_),ye=j.processChildren?ur(j.segmentGroup,j.index,V.commands):ci(j.segmentGroup,j.index,V.commands);return Pt(N,j.segmentGroup,ye,v,A)}function ae(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function qe(_){return"object"==typeof _&&null!=_&&_.outlets}function Pt(_,D,v,A,N){let j,V={};A&&Object.entries(A).forEach(([ke,Ct])=>{V[ke]=Array.isArray(Ct)?Ct.map(_n=>`${_n}`):`${Ct}`}),j=_===D?v:Jt(_,D,v);const ye=Uo(Eo(j));return new Me(ye,V,N)}function Jt(_,D,v){const A={};return Object.entries(_.children).forEach(([N,V])=>{A[N]=V===D?v:Jt(V,D,v)}),new Fe(_.segments,A)}class fr{isAbsolute;numberOfDoubleDots;commands;constructor(D,v,A){if(this.isAbsolute=D,this.numberOfDoubleDots=v,this.commands=A,D&&A.length>0&&ae(A[0]))throw new H.wOt(4003,!1);const N=A.find(qe);if(N&&N!==re(A))throw new H.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zn{segmentGroup;processChildren;index;constructor(D,v,A){this.segmentGroup=D,this.processChildren=v,this.index=A}}function ci(_,D,v){if(_??=new Fe([],{}),0===_.segments.length&&_.hasChildren())return ur(_,D,v);const A=function so(_,D,v){let A=0,N=D;const V={match:!1,pathIndex:0,commandIndex:0};for(;N<_.segments.length;){if(A>=v.length)return V;const j=_.segments[N],ye=v[A];if(qe(ye))break;const ke=`${ye}`,Ct=A<v.length-1?v[A+1]:null;if(N>0&&void 0===ke)break;if(ke&&Ct&&"object"==typeof Ct&&void 0===Ct.outlets){if(!he(ke,Ct,j))return V;A+=2}else{if(!he(ke,{},j))return V;A++}N++}return{match:!0,pathIndex:N,commandIndex:A}}(_,D,v),N=v.slice(A.commandIndex);if(A.match&&A.pathIndex<_.segments.length){const V=new Fe(_.segments.slice(0,A.pathIndex),{});return V.children[In]=new Fe(_.segments.slice(A.pathIndex),_.children),ur(V,0,N)}return A.match&&0===N.length?new Fe(_.segments,{}):A.match&&!_.hasChildren()?eo(_,D,v):A.match?ur(_,0,N):eo(_,D,v)}function ur(_,D,v){if(0===v.length)return new Fe(_.segments,{});{const A=function qn(_){return qe(_[0])?_[0].outlets:{[In]:_}}(v),N={};if(Object.keys(A).some(V=>V!==In)&&_.children[In]&&1===_.numberOfChildren&&0===_.children[In].segments.length){const V=ur(_.children[In],D,v);return new Fe(_.segments,V.children)}return Object.entries(A).forEach(([V,j])=>{"string"==typeof j&&(j=[j]),null!==j&&(N[V]=ci(_.children[V],D,j))}),Object.entries(_.children).forEach(([V,j])=>{void 0===A[V]&&(N[V]=j)}),new Fe(_.segments,N)}}function eo(_,D,v){const A=_.segments.slice(0,D);let N=0;for(;N<v.length;){const V=v[N];if(qe(V)){const ke=J(V.outlets);return new Fe(A,ke)}if(0===N&&ae(v[0])){A.push(new Xe(_.segments[D].path,De(v[0]))),N++;continue}const j=qe(V)?V.outlets[In]:`${V}`,ye=N<v.length-1?v[N+1]:null;j&&ye&&ae(ye)?(A.push(new Xe(j,De(ye))),N+=2):(A.push(new Xe(j,{})),N++)}return new Fe(A,{})}function J(_){const D={};return Object.entries(_).forEach(([v,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(D[v]=eo(new Fe([],{}),0,A))}),D}function De(_){const D={};return Object.entries(_).forEach(([v,A])=>D[v]=`${A}`),D}function he(_,D,v){return _==v.path&&_r(D,v.parameters)}const Ne="imperative";var nt=function(_){return _[_.NavigationStart=0]="NavigationStart",_[_.NavigationEnd=1]="NavigationEnd",_[_.NavigationCancel=2]="NavigationCancel",_[_.NavigationError=3]="NavigationError",_[_.RoutesRecognized=4]="RoutesRecognized",_[_.ResolveStart=5]="ResolveStart",_[_.ResolveEnd=6]="ResolveEnd",_[_.GuardsCheckStart=7]="GuardsCheckStart",_[_.GuardsCheckEnd=8]="GuardsCheckEnd",_[_.RouteConfigLoadStart=9]="RouteConfigLoadStart",_[_.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",_[_.ChildActivationStart=11]="ChildActivationStart",_[_.ChildActivationEnd=12]="ChildActivationEnd",_[_.ActivationStart=13]="ActivationStart",_[_.ActivationEnd=14]="ActivationEnd",_[_.Scroll=15]="Scroll",_[_.NavigationSkipped=16]="NavigationSkipped",_}(nt||{});class Mt{id;url;constructor(D,v){this.id=D,this.url=v}}class hn extends Mt{type=nt.NavigationStart;navigationTrigger;restoredState;constructor(D,v,A="imperative",N=null){super(D,v),this.navigationTrigger=A,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ir extends Mt{urlAfterRedirects;type=nt.NavigationEnd;constructor(D,v,A){super(D,v),this.urlAfterRedirects=A}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Er=function(_){return _[_.Redirect=0]="Redirect",_[_.SupersededByNewNavigation=1]="SupersededByNewNavigation",_[_.NoDataFromResolver=2]="NoDataFromResolver",_[_.GuardRejected=3]="GuardRejected",_}(Er||{}),ao=function(_){return _[_.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",_[_.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",_}(ao||{});class Sr extends Mt{reason;code;type=nt.NavigationCancel;constructor(D,v,A,N){super(D,v),this.reason=A,this.code=N}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class co extends Mt{reason;code;type=nt.NavigationSkipped;constructor(D,v,A,N){super(D,v),this.reason=A,this.code=N}}class zt extends Mt{error;target;type=nt.NavigationError;constructor(D,v,A,N){super(D,v),this.error=A,this.target=N}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ki extends Mt{urlAfterRedirects;state;type=nt.RoutesRecognized;constructor(D,v,A,N){super(D,v),this.urlAfterRedirects=A,this.state=N}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ws extends Mt{urlAfterRedirects;state;type=nt.GuardsCheckStart;constructor(D,v,A,N){super(D,v),this.urlAfterRedirects=A,this.state=N}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class To extends Mt{urlAfterRedirects;state;shouldActivate;type=nt.GuardsCheckEnd;constructor(D,v,A,N,V){super(D,v),this.urlAfterRedirects=A,this.state=N,this.shouldActivate=V}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oc extends Mt{urlAfterRedirects;state;type=nt.ResolveStart;constructor(D,v,A,N){super(D,v),this.urlAfterRedirects=A,this.state=N}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qs extends Mt{urlAfterRedirects;state;type=nt.ResolveEnd;constructor(D,v,A,N){super(D,v),this.urlAfterRedirects=A,this.state=N}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ks{route;type=nt.RouteConfigLoadStart;constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uo{route;type=nt.RouteConfigLoadEnd;constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bo{snapshot;type=nt.ChildActivationStart;constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qs{snapshot;type=nt.ChildActivationEnd;constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{snapshot;type=nt.ActivationStart;constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{snapshot;type=nt.ActivationEnd;constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qo{routerEvent;position;anchor;type=nt.Scroll;constructor(D,v,A){this.routerEvent=D,this.position=v,this.anchor=A}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xa{}class gi{url;navigationBehaviorOptions;constructor(D,v){this.url=D,this.navigationBehaviorOptions=v}}function Js(_){switch(_.type){case nt.ActivationEnd:return`ActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case nt.ActivationStart:return`ActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case nt.ChildActivationEnd:return`ChildActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case nt.ChildActivationStart:return`ChildActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case nt.GuardsCheckEnd:return`GuardsCheckEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state}, shouldActivate: ${_.shouldActivate})`;case nt.GuardsCheckStart:return`GuardsCheckStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case nt.NavigationCancel:return`NavigationCancel(id: ${_.id}, url: '${_.url}')`;case nt.NavigationSkipped:return`NavigationSkipped(id: ${_.id}, url: '${_.url}')`;case nt.NavigationEnd:return`NavigationEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}')`;case nt.NavigationError:return`NavigationError(id: ${_.id}, url: '${_.url}', error: ${_.error})`;case nt.NavigationStart:return`NavigationStart(id: ${_.id}, url: '${_.url}')`;case nt.ResolveEnd:return`ResolveEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case nt.ResolveStart:return`ResolveStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case nt.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${_.route.path})`;case nt.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${_.route.path})`;case nt.RoutesRecognized:return`RoutesRecognized(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case nt.Scroll:return`Scroll(anchor: '${_.anchor}', position: '${_.position?`${_.position[0]}, ${_.position[1]}`:null}')`}}function Ur(_){return _.outlet||In}function $n(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let D=_.parent;D;D=D.parent){const v=D.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class Su{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $n(this.route?.snapshot)??this.rootInjector}constructor(D){this.rootInjector=D,this.children=new ir(this.rootInjector)}}let ir=(()=>{class _{rootInjector;contexts=new Map;constructor(v){this.rootInjector=v}onChildOutletCreated(v,A){const N=this.getOrCreateContext(v);N.outlet=A,this.contexts.set(v,N)}onChildOutletDestroyed(v){const A=this.getContext(v);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let A=this.getContext(v);return A||(A=new Su(this.rootInjector),this.contexts.set(v,A)),A}getContext(v){return this.contexts.get(v)||null}static \u0275fac=function(A){return new(A||_)(H.KVO(H.uvJ))};static \u0275prov=H.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();class Qt{_root;constructor(D){this._root=D}get root(){return this._root.value}parent(D){const v=this.pathFromRoot(D);return v.length>1?v[v.length-2]:null}children(D){const v=Gi(D,this._root);return v?v.children.map(A=>A.value):[]}firstChild(D){const v=Gi(D,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(D){const v=Do(D,this._root);return v.length<2?[]:v[v.length-2].children.map(N=>N.value).filter(N=>N!==D)}pathFromRoot(D){return Do(D,this._root).map(v=>v.value)}}function Gi(_,D){if(_===D.value)return D;for(const v of D.children){const A=Gi(_,v);if(A)return A}return null}function Do(_,D){if(_===D.value)return[D];for(const v of D.children){const A=Do(_,v);if(A.length)return A.unshift(D),A}return[]}class Rr{value;children;constructor(D,v){this.value=D,this.children=v}toString(){return`TreeNode(${this.value})`}}function os(_){const D={};return _&&_.children.forEach(v=>D[v.value.outlet]=v),D}class Ao extends Qt{snapshot;constructor(D,v){super(D),this.snapshot=v,Ta(this,D)}toString(){return this.snapshot.toString()}}function nn(_){const D=function Zr(_){const V=new Ai([],{},{},"",{},In,_,null,{});return new Ru("",new Rr(V,[]))}(_),v=new ct.t([new Xe("",{})]),A=new ct.t({}),N=new ct.t({}),V=new ct.t({}),j=new ct.t(""),ye=new Br(v,A,V,j,N,In,_,D.root);return ye.snapshot=D.root,new Ao(new Rr(ye,[]),D)}class Br{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(D,v,A,N,V,j,ye,ke){this.urlSubject=D,this.paramsSubject=v,this.queryParamsSubject=A,this.fragmentSubject=N,this.dataSubject=V,this.outlet=j,this.component=ye,this._futureSnapshot=ke,this.title=this.dataSubject?.pipe((0,ve.T)(Ct=>Ct[yr]))??(0,Be.of)(void 0),this.url=D,this.params=v,this.queryParams=A,this.fragment=N,this.data=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ve.T)(D=>Vt(D))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ve.T)(D=>Vt(D))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qn(_,D,v="emptyOnly"){let A;const{routeConfig:N}=_;return A=null===D||"always"!==v&&""!==N?.path&&(D.component||D.routeConfig?.loadComponent)?{params:{..._.params},data:{..._.data},resolve:{..._.data,..._._resolvedData??{}}}:{params:{...D.params,..._.params},data:{...D.data,..._.data},resolve:{..._.data,...D.data,...N?.data,..._._resolvedData}},N&&Da(N)&&(A.resolve[yr]=N.title),A}class Ai{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[yr]}constructor(D,v,A,N,V,j,ye,ke,Ct){this.url=D,this.params=v,this.queryParams=A,this.fragment=N,this.data=V,this.outlet=j,this.component=ye,this.routeConfig=ke,this._resolve=Ct}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ru extends Qt{url;constructor(D,v){super(v),this.url=D,Ta(this,v)}toString(){return Li(this._root)}}function Ta(_,D){D.value._routerState=_,D.children.forEach(v=>Ta(_,v))}function Li(_){const D=_.children.length>0?` { ${_.children.map(Li).join(", ")} } `:"";return`${_.value}${D}`}function wa(_){if(_.snapshot){const D=_.snapshot,v=_._futureSnapshot;_.snapshot=v,_r(D.queryParams,v.queryParams)||_.queryParamsSubject.next(v.queryParams),D.fragment!==v.fragment&&_.fragmentSubject.next(v.fragment),_r(D.params,v.params)||_.paramsSubject.next(v.params),function sr(_,D){if(_.length!==D.length)return!1;for(let v=0;v<_.length;++v)if(!_r(_[v],D[v]))return!1;return!0}(D.url,v.url)||_.urlSubject.next(v.url),_r(D.data,v.data)||_.dataSubject.next(v.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function Ds(_,D){const v=_r(_.params,D.params)&&function te(_,D){return ne(_,D)&&_.every((v,A)=>_r(v.parameters,D[A].parameters))}(_.url,D.url);return v&&!(!_.parent!=!D.parent)&&(!_.parent||Ds(_.parent,D.parent))}function Da(_){return"string"==typeof _.title||null===_.title}const Ko=new H.nKC("");let Pu=(()=>{class _{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=In;activateEvents=new H.bkB;deactivateEvents=new H.bkB;attachEvents=new H.bkB;detachEvents=new H.bkB;routerOutletData=(0,H.hFB)(void 0);parentContexts=(0,H.WQX)(ir);location=(0,H.WQX)(H.c1b);changeDetector=(0,H.WQX)(H.gRc);inputBinder=(0,H.WQX)(Qo,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(v){if(v.name){const{firstChange:A,previousValue:N}=v.name;if(A)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H.wOt(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,A){this.activated=v,this._activatedRoute=A,this.location.insert(v.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,A){if(this.isActivated)throw new H.wOt(4013,!1);this._activatedRoute=v;const N=this.location,j=v.snapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,ke=new As(v,ye,N.injector,this.routerOutletData);this.activated=N.createComponent(j,{index:N.length,injector:ke,environmentInjector:A}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(A){return new(A||_)};static \u0275dir=H.FsC({type:_,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[H.OA$]})}return _})();class As{route;childContexts;parent;outletData;constructor(D,v,A,N){this.route=D,this.childContexts=v,this.parent=A,this.outletData=N}get(D,v){return D===Br?this.route:D===ir?this.childContexts:D===Ko?this.outletData:this.parent.get(D,v)}}const Qo=new H.nKC("");let Aa=(()=>{class _{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){this.outletDataSubscriptions.get(v)?.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:A}=v,N=rn([A.queryParams,A.params,A.data]).pipe((0,Q.n)(([V,j,ye],ke)=>(ye={...V,...j,...ye},0===ke?(0,Be.of)(ye):Promise.resolve(ye)))).subscribe(V=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(v);const j=(0,H.HJs)(A.component);if(j)for(const{templateName:ye}of j.inputs)v.activatedComponentRef.setInput(ye,V[ye]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,N)}static \u0275fac=function(A){return new(A||_)};static \u0275prov=H.jDH({token:_,factory:_.\u0275fac})}return _})(),jo=(()=>{class _{static \u0275fac=function(A){return new(A||_)};static \u0275cmp=H.VBU({type:_,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(A,N){1&A&&H.nrm(0,"router-outlet")},dependencies:[Pu],encapsulation:2})}return _})();function Co(_){const D=_.children&&_.children.map(Co),v=D?{..._,children:D}:{..._};return!v.component&&!v.loadComponent&&(D||v.loadChildren)&&v.outlet&&v.outlet!==In&&(v.component=jo),v}function Wi(_,D,v){if(v&&_.shouldReuseRoute(D.value,v.value.snapshot)){const A=v.value;A._futureSnapshot=D.value;const N=function Ca(_,D,v){return D.children.map(A=>{for(const N of v.children)if(_.shouldReuseRoute(A.value,N.value.snapshot))return Wi(_,A,N);return Wi(_,A)})}(_,D,v);return new Rr(A,N)}{if(_.shouldAttach(D.value)){const V=_.retrieve(D.value);if(null!==V){const j=V.route;return j.value._futureSnapshot=D.value,j.children=D.children.map(ye=>Wi(_,ye)),j}}const A=function bo(_){return new Br(new ct.t(_.url),new ct.t(_.params),new ct.t(_.queryParams),new ct.t(_.fragment),new ct.t(_.data),_.outlet,_.component,_)}(D.value),N=D.children.map(V=>Wi(_,V));return new Rr(A,N)}}class Fi{redirectTo;navigationBehaviorOptions;constructor(D,v){this.redirectTo=D,this.navigationBehaviorOptions=v}}const mi="ngNavigationCancelingError";function yi(_,D){const{redirectTo:v,navigationBehaviorOptions:A}=M(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,N=Zs(!1,Er.Redirect);return N.url=v,N.navigationBehaviorOptions=A,N}function Zs(_,D){const v=new Error(`NavigationCancelingError: ${_||""}`);return v[mi]=!0,v.cancellationCode=D,v}function ss(_){return!!_&&_[mi]}class So{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(D,v,A,N,V){this.routeReuseStrategy=D,this.futureState=v,this.currState=A,this.forwardEvent=N,this.inputBindingEnabled=V}activate(D){const v=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,A,D),wa(this.futureState.root),this.activateChildRoutes(v,A,D)}deactivateChildRoutes(D,v,A){const N=os(v);D.children.forEach(V=>{const j=V.value.outlet;this.deactivateRoutes(V,N[j],A),delete N[j]}),Object.values(N).forEach(V=>{this.deactivateRouteAndItsChildren(V,A)})}deactivateRoutes(D,v,A){const N=D.value,V=v?v.value:null;if(N===V)if(N.component){const j=A.getContext(N.outlet);j&&this.deactivateChildRoutes(D,v,j.children)}else this.deactivateChildRoutes(D,v,A);else V&&this.deactivateRouteAndItsChildren(v,A)}deactivateRouteAndItsChildren(D,v){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,v):this.deactivateRouteAndOutlet(D,v)}detachAndStoreRouteSubtree(D,v){const A=v.getContext(D.value.outlet),N=A&&D.value.component?A.children:v,V=os(D);for(const j of Object.values(V))this.deactivateRouteAndItsChildren(j,N);if(A&&A.outlet){const j=A.outlet.detach(),ye=A.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:j,route:D,contexts:ye})}}deactivateRouteAndOutlet(D,v){const A=v.getContext(D.value.outlet),N=A&&D.value.component?A.children:v,V=os(D);for(const j of Object.values(V))this.deactivateRouteAndItsChildren(j,N);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(D,v,A){const N=os(v);D.children.forEach(V=>{this.activateRoutes(V,N[V.value.outlet],A),this.forwardEvent(new Xs(V.value.snapshot))}),D.children.length&&this.forwardEvent(new Qs(D.value.snapshot))}activateRoutes(D,v,A){const N=D.value,V=v?v.value:null;if(wa(N),N===V)if(N.component){const j=A.getOrCreateContext(N.outlet);this.activateChildRoutes(D,v,j.children)}else this.activateChildRoutes(D,v,A);else if(N.component){const j=A.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const ye=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),j.children.onOutletReAttached(ye.contexts),j.attachRef=ye.componentRef,j.route=ye.route.value,j.outlet&&j.outlet.attach(ye.componentRef,ye.route.value),wa(ye.route.value),this.activateChildRoutes(D,null,j.children)}else j.attachRef=null,j.route=N,j.outlet&&j.outlet.activateWith(N,j.injector),this.activateChildRoutes(D,null,j.children)}else this.activateChildRoutes(D,null,A)}}class ba{path;route;constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Ys{component;route;constructor(D,v){this.component=D,this.route=v}}function Fc(_,D,v){const A=_._root;return Ro(A,D?D._root:null,v,[A.value])}function ho(_,D){const v=Symbol(),A=D.get(_,v);return A===v?"function"!=typeof _||(0,H.LfX)(_)?D.get(_):_:A}function Ro(_,D,v,A,N={canDeactivateChecks:[],canActivateChecks:[]}){const V=os(D);return _.children.forEach(j=>{(function fo(_,D,v,A,N={canDeactivateChecks:[],canActivateChecks:[]}){const V=_.value,j=D?D.value:null,ye=v?v.getContext(_.value.outlet):null;if(j&&V.routeConfig===j.routeConfig){const ke=function as(_,D,v){if("function"==typeof v)return v(_,D);switch(v){case"pathParamsChange":return!ne(_.url,D.url);case"pathParamsOrQueryParamsChange":return!ne(_.url,D.url)||!_r(_.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ds(_,D)||!_r(_.queryParams,D.queryParams);default:return!Ds(_,D)}}(j,V,V.routeConfig.runGuardsAndResolvers);ke?N.canActivateChecks.push(new ba(A)):(V.data=j.data,V._resolvedData=j._resolvedData),Ro(_,D,V.component?ye?ye.children:null:v,A,N),ke&&ye&&ye.outlet&&ye.outlet.isActivated&&N.canDeactivateChecks.push(new Ys(ye.outlet.component,j))}else j&&Ss(D,ye,N),N.canActivateChecks.push(new ba(A)),Ro(_,null,V.component?ye?ye.children:null:v,A,N)})(j,V[j.value.outlet],v,A.concat([j.value]),N),delete V[j.value.outlet]}),Object.entries(V).forEach(([j,ye])=>Ss(ye,v.getContext(j),N)),N}function Ss(_,D,v){const A=os(_),N=_.value;Object.entries(A).forEach(([V,j])=>{Ss(j,N.component?D?D.children.getContext(V):null:D,v)}),v.canDeactivateChecks.push(new Ys(N.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,N))}function Vc(_){return"function"==typeof _}function $o(_){return _ instanceof mt||"EmptyError"===_?.name}const jc=Symbol("INITIAL_VALUE");function cs(){return(0,Q.n)(_=>rn(_.map(D=>D.pipe(Se(1),function Ve(..._){const D=(0,Rt.lI)(_);return(0,wn.N)((v,A)=>{(D?it(_,v,D):it(_,v)).subscribe(A)})}(jc)))).pipe((0,ve.T)(D=>{for(const v of D)if(!0!==v){if(v===jc)return jc;if(!1===v||$c(v))return v}return!0}),(0,Re.p)(D=>D!==jc),Se(1)))}function $c(_){return M(_)||_ instanceof Fi}function ea(_){return(0,mn.F)(Tn(D=>{if("boolean"!=typeof D)throw yi(0,D)}),(0,ve.T)(D=>!0===D))}class Mr{segmentGroup;constructor(D){this.segmentGroup=D||null}}class to extends Error{urlTree;constructor(D){super(),this.urlTree=D}}function vn(_){return je(new Mr(_))}class Rs{urlSerializer;urlTree;constructor(D,v){this.urlSerializer=D,this.urlTree=v}lineralizeSegments(D,v){let A=[],N=v.root;for(;;){if(A=A.concat(N.segments),0===N.numberOfChildren)return(0,Be.of)(A);if(N.numberOfChildren>1||!N.children[In])return je(new H.wOt(4e3,!1));N=N.children[In]}}applyRedirectCommands(D,v,A,N,V){if("string"!=typeof v){const ye=v,{queryParams:ke,fragment:Ct,routeConfig:_n,url:dr,outlet:Vi,params:lr,data:$r,title:mo}=N,ts=(0,H.N4e)(V,()=>ye({params:lr,data:$r,queryParams:ke,fragment:Ct,routeConfig:_n,url:dr,outlet:Vi,title:mo}));if(ts instanceof Me)throw new to(ts);v=ts}const j=this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),D,A);if("/"===v[0])throw new to(j);return j}applyRedirectCreateUrlTree(D,v,A,N){const V=this.createSegmentGroup(D,v.root,A,N);return new Me(V,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(D,v){const A={};return Object.entries(D).forEach(([N,V])=>{if("string"==typeof V&&":"===V[0]){const ye=V.substring(1);A[N]=v[ye]}else A[N]=V}),A}createSegmentGroup(D,v,A,N){const V=this.createSegments(D,v.segments,A,N);let j={};return Object.entries(v.children).forEach(([ye,ke])=>{j[ye]=this.createSegmentGroup(D,ke,A,N)}),new Fe(V,j)}createSegments(D,v,A,N){return v.map(V=>":"===V.path[0]?this.findPosParam(D,V,N):this.findOrReturn(V,A))}findPosParam(D,v,A){const N=A[v.path.substring(1)];if(!N)throw new H.wOt(4001,!1);return N}findOrReturn(D,v){let A=0;for(const N of v){if(N.path===D.path)return v.splice(A),N;A++}return D}}const Tr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ls(_,D,v,A,N){const V=Sa(_,D,v);return V.matched?(A=function kc(_,D){return _.providers&&!_._injector&&(_._injector=(0,H.Ol2)(_.providers,D,`Route: ${_.path}`)),_._injector??D}(D,A),function Zn(_,D,v,A){const N=D.canMatch;if(!N||0===N.length)return(0,Be.of)(!0);const V=N.map(j=>{const ye=ho(j,_);return ie(function Pr(_){return _&&Vc(_.canMatch)}(ye)?ye.canMatch(D,v):(0,H.N4e)(_,()=>ye(D,v)))});return(0,Be.of)(V).pipe(cs(),ea())}(A,D,v).pipe((0,ve.T)(j=>!0===j?V:{...Tr}))):(0,Be.of)(V)}function Sa(_,D,v){if("**"===D.path)return function Ps(_){return{matched:!0,parameters:_.length>0?re(_).parameters:{},consumedSegments:_,remainingSegments:[],positionalParamSegments:{}}}(v);if(""===D.path)return"full"===D.pathMatch&&(_.hasChildren()||v.length>0)?{...Tr}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const N=(D.matcher||Xr)(v,_,D);if(!N)return{...Tr};const V={};Object.entries(N.posParams??{}).forEach(([ye,ke])=>{V[ye]=ke.path});const j=N.consumed.length>0?{...V,...N.consumed[N.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:N.consumed,remainingSegments:v.slice(N.consumed.length),parameters:j,positionalParamSegments:N.posParams??{}}}function ds(_,D,v,A){return v.length>0&&function Mo(_,D,v){return v.some(A=>Ni(_,D,A)&&Ur(A)!==In)}(_,v,A)?{segmentGroup:new Fe(D,Po(A,new Fe(v,_.children))),slicedSegments:[]}:0===v.length&&function Ho(_,D,v){return v.some(A=>Ni(_,D,A))}(_,v,A)?{segmentGroup:new Fe(_.segments,Jo(_,v,A,_.children)),slicedSegments:v}:{segmentGroup:new Fe(_.segments,_.children),slicedSegments:v}}function Jo(_,D,v,A){const N={};for(const V of v)if(Ni(_,D,V)&&!A[Ur(V)]){const j=new Fe([],{});N[Ur(V)]=j}return{...A,...N}}function Po(_,D){const v={};v[In]=D;for(const A of _)if(""===A.path&&Ur(A)!==In){const N=new Fe([],{});v[Ur(A)]=N}return v}function Ni(_,D,v){return(!(_.hasChildren()||D.length>0)||"full"!==v.pathMatch)&&""===v.path}class Ht{}class Zo{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(D,v,A,N,V,j,ye){this.injector=D,this.configLoader=v,this.rootComponentType=A,this.config=N,this.urlTree=V,this.paramsInheritanceStrategy=j,this.urlSerializer=ye,this.applyRedirects=new Rs(this.urlSerializer,this.urlTree)}noMatchError(D){return new H.wOt(4002,`'${D.segmentGroup}'`)}recognize(){const D=ds(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(D).pipe((0,ve.T)(({children:v,rootSnapshot:A})=>{const N=new Rr(A,v),V=new Ru("",N),j=function Y(_,D,v=null,A=null){return B(L(_),D,v,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return j.queryParams=this.urlTree.queryParams,V.url=this.urlSerializer.serialize(j),{state:V,tree:j}}))}match(D){const v=new Ai([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),In,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,D,In,v).pipe((0,ve.T)(A=>({children:A,rootSnapshot:v})),on(A=>{if(A instanceof to)return this.urlTree=A.urlTree,this.match(A.urlTree.root);throw A instanceof Mr?this.noMatchError(A):A}))}processSegmentGroup(D,v,A,N,V){return 0===A.segments.length&&A.hasChildren()?this.processChildren(D,v,A,V):this.processSegment(D,v,A,A.segments,N,!0,V).pipe((0,ve.T)(j=>j instanceof Rr?[j]:[]))}processChildren(D,v,A,N){const V=[];for(const j of Object.keys(A.children))"primary"===j?V.unshift(j):V.push(j);return(0,xe.H)(V).pipe((0,Bt.H)(j=>{const ye=A.children[j],ke=function Lc(_,D){const v=_.filter(A=>Ur(A)===D);return v.push(..._.filter(A=>Ur(A)!==D)),v}(v,j);return this.processSegmentGroup(D,ke,ye,j,N)}),function St(_,D){return(0,wn.N)(function ri(_,D,v,A,N){return(V,j)=>{let ye=v,ke=D,Ct=0;V.subscribe((0,Ot._)(j,_n=>{const dr=Ct++;ke=ye?_(ke,_n,dr):(ye=!0,_n),A&&j.next(ke)},N&&(()=>{ye&&j.next(ke),j.complete()})))}}(_,D,arguments.length>=2,!0))}((j,ye)=>(j.push(...ye),j)),ft(null),function Hn(_,D){const v=arguments.length>=2;return A=>A.pipe(_?(0,Re.p)((N,V)=>_(N,V,A)):se.D,Jn(1),v?ft(D):Wt(()=>new mt))}(),(0,ot.Z)(j=>{if(null===j)return vn(A);const ye=kn(j);return function tc(_){_.sort((D,v)=>D.value.outlet===In?-1:v.value.outlet===In?1:D.value.outlet.localeCompare(v.value.outlet))}(ye),(0,Be.of)(ye)}))}processSegment(D,v,A,N,V,j,ye){return(0,xe.H)(v).pipe((0,Bt.H)(ke=>this.processSegmentAgainstRoute(ke._injector??D,v,ke,A,N,V,j,ye).pipe(on(Ct=>{if(Ct instanceof Mr)return(0,Be.of)(null);throw Ct}))),Vn(ke=>!!ke),on(ke=>{if($o(ke))return function ta(_,D,v){return 0===D.length&&!_.children[v]}(A,N,V)?(0,Be.of)(new Ht):vn(A);throw ke}))}processSegmentAgainstRoute(D,v,A,N,V,j,ye,ke){return Ur(A)===j||j!==In&&Ni(N,V,A)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(D,N,A,V,j,ke):this.allowRedirects&&ye?this.expandSegmentAgainstRouteUsingRedirect(D,N,v,A,V,j,ke):vn(N):vn(N)}expandSegmentAgainstRouteUsingRedirect(D,v,A,N,V,j,ye){const{matched:ke,parameters:Ct,consumedSegments:_n,positionalParamSegments:dr,remainingSegments:Vi}=Sa(v,N,V);if(!ke)return vn(v);"string"==typeof N.redirectTo&&"/"===N.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const lr=new Ai(V,Ct,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ei(N),Ur(N),N.component??N._loadedComponent??null,N,Ra(N)),$r=Qn(lr,ye,this.paramsInheritanceStrategy);lr.params=Object.freeze($r.params),lr.data=Object.freeze($r.data);const mo=this.applyRedirects.applyRedirectCommands(_n,N.redirectTo,dr,lr,D);return this.applyRedirects.lineralizeSegments(N,mo).pipe((0,ot.Z)(ts=>this.processSegment(D,A,v,ts.concat(Vi),j,!1,ye)))}matchSegmentAgainstRoute(D,v,A,N,V,j){const ye=ls(v,A,N,D);return"**"===A.path&&(v.children={}),ye.pipe((0,Q.n)(ke=>ke.matched?this.getChildConfig(D=A._injector??D,A,N).pipe((0,Q.n)(({routes:Ct})=>{const _n=A._loadedInjector??D,{parameters:dr,consumedSegments:Vi,remainingSegments:lr}=ke,$r=new Ai(Vi,dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ei(A),Ur(A),A.component??A._loadedComponent??null,A,Ra(A)),mo=Qn($r,j,this.paramsInheritanceStrategy);$r.params=Object.freeze(mo.params),$r.data=Object.freeze(mo.data);const{segmentGroup:ts,slicedSegments:xi}=ds(v,Vi,lr,Ct);if(0===xi.length&&ts.hasChildren())return this.processChildren(_n,Ct,ts,$r).pipe((0,ve.T)(Os=>new Rr($r,Os)));if(0===Ct.length&&0===xi.length)return(0,Be.of)(new Rr($r,[]));const xs=Ur(A)===V;return this.processSegment(_n,Ct,ts,xi,xs?In:V,!0,$r).pipe((0,ve.T)(Os=>new Rr($r,Os instanceof Rr?[Os]:[])))})):vn(v)))}getChildConfig(D,v,A){return v.children?(0,Be.of)({routes:v.children,injector:D}):v.loadChildren?void 0!==v._loadedRoutes?(0,Be.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function vi(_,D,v,A){const N=D.canLoad;if(void 0===N||0===N.length)return(0,Be.of)(!0);const V=N.map(j=>{const ye=ho(j,_);return ie(function Pl(_){return _&&Vc(_.canLoad)}(ye)?ye.canLoad(D,v):(0,H.N4e)(_,()=>ye(D,v)))});return(0,Be.of)(V).pipe(cs(),ea())}(D,v,A).pipe((0,ot.Z)(N=>N?this.configLoader.loadChildren(D,v).pipe(Tn(V=>{v._loadedRoutes=V.routes,v._loadedInjector=V.injector})):function ec(){return je(Zs(!1,Er.GuardRejected))}())):(0,Be.of)({routes:[],injector:D})}}function Yo(_){const D=_.value.routeConfig;return D&&""===D.path}function kn(_){const D=[],v=new Set;for(const A of _){if(!Yo(A)){D.push(A);continue}const N=D.find(V=>A.value.routeConfig===V.value.routeConfig);void 0!==N?(N.children.push(...A.children),v.add(N)):D.push(A)}for(const A of v){const N=kn(A.children);D.push(new Rr(A.value,N))}return D.filter(A=>!v.has(A))}function ei(_){return _.data||{}}function Ra(_){return _.resolve||{}}function Ki(_){const D=_.children.map(v=>Ki(v)).flat();return[_,...D]}function Ci(_){return(0,Q.n)(D=>{const v=_(D);return v?(0,xe.H)(v).pipe((0,ve.T)(()=>D)):(0,Be.of)(D)})}let rc=(()=>{class _{buildTitle(v){let A,N=v.root;for(;void 0!==N;)A=this.getResolvedTitleForRoute(N)??A,N=N.children.find(V=>V.outlet===In);return A}getResolvedTitleForRoute(v){return v.data[yr]}static \u0275fac=function(A){return new(A||_)};static \u0275prov=H.jDH({token:_,factory:()=>(0,H.WQX)(Ms),providedIn:"root"})}return _})(),Ms=(()=>{class _ extends rc{title;constructor(v){super(),this.title=v}updateTitle(v){const A=this.buildTitle(v);void 0!==A&&this.title.setTitle(A)}static \u0275fac=function(A){return new(A||_)(H.KVO(or))};static \u0275prov=H.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Ns=new H.nKC("",{providedIn:"root",factory:()=>({})}),Qi=new H.nKC("");let Gd=(()=>{class _{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,H.WQX)(H.Ql9);loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,Be.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const A=ie(v.loadComponent()).pipe((0,ve.T)(No),Tn(V=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=V}),(0,tr.j)(()=>{this.componentLoaders.delete(v)})),N=new Ar(A,()=>new yt.B).pipe(Nt());return this.componentLoaders.set(v,N),N}loadChildren(v,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,Be.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const V=function Gc(_,D,v,A){return ie(_.loadChildren()).pipe((0,ve.T)(No),(0,ot.Z)(N=>N instanceof H.Co$||Array.isArray(N)?(0,Be.of)(N):(0,xe.H)(D.compileModuleAsync(N))),(0,ve.T)(N=>{A&&A(_);let V,j,ye=!1;return Array.isArray(N)?(j=N,!0):(V=N.create(v).injector,j=V.get(Qi,[],{optional:!0,self:!0}).flat()),{routes:j.map(Co),injector:V}}))}(A,this.compiler,v,this.onLoadEndListener).pipe((0,tr.j)(()=>{this.childrenLoaders.delete(A)})),j=new Ar(V,()=>new yt.B).pipe(Nt());return this.childrenLoaders.set(A,j),j}static \u0275fac=function(A){return new(A||_)};static \u0275prov=H.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function No(_){return function Wd(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let ic=(()=>{class _{static \u0275fac=function(A){return new(A||_)};static \u0275prov=H.jDH({token:_,factory:()=>(0,H.WQX)(oc),providedIn:"root"})}return _})(),oc=(()=>{class _{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,A){return v}static \u0275fac=function(A){return new(A||_)};static \u0275prov=H.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Wc=new H.nKC(""),Ml=new H.nKC("");function Ln(_,D,v){const A=_.get(Ml),N=_.get(R.q);return _.get(H.SKi).runOutsideAngular(()=>{if(!N.startViewTransition||A.skipNextTransition)return A.skipNextTransition=!1,new Promise(Ct=>setTimeout(Ct));let V;const j=new Promise(Ct=>{V=Ct}),ye=N.startViewTransition(()=>(V(),function xf(_){return new Promise(D=>{(0,H.mal)({read:()=>setTimeout(D)},{injector:_})})}(_))),{onViewTransitionCreated:ke}=A;return ke&&(0,H.N4e)(_,()=>ke({transition:ye,from:D,to:v})),j})}const qc=new H.nKC("");let sc=(()=>{class _{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new yt.B;transitionAbortSubject=new yt.B;configLoader=(0,H.WQX)(Gd);environmentInjector=(0,H.WQX)(H.uvJ);destroyRef=(0,H.WQX)(H.abz);urlSerializer=(0,H.WQX)(lt);rootContexts=(0,H.WQX)(ir);location=(0,H.WQX)($.aZ);inputBindingEnabled=null!==(0,H.WQX)(Qo,{optional:!0});titleStrategy=(0,H.WQX)(rc);options=(0,H.WQX)(Ns,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,H.WQX)(ic);createViewTransition=(0,H.WQX)(Wc,{optional:!0});navigationErrorHandler=(0,H.WQX)(qc,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,Be.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=N=>this.events.next(new uo(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new Ks(N)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(v){const A=++this.navigationId;this.transitions?.next({...v,extractedUrl:this.urlHandlingStrategy.extract(v.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:A})}setupNavigations(v){return this.transitions=new ct.t(null),this.transitions.pipe((0,Re.p)(A=>null!==A),(0,Q.n)(A=>{let N=!1,V=!1;return(0,Be.of)(A).pipe((0,Q.n)(j=>{if(this.navigationId>A.id)return this.cancelNavigationTransition(A,"",Er.SupersededByNewNavigation),en;this.currentTransition=A,this.currentNavigation={id:j.id,initialUrl:j.rawUrl,extractedUrl:j.extractedUrl,targetBrowserUrl:"string"==typeof j.extras.browserUrl?this.urlSerializer.parse(j.extras.browserUrl):j.extras.browserUrl,trigger:j.source,extras:j.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ye=!v.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ye&&"reload"!==(j.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const Ct="";return this.events.next(new co(j.id,this.urlSerializer.serialize(j.rawUrl),Ct,ao.IgnoredSameUrlNavigation)),j.resolve(!1),en}if(this.urlHandlingStrategy.shouldProcessUrl(j.rawUrl))return(0,Be.of)(j).pipe((0,Q.n)(Ct=>(this.events.next(new hn(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),Ct.source,Ct.restoredState)),Ct.id!==this.navigationId?en:Promise.resolve(Ct))),function po(_,D,v,A,N,V){return(0,ot.Z)(j=>function Hc(_,D,v,A,N,V,j="emptyOnly"){return new Zo(_,D,v,A,N,j,V).recognize()}(_,D,v,A,j.extractedUrl,N,V).pipe((0,ve.T)(({state:ye,tree:ke})=>({...j,targetSnapshot:ye,urlAfterRedirects:ke}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,this.paramsInheritanceStrategy),Tn(Ct=>{A.targetSnapshot=Ct.targetSnapshot,A.urlAfterRedirects=Ct.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ct.urlAfterRedirects};const _n=new ki(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),this.urlSerializer.serialize(Ct.urlAfterRedirects),Ct.targetSnapshot);this.events.next(_n)}));if(ye&&this.urlHandlingStrategy.shouldProcessUrl(j.currentRawUrl)){const{id:Ct,extractedUrl:_n,source:dr,restoredState:Vi,extras:lr}=j,$r=new hn(Ct,this.urlSerializer.serialize(_n),dr,Vi);this.events.next($r);const mo=nn(this.rootComponentType).snapshot;return this.currentTransition=A={...j,targetSnapshot:mo,urlAfterRedirects:_n,extras:{...lr,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=_n,(0,Be.of)(A)}{const Ct="";return this.events.next(new co(j.id,this.urlSerializer.serialize(j.extractedUrl),Ct,ao.IgnoredByUrlHandlingStrategy)),j.resolve(!1),en}}),Tn(j=>{const ye=new ws(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(j.urlAfterRedirects),j.targetSnapshot);this.events.next(ye)}),(0,ve.T)(j=>(this.currentTransition=A={...j,guards:Fc(j.targetSnapshot,j.currentSnapshot,this.rootContexts)},A)),function Za(_,D){return(0,ot.Z)(v=>{const{targetSnapshot:A,currentSnapshot:N,guards:{canActivateChecks:V,canDeactivateChecks:j}}=v;return 0===j.length&&0===V.length?(0,Be.of)({...v,guardsResult:!0}):function Ya(_,D,v,A){return(0,xe.H)(_).pipe((0,ot.Z)(N=>function _i(_,D,v,A,N){const V=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,Be.of)(!0);const j=V.map(ye=>{const ke=$n(D)??N,Ct=ho(ye,ke);return ie(function Bc(_){return _&&Vc(_.canDeactivate)}(Ct)?Ct.canDeactivate(_,D,v,A):(0,H.N4e)(ke,()=>Ct(_,D,v,A))).pipe(Vn())});return(0,Be.of)(j).pipe(cs())}(N.component,N.route,v,D,A)),Vn(N=>!0!==N,!0))}(j,A,N,_).pipe((0,ot.Z)(ye=>ye&&function Yr(_){return"boolean"==typeof _}(ye)?function Yt(_,D,v,A){return(0,xe.H)(D).pipe((0,Bt.H)(N=>it(function yn(_,D){return null!==_&&D&&D(new Bo(_)),(0,Be.of)(!0)}(N.route.parent,A),function Ye(_,D){return null!==_&&D&&D(new wo(_)),(0,Be.of)(!0)}(N.route,A),function li(_,D,v){const A=D[D.length-1],V=D.slice(0,D.length-1).reverse().map(j=>function bs(_){const D=_.routeConfig?_.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:_,guards:D}:null}(j)).filter(j=>null!==j).map(j=>Te(()=>{const ye=j.guards.map(ke=>{const Ct=$n(j.node)??v,_n=ho(ke,Ct);return ie(function ui(_){return _&&Vc(_.canActivateChild)}(_n)?_n.canActivateChild(A,_):(0,H.N4e)(Ct,()=>_n(A,_))).pipe(Vn())});return(0,Be.of)(ye).pipe(cs())}));return(0,Be.of)(V).pipe(cs())}(_,N.path,v),function jr(_,D,v){const A=D.routeConfig?D.routeConfig.canActivate:null;if(!A||0===A.length)return(0,Be.of)(!0);const N=A.map(V=>Te(()=>{const j=$n(D)??v,ye=ho(V,j);return ie(function Uc(_){return _&&Vc(_.canActivate)}(ye)?ye.canActivate(D,_):(0,H.N4e)(j,()=>ye(D,_))).pipe(Vn())}));return(0,Be.of)(N).pipe(cs())}(_,N.route,v))),Vn(N=>!0!==N,!0))}(A,V,_,D):(0,Be.of)(ye)),(0,ve.T)(ye=>({...v,guardsResult:ye})))})}(this.environmentInjector,j=>this.events.next(j)),Tn(j=>{if(A.guardsResult=j.guardsResult,j.guardsResult&&"boolean"!=typeof j.guardsResult)throw yi(0,j.guardsResult);const ye=new To(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(j.urlAfterRedirects),j.targetSnapshot,!!j.guardsResult);this.events.next(ye)}),(0,Re.p)(j=>!!j.guardsResult||(this.cancelNavigationTransition(j,"",Er.GuardRejected),!1)),Ci(j=>{if(0!==j.guards.canActivateChecks.length)return(0,Be.of)(j).pipe(Tn(ye=>{const ke=new Oc(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot);this.events.next(ke)}),(0,Q.n)(ye=>{let ke=!1;return(0,Be.of)(ye).pipe(function na(_,D){return(0,ot.Z)(v=>{const{targetSnapshot:A,guards:{canActivateChecks:N}}=v;if(!N.length)return(0,Be.of)(v);const V=new Set(N.map(ke=>ke.route)),j=new Set;for(const ke of V)if(!j.has(ke))for(const Ct of Ki(ke))j.add(Ct);let ye=0;return(0,xe.H)(j).pipe((0,Bt.H)(ke=>V.has(ke)?function go(_,D,v,A){const N=_.routeConfig,V=_._resolve;return void 0!==N?.title&&!Da(N)&&(V[yr]=N.title),function nc(_,D,v,A){const N=fi(_);if(0===N.length)return(0,Be.of)({});const V={};return(0,xe.H)(N).pipe((0,ot.Z)(j=>function zc(_,D,v,A){const N=$n(D)??A,V=ho(_,N);return ie(V.resolve?V.resolve(D,v):(0,H.N4e)(N,()=>V(D,v)))}(_[j],D,v,A).pipe(Vn(),Tn(ye=>{if(ye instanceof Fi)throw yi(new Ft,ye);V[j]=ye}))),Jn(1),(0,ve.T)(()=>V),on(j=>$o(j)?en:je(j)))}(V,_,D,A).pipe((0,ve.T)(j=>(_._resolvedData=j,_.data=Qn(_,_.parent,v).resolve,null)))}(ke,A,_,D):(ke.data=Qn(ke,ke.parent,_).resolve,(0,Be.of)(void 0))),Tn(()=>ye++),Jn(1),(0,ot.Z)(ke=>ye===j.size?(0,Be.of)(v):en))})}(this.paramsInheritanceStrategy,this.environmentInjector),Tn({next:()=>ke=!0,complete:()=>{ke||this.cancelNavigationTransition(ye,"",Er.NoDataFromResolver)}}))}),Tn(ye=>{const ke=new qs(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot);this.events.next(ke)}))}),Ci(j=>{const ye=ke=>{const Ct=[];ke.routeConfig?.loadComponent&&!ke.routeConfig._loadedComponent&&Ct.push(this.configLoader.loadComponent(ke.routeConfig).pipe(Tn(_n=>{ke.component=_n}),(0,ve.T)(()=>{})));for(const _n of ke.children)Ct.push(...ye(_n));return Ct};return rn(ye(j.targetSnapshot.root)).pipe(ft(null),Se(1))}),Ci(()=>this.afterPreactivation()),(0,Q.n)(()=>{const{currentSnapshot:j,targetSnapshot:ye}=A,ke=this.createViewTransition?.(this.environmentInjector,j.root,ye.root);return ke?(0,xe.H)(ke).pipe((0,ve.T)(()=>A)):(0,Be.of)(A)}),(0,ve.T)(j=>{const ye=function Cs(_,D,v){const A=Wi(_,D._root,v?v._root:void 0);return new Ao(A,D)}(v.routeReuseStrategy,j.targetSnapshot,j.currentRouterState);return this.currentTransition=A={...j,targetRouterState:ye},this.currentNavigation.targetRouterState=ye,A}),Tn(()=>{this.events.next(new Xa)}),((_,D,v,A)=>(0,ve.T)(N=>(new So(D,N.targetRouterState,N.currentRouterState,v,A).activate(_),N)))(this.rootContexts,v.routeReuseStrategy,j=>this.events.next(j),this.inputBindingEnabled),Se(1),Tn({next:j=>{N=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ir(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(j.urlAfterRedirects))),this.titleStrategy?.updateTitle(j.targetRouterState.snapshot),j.resolve(!0)},complete:()=>{N=!0}}),function Qr(_){return(0,wn.N)((D,v)=>{(0,et.Tg)(_).subscribe((0,Ot._)(v,()=>v.complete(),Cr.l)),!v.closed&&D.subscribe(v)})}(this.transitionAbortSubject.pipe(Tn(j=>{throw j}))),(0,tr.j)(()=>{!N&&!V&&this.cancelNavigationTransition(A,"",Er.SupersededByNewNavigation),this.currentTransition?.id===A.id&&(this.currentNavigation=null,this.currentTransition=null)}),on(j=>{if(this.destroyed)return A.resolve(!1),en;if(V=!0,ss(j))this.events.next(new Sr(A.id,this.urlSerializer.serialize(A.extractedUrl),j.message,j.cancellationCode)),function Rl(_){return ss(_)&&M(_.url)}(j)?this.events.next(new gi(j.url,j.navigationBehaviorOptions)):A.resolve(!1);else{const ye=new zt(A.id,this.urlSerializer.serialize(A.extractedUrl),j,A.targetSnapshot??void 0);try{const ke=(0,H.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(ye));if(!(ke instanceof Fi))throw this.events.next(ye),j;{const{message:Ct,cancellationCode:_n}=yi(0,ke);this.events.next(new Sr(A.id,this.urlSerializer.serialize(A.extractedUrl),Ct,_n)),this.events.next(new gi(ke.redirectTo,ke.navigationBehaviorOptions))}}catch(ke){this.options.resolveNavigationPromiseOnError?A.resolve(!1):A.reject(ke)}}return en}))}))}cancelNavigationTransition(v,A,N){const V=new Sr(v.id,this.urlSerializer.serialize(v.extractedUrl),A,N);this.events.next(V),v.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const v=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),A=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return v.toString()!==A?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(A){return new(A||_)};static \u0275prov=H.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Of(_){return _!==Ne}let kf=(()=>{class _{static \u0275fac=function(A){return new(A||_)};static \u0275prov=H.jDH({token:_,factory:()=>(0,H.WQX)(Lf),providedIn:"root"})}return _})();class Nl{shouldDetach(D){return!1}store(D,v){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,v){return D.routeConfig===v.routeConfig}}let Lf=(()=>{class _ extends Nl{static \u0275fac=(()=>{let v;return function(N){return(v||(v=H.xGo(_)))(N||_)}})();static \u0275prov=H.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),xl=(()=>{class _{urlSerializer=(0,H.WQX)(lt);options=(0,H.WQX)(Ns,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,H.WQX)($.aZ);urlHandlingStrategy=(0,H.WQX)(ic);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Me;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:v,initialUrl:A,targetBrowserUrl:N}){const V=void 0!==v?this.urlHandlingStrategy.merge(v,A):A,j=N??V;return j instanceof Me?this.urlSerializer.serialize(j):j}commitTransition({targetRouterState:v,finalUrl:A,initialUrl:N}){A&&v?(this.currentUrlTree=A,this.rawUrlTree=this.urlHandlingStrategy.merge(A,N),this.routerState=v):this.rawUrlTree=N}routerState=nn(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:v}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v??this.rawUrlTree)}static \u0275fac=function(A){return new(A||_)};static \u0275prov=H.jDH({token:_,factory:()=>(0,H.WQX)(Ol),providedIn:"root"})}return _})(),Ol=(()=>{class _ extends xl{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(v){return this.location.subscribe(A=>{"popstate"===A.type&&setTimeout(()=>{v(A.url,A.state,"popstate")})})}handleRouterEvent(v,A){v instanceof hn?this.updateStateMemento():v instanceof co?this.commitTransition(A):v instanceof ki?"eager"===this.urlUpdateStrategy&&(A.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(A),A)):v instanceof Xa?(this.commitTransition(A),"deferred"===this.urlUpdateStrategy&&!A.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(A),A)):v instanceof Sr&&(v.code===Er.GuardRejected||v.code===Er.NoDataFromResolver)?this.restoreHistory(A):v instanceof zt?this.restoreHistory(A,!0):v instanceof Ir&&(this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId)}setBrowserUrl(v,{extras:A,id:N}){const{replaceUrl:V,state:j}=A;if(this.location.isCurrentPathEqualTo(v)||V){const ye=this.browserPageId,ke={...j,...this.generateNgRouterState(N,ye)};this.location.replaceState(v,"",ke)}else{const ye={...j,...this.generateNgRouterState(N,this.browserPageId+1)};this.location.go(v,"",ye)}}restoreHistory(v,A=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-this.browserPageId;0!==V?this.location.historyGo(V):this.getCurrentUrlTree()===v.finalUrl&&0===V&&(this.resetInternalState(v),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetInternalState(v),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,A){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:A}:{navigationId:v}}static \u0275fac=(()=>{let v;return function(N){return(v||(v=H.xGo(_)))(N||_)}})();static \u0275prov=H.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function hs(_,D){_.events.pipe((0,Re.p)(v=>v instanceof Ir||v instanceof Sr||v instanceof zt||v instanceof co),(0,ve.T)(v=>v instanceof Ir||v instanceof co?0:v instanceof Sr&&(v.code===Er.Redirect||v.code===Er.SupersededByNewNavigation)?2:1),(0,Re.p)(v=>2!==v),Se(1)).subscribe(()=>{D()})}const ra={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let es=(()=>{class _{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,H.WQX)(H.H3F);stateManager=(0,H.WQX)(xl);options=(0,H.WQX)(Ns,{optional:!0})||{};pendingTasks=(0,H.WQX)(H.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,H.WQX)(sc);urlSerializer=(0,H.WQX)(lt);location=(0,H.WQX)($.aZ);urlHandlingStrategy=(0,H.WQX)(ic);_events=new yt.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,H.WQX)(kf);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,H.WQX)(Qi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,H.WQX)(Qo,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:v=>{this.console.warn(v)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Dt.yU;subscribeToNavigationEvents(){const v=this.navigationTransitions.events.subscribe(A=>{try{const N=this.navigationTransitions.currentTransition,V=this.navigationTransitions.currentNavigation;if(null!==N&&null!==V)if(this.stateManager.handleRouterEvent(A,V),A instanceof Sr&&A.code!==Er.Redirect&&A.code!==Er.SupersededByNewNavigation)this.navigated=!0;else if(A instanceof Ir)this.navigated=!0;else if(A instanceof gi){const j=A.navigationBehaviorOptions,ye=this.urlHandlingStrategy.merge(A.url,N.currentRawUrl),ke={browserUrl:N.extras.browserUrl,info:N.extras.info,skipLocationChange:N.extras.skipLocationChange,replaceUrl:N.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Of(N.source),...j};this.scheduleNavigation(ye,Ne,null,ke,{resolve:N.resolve,reject:N.reject,promise:N.promise})}(function Nr(_){return!(_ instanceof Xa||_ instanceof gi)})(A)&&this._events.next(A)}catch(N){this.navigationTransitions.transitionAbortSubject.next(N)}});this.eventsSubscription.add(v)}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ne,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((v,A,N)=>{this.navigateToSyncWithBrowser(v,N,A)})}navigateToSyncWithBrowser(v,A,N){const V={replaceUrl:!0},j=N?.navigationId?N:null;if(N){const ke={...N};delete ke.navigationId,delete ke.\u0275routerPageId,0!==Object.keys(ke).length&&(V.state=ke)}const ye=this.parseUrl(v);this.scheduleNavigation(ye,A,j,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(Co),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(v,A={}){const{relativeTo:N,queryParams:V,fragment:j,queryParamsHandling:ye,preserveFragment:ke}=A,Ct=ke?this.currentUrlTree.fragment:j;let dr,_n=null;switch(ye??this.options.defaultQueryParamsHandling){case"merge":_n={...this.currentUrlTree.queryParams,...V};break;case"preserve":_n=this.currentUrlTree.queryParams;break;default:_n=V||null}null!==_n&&(_n=this.removeEmptyProps(_n));try{dr=L(N?N.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||"/"!==v[0][0])&&(v=[]),dr=this.currentUrlTree.root}return B(dr,v,_n,Ct??null)}navigateByUrl(v,A={skipLocationChange:!1}){const N=M(v)?v:this.parseUrl(v),V=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(V,Ne,null,A)}navigate(v,A={skipLocationChange:!1}){return function Nu(_){for(let D=0;D<_.length;D++)if(null==_[D])throw new H.wOt(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,A),A)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){try{return this.urlSerializer.parse(v)}catch{return this.urlSerializer.parse("/")}}isActive(v,A){let N;if(N=!0===A?{...ra}:!1===A?{...kl}:A,M(v))return He(this.currentUrlTree,v,N);const V=this.parseUrl(v);return He(this.currentUrlTree,V,N)}removeEmptyProps(v){return Object.entries(v).reduce((A,[N,V])=>(null!=V&&(A[N]=V),A),{})}scheduleNavigation(v,A,N,V,j){if(this.disposed)return Promise.resolve(!1);let ye,ke,Ct;j?(ye=j.resolve,ke=j.reject,Ct=j.promise):Ct=new Promise((dr,Vi)=>{ye=dr,ke=Vi});const _n=this.pendingTasks.add();return hs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_n))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:v,extras:V,resolve:ye,reject:ke,promise:Ct,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ct.catch(dr=>Promise.reject(dr))}static \u0275fac=function(A){return new(A||_)};static \u0275prov=H.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},4738:(gn,pt,W)=>{var R=W(6048),$=W(9377),H=W(9361),oe=W(1360);const Pe=new oe.nKC("");let gt=(()=>{class ut{_zone;_plugins;_eventNameToPlugin=new Map;constructor(ge,Ie){this._zone=Ie,ge.forEach(st=>{st.manager=this}),this._plugins=ge.slice().reverse()}addEventListener(ge,Ie,st,dt){return this._findPluginFor(Ie).addEventListener(ge,Ie,st,dt)}getZone(){return this._zone}_findPluginFor(ge){let Ie=this._eventNameToPlugin.get(ge);if(Ie)return Ie;if(Ie=this._plugins.find(dt=>dt.supports(ge)),!Ie)throw new oe.wOt(5101,!1);return this._eventNameToPlugin.set(ge,Ie),Ie}static \u0275fac=function(Ie){return new(Ie||ut)(oe.KVO(Pe),oe.KVO(oe.SKi))};static \u0275prov=oe.jDH({token:ut,factory:ut.\u0275fac})}return ut})();class xe{_doc;constructor(Ke){this._doc=Ke}manager}const Be="ng-app-id";function ct(ut){for(const Ke of ut)Ke.remove()}function le(ut,Ke){const ge=Ke.createElement("style");return ge.textContent=ut,ge}function We(ut,Ke){const ge=Ke.createElement("link");return ge.setAttribute("rel","stylesheet"),ge.setAttribute("href",ut),ge}let Rt=(()=>{class ut{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(ge,Ie,st,dt={}){this.doc=ge,this.appId=Ie,this.nonce=st,this.isServer=(0,$.Vy)(dt),function se(ut,Ke,ge,Ie){const st=ut.head?.querySelectorAll(`style[${Be}="${Ke}"],link[${Be}="${Ke}"]`);if(st)for(const dt of st)dt.removeAttribute(Be),dt instanceof HTMLLinkElement?Ie.set(dt.href.slice(dt.href.lastIndexOf("/")+1),{usage:0,elements:[dt]}):dt.textContent&&ge.set(dt.textContent,{usage:0,elements:[dt]})}(ge,Ie,this.inline,this.external),this.hosts.add(ge.head)}addStyles(ge,Ie){for(const st of ge)this.addUsage(st,this.inline,le);Ie?.forEach(st=>this.addUsage(st,this.external,We))}removeStyles(ge,Ie){for(const st of ge)this.removeUsage(st,this.inline);Ie?.forEach(st=>this.removeUsage(st,this.external))}addUsage(ge,Ie,st){const dt=Ie.get(ge);dt?dt.usage++:Ie.set(ge,{usage:1,elements:[...this.hosts].map(sn=>this.addElement(sn,st(ge,this.doc)))})}removeUsage(ge,Ie){const st=Ie.get(ge);st&&(st.usage--,st.usage<=0&&(ct(st.elements),Ie.delete(ge)))}ngOnDestroy(){for(const[,{elements:ge}]of[...this.inline,...this.external])ct(ge);this.hosts.clear()}addHost(ge){this.hosts.add(ge);for(const[Ie,{elements:st}]of this.inline)st.push(this.addElement(ge,le(Ie,this.doc)));for(const[Ie,{elements:st}]of this.external)st.push(this.addElement(ge,We(Ie,this.doc)))}removeHost(ge){this.hosts.delete(ge)}addElement(ge,Ie){return this.nonce&&Ie.setAttribute("nonce",this.nonce),this.isServer&&Ie.setAttribute(Be,this.appId),ge.appendChild(Ie)}static \u0275fac=function(Ie){return new(Ie||ut)(oe.KVO(H.q),oe.KVO(oe.sZ2),oe.KVO(oe.BIS,8),oe.KVO(oe.Agw))};static \u0275prov=oe.jDH({token:ut,factory:ut.\u0275fac})}return ut})();const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ot=/%COMP%/g,Oe=new oe.nKC("",{providedIn:"root",factory:()=>!0});function et(ut,Ke){return Ke.map(ge=>ge.replace(Ot,ut))}let mn=(()=>{class ut{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(ge,Ie,st,dt,sn,xn,hr,Ut=null,Et=null){this.eventManager=ge,this.sharedStylesHost=Ie,this.appId=st,this.removeStylesOnCompDestroy=dt,this.doc=sn,this.platformId=xn,this.ngZone=hr,this.nonce=Ut,this.tracingService=Et,this.platformIsServer=(0,$.Vy)(xn),this.defaultRenderer=new je(ge,sn,hr,this.platformIsServer,this.tracingService)}createRenderer(ge,Ie){if(!ge||!Ie)return this.defaultRenderer;this.platformIsServer&&Ie.encapsulation===oe.gXe.ShadowDom&&(Ie={...Ie,encapsulation:oe.gXe.Emulated});const st=this.getOrCreateRenderer(ge,Ie);return st instanceof Nt?st.applyToHost(ge):st instanceof wn&&st.applyStyles(),st}getOrCreateRenderer(ge,Ie){const st=this.rendererByCompId;let dt=st.get(Ie.id);if(!dt){const sn=this.doc,xn=this.ngZone,hr=this.eventManager,Ut=this.sharedStylesHost,Et=this.removeStylesOnCompDestroy,Fr=this.platformIsServer,On=this.tracingService;switch(Ie.encapsulation){case oe.gXe.Emulated:dt=new Nt(hr,Ut,Ie,this.appId,Et,sn,xn,Fr,On);break;case oe.gXe.ShadowDom:return new Dt(hr,Ut,ge,Ie,sn,xn,this.nonce,Fr,On);default:dt=new wn(hr,Ut,Ie,Et,sn,xn,Fr,On)}st.set(Ie.id,dt)}return dt}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(ge){this.rendererByCompId.delete(ge)}static \u0275fac=function(Ie){return new(Ie||ut)(oe.KVO(gt),oe.KVO(Rt),oe.KVO(oe.sZ2),oe.KVO(Oe),oe.KVO(H.q),oe.KVO(oe.Agw),oe.KVO(oe.SKi),oe.KVO(oe.BIS),oe.KVO(oe.Lf2,8))};static \u0275prov=oe.jDH({token:ut,factory:ut.\u0275fac})}return ut})();class je{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(Ke,ge,Ie,st,dt){this.eventManager=Ke,this.doc=ge,this.ngZone=Ie,this.platformIsServer=st,this.tracingService=dt}destroy(){}destroyNode=null;createElement(Ke,ge){return ge?this.doc.createElementNS(vt[ge]||ge,Ke):this.doc.createElement(Ke)}createComment(Ke){return this.doc.createComment(Ke)}createText(Ke){return this.doc.createTextNode(Ke)}appendChild(Ke,ge){(Xn(Ke)?Ke.content:Ke).appendChild(ge)}insertBefore(Ke,ge,Ie){Ke&&(Xn(Ke)?Ke.content:Ke).insertBefore(ge,Ie)}removeChild(Ke,ge){ge.remove()}selectRootElement(Ke,ge){let Ie="string"==typeof Ke?this.doc.querySelector(Ke):Ke;if(!Ie)throw new oe.wOt(-5104,!1);return ge||(Ie.textContent=""),Ie}parentNode(Ke){return Ke.parentNode}nextSibling(Ke){return Ke.nextSibling}setAttribute(Ke,ge,Ie,st){if(st){ge=st+":"+ge;const dt=vt[st];dt?Ke.setAttributeNS(dt,ge,Ie):Ke.setAttribute(ge,Ie)}else Ke.setAttribute(ge,Ie)}removeAttribute(Ke,ge,Ie){if(Ie){const st=vt[Ie];st?Ke.removeAttributeNS(st,ge):Ke.removeAttribute(`${Ie}:${ge}`)}else Ke.removeAttribute(ge)}addClass(Ke,ge){Ke.classList.add(ge)}removeClass(Ke,ge){Ke.classList.remove(ge)}setStyle(Ke,ge,Ie,st){st&(oe.czy.DashCase|oe.czy.Important)?Ke.style.setProperty(ge,Ie,st&oe.czy.Important?"important":""):Ke.style[ge]=Ie}removeStyle(Ke,ge,Ie){Ie&oe.czy.DashCase?Ke.style.removeProperty(ge):Ke.style[ge]=""}setProperty(Ke,ge,Ie){null!=Ke&&(Ke[ge]=Ie)}setValue(Ke,ge){Ke.nodeValue=ge}listen(Ke,ge,Ie,st){if("string"==typeof Ke&&!(Ke=(0,R.rb)().getGlobalEventTarget(this.doc,Ke)))throw new oe.wOt(5102,!1);let dt=this.decoratePreventDefault(Ie);return this.tracingService?.wrapEventListener&&(dt=this.tracingService.wrapEventListener(Ke,ge,dt)),this.eventManager.addEventListener(Ke,ge,dt,st)}decoratePreventDefault(Ke){return ge=>{if("__ngUnwrap__"===ge)return Ke;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ke(ge)):Ke(ge))&&ge.preventDefault()}}}function Xn(ut){return"TEMPLATE"===ut.tagName&&void 0!==ut.content}class Dt extends je{sharedStylesHost;hostEl;shadowRoot;constructor(Ke,ge,Ie,st,dt,sn,xn,hr,Ut){super(Ke,dt,sn,hr,Ut),this.sharedStylesHost=ge,this.hostEl=Ie,this.shadowRoot=Ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Et=st.styles;Et=et(st.id,Et);for(const On of Et){const si=document.createElement("style");xn&&si.setAttribute("nonce",xn),si.textContent=On,this.shadowRoot.appendChild(si)}const Fr=st.getExternalStyles?.();if(Fr)for(const On of Fr){const si=We(On,dt);xn&&si.setAttribute("nonce",xn),this.shadowRoot.appendChild(si)}}nodeOrShadowRoot(Ke){return Ke===this.hostEl?this.shadowRoot:Ke}appendChild(Ke,ge){return super.appendChild(this.nodeOrShadowRoot(Ke),ge)}insertBefore(Ke,ge,Ie){return super.insertBefore(this.nodeOrShadowRoot(Ke),ge,Ie)}removeChild(Ke,ge){return super.removeChild(null,ge)}parentNode(Ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ke)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wn extends je{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(Ke,ge,Ie,st,dt,sn,xn,hr,Ut){super(Ke,dt,sn,xn,hr),this.sharedStylesHost=ge,this.removeStylesOnCompDestroy=st;let Et=Ie.styles;this.styles=Ut?et(Ut,Et):Et,this.styleUrls=Ie.getExternalStyles?.(Ut)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Nt extends wn{contentAttr;hostAttr;constructor(Ke,ge,Ie,st,dt,sn,xn,hr,Ut){const Et=st+"-"+Ie.id;super(Ke,ge,Ie,dt,sn,xn,hr,Ut,Et),this.contentAttr=function at(ut){return"_ngcontent-%COMP%".replace(Ot,ut)}(Et),this.hostAttr=function it(ut){return"_nghost-%COMP%".replace(Ot,ut)}(Et)}applyToHost(Ke){this.applyStyles(),this.setAttribute(Ke,this.hostAttr,"")}createElement(Ke,ge){const Ie=super.createElement(Ke,ge);return super.setAttribute(Ie,this.contentAttr,""),Ie}}class Ar extends R.qj{supportsDOMEvents=!0;static makeCurrent(){(0,R.ig)(new Ar)}onAndCancel(Ke,ge,Ie,st){return Ke.addEventListener(ge,Ie,st),()=>{Ke.removeEventListener(ge,Ie,st)}}dispatchEvent(Ke,ge){Ke.dispatchEvent(ge)}remove(Ke){Ke.remove()}createElement(Ke,ge){return(ge=ge||this.getDefaultDocument()).createElement(Ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ke){return Ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ke){return Ke instanceof DocumentFragment}getGlobalEventTarget(Ke,ge){return"window"===ge?window:"document"===ge?Ke:"body"===ge?Ke.body:null}getBaseHref(Ke){const ge=function ve(){return yt=yt||document.head.querySelector("base"),yt?yt.getAttribute("href"):null}();return null==ge?null:function Q(ut){return new URL(ut,document.baseURI).pathname}(ge)}resetBaseElement(){yt=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ke){return(0,$.bS)(document.cookie,Ke)}}let yt=null,Ve=(()=>{class ut{build(){return new XMLHttpRequest}static \u0275fac=function(Ie){return new(Ie||ut)};static \u0275prov=oe.jDH({token:ut,factory:ut.\u0275fac})}return ut})(),Re=(()=>{class ut extends xe{constructor(ge){super(ge)}supports(ge){return!0}addEventListener(ge,Ie,st,dt){return ge.addEventListener(Ie,st,dt),()=>this.removeEventListener(ge,Ie,st,dt)}removeEventListener(ge,Ie,st,dt){return ge.removeEventListener(Ie,st,dt)}static \u0275fac=function(Ie){return new(Ie||ut)(oe.KVO(H.q))};static \u0275prov=oe.jDH({token:ut,factory:ut.\u0275fac})}return ut})();const ot=["alt","control","meta","shift"],ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wt={alt:ut=>ut.altKey,control:ut=>ut.ctrlKey,meta:ut=>ut.metaKey,shift:ut=>ut.shiftKey};let kt=(()=>{class ut extends xe{constructor(ge){super(ge)}supports(ge){return null!=ut.parseEventName(ge)}addEventListener(ge,Ie,st,dt){const sn=ut.parseEventName(Ie),xn=ut.eventCallback(sn.fullKey,st,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,R.rb)().onAndCancel(ge,sn.domEventName,xn,dt))}static parseEventName(ge){const Ie=ge.toLowerCase().split("."),st=Ie.shift();if(0===Ie.length||"keydown"!==st&&"keyup"!==st)return null;const dt=ut._normalizeKey(Ie.pop());let sn="",xn=Ie.indexOf("code");if(xn>-1&&(Ie.splice(xn,1),sn="code."),ot.forEach(Ut=>{const Et=Ie.indexOf(Ut);Et>-1&&(Ie.splice(Et,1),sn+=Ut+".")}),sn+=dt,0!=Ie.length||0===dt.length)return null;const hr={};return hr.domEventName=st,hr.fullKey=sn,hr}static matchEventFullKeyCode(ge,Ie){let st=ft[ge.key]||ge.key,dt="";return Ie.indexOf("code.")>-1&&(st=ge.code,dt="code."),!(null==st||!st)&&(st=st.toLowerCase()," "===st?st="space":"."===st&&(st="dot"),ot.forEach(sn=>{sn!==st&&(0,Wt[sn])(ge)&&(dt+=sn+".")}),dt+=st,dt===Ie)}static eventCallback(ge,Ie,st){return dt=>{ut.matchEventFullKeyCode(dt,ge)&&st.runGuarded(()=>Ie(dt))}}static _normalizeKey(ge){return"esc"===ge?"escape":ge}static \u0275fac=function(Ie){return new(Ie||ut)(oe.KVO(H.q))};static \u0275prov=oe.jDH({token:ut,factory:ut.\u0275fac})}return ut})();function Tn(ut){return{appProviders:[...wi,...ut?.providers??[]],platformProviders:Hn}}const Hn=[{provide:oe.Agw,useValue:$.Zn},{provide:oe.PLl,useValue:function ri(){Ar.makeCurrent()},multi:!0},{provide:H.q,useFactory:function Jn(){return(0,oe.TL$)(document),document}}],wi=[{provide:oe.H8p,useValue:"root"},{provide:oe.zcH,useFactory:function St(){return new oe.zcH}},{provide:Pe,useClass:Re,multi:!0,deps:[H.q]},{provide:Pe,useClass:kt,multi:!0,deps:[H.q]},mn,Rt,gt,{provide:oe._9s,useExisting:mn},{provide:$.N0,useClass:Ve},[]];var or=W(5207),ln=W(7643),ii=W(4796),Wn=W(4611);let It=(()=>{class ut{authService;router;constructor(ge,Ie){this.authService=ge,this.router=Ie}canActivate(){return!!this.authService.isAuthenticated()||(this.router.navigate(["/login"]),!1)}static \u0275fac=function(Ie){return new(Ie||ut)(oe.KVO(ii.u),oe.KVO(Wn.Ix))};static \u0275prov=oe.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();const At=[{path:"login",loadComponent:()=>Promise.all([W.e(341),W.e(840)]).then(W.bind(W,3840)).then(ut=>ut.LoginComponent)},{path:"cadastro",loadComponent:()=>Promise.all([W.e(76),W.e(448)]).then(W.bind(W,448)).then(ut=>ut.CadastroComponent),canActivate:[It]},{path:"lista-funcionarios",loadComponent:()=>Promise.all([W.e(341),W.e(76),W.e(610)]).then(W.bind(W,8610)).then(ut=>ut.ListaFuncionariosComponent),canActivate:[It]},{path:"funcionarios",redirectTo:"/lista-funcionarios",pathMatch:"full"},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/login"}],oi={providers:[(0,oe.Jn2)({eventCoalescing:!0}),(0,or.lh)(At),(0,ln.$R)()]};(function Vn(ut,Ke){return(0,oe.TL3)({rootComponent:ut,...Tn(Ke)})})((()=>{class ut{title="testeTecnico";static \u0275fac=function(Ie){return new(Ie||ut)};static \u0275cmp=oe.VBU({type:ut,selectors:[["app-root"]],decls:1,vars:0,template:function(Ie,st){1&Ie&&oe.nrm(0,"router-outlet")},dependencies:[Wn.n3],encapsulation:2})}return ut})(),oi).catch(ut=>console.error(ut))},4761:(gn,pt,W)=>{W.d(pt,{l:()=>$});const $=function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4796:(gn,pt,W)=>{W.d(pt,{u:()=>xe});var R=W(467),$=W(6060),H=W(4606),oe=W(4412),Pe=W(1360),gt=W(4611);let xe=(()=>{class Be{router;currentUserSubject=new oe.t(null);currentUser$=this.currentUserSubject.asObservable();constructor(le){this.router=le,(0,$.hg)(H.j,se=>{this.currentUserSubject.next(se)})}login(le,se){var We=this;return(0,R.A)(function*(){try{if("admin@email.com"!==le)throw new Error("Acesso negado. Apenas administradores podem fazer login.");const Rt=yield(0,$.x9)(H.j,le,se);return!!Rt.user&&(We.currentUserSubject.next(Rt.user),We.router.navigate(["/cadastro"]),!0)}catch(Rt){throw console.error("Erro no login:",Rt),Rt}})()}logout(){var le=this;return(0,R.A)(function*(){try{yield(0,$.CI)(H.j),le.currentUserSubject.next(null),le.router.navigate(["/login"])}catch(se){throw console.error("Erro no logout:",se),se}})()}isAuthenticated(){return null!==this.currentUserSubject.value}getCurrentUser(){return this.currentUserSubject.value}static \u0275fac=function(se){return new(se||Be)(Pe.KVO(gt.Ix))};static \u0275prov=Pe.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})()},5055:(gn,pt,W)=>{W.d(pt,{l:()=>H});var R=W(3494),$=W(8071);function H(oe){return(0,$.T)(oe[R.s])}},5196:(gn,pt,W)=>{W.d(pt,{C:()=>H,U:()=>oe});var R=W(1635),$=W(8071);function H(Pe){return(0,R.AQ)(this,arguments,function*(){const xe=Pe.getReader();try{for(;;){const{value:Be,done:ct}=yield(0,R.N3)(xe.read());if(ct)return yield(0,R.N3)(void 0);yield yield(0,R.N3)(Be)}}finally{xe.releaseLock()}})}function oe(Pe){return(0,$.T)(Pe?.getReader)}},5207:(gn,pt,W)=>{W.d(pt,{Wk:()=>dn,iI:()=>zn,lh:()=>Vo});var R=W(6048),$=W(1360),H=W(9361);let gt=(()=>{class J{static \u0275prov=(0,$.jDH)({token:J,providedIn:"root",factory:()=>new xe((0,$.WQX)(H.q),window)})}return J})();class xe{document;window;offset=()=>[0,0];constructor(De,he){this.document=De,this.window=he}setOffset(De){this.offset=Array.isArray(De)?()=>De:De}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(De){this.window.scrollTo(De[0],De[1])}scrollToAnchor(De){const he=function Be(J,De){const he=J.getElementById(De)||J.getElementsByName(De)[0];if(he)return he;if("function"==typeof J.createTreeWalker&&J.body&&"function"==typeof J.body.attachShadow){const Ne=J.createTreeWalker(J.body,NodeFilter.SHOW_ELEMENT);let nt=Ne.currentNode;for(;nt;){const Mt=nt.shadowRoot;if(Mt){const hn=Mt.getElementById(De)||Mt.querySelector(`[name="${De}"]`);if(hn)return hn}nt=Ne.nextNode()}}return null}(this.document,De);he&&(this.scrollToElement(he),he.focus())}setHistoryScrollRestoration(De){this.window.history.scrollRestoration=De}scrollToElement(De){const he=De.getBoundingClientRect(),Ne=he.left+this.window.pageXOffset,nt=he.top+this.window.pageYOffset,Mt=this.offset();this.window.scrollTo(Ne-Mt[0],nt-Mt[1])}}var Fe=W(2881),Xe=W(4611),te=W(1413),ne=W(7673),Ce=W(6648),lt=W(6365),Ft=W(5964),Xt=W(274),$t=W(1397);let dn=(()=>{class J{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new te.B;constructor(he,Ne,nt,Mt,hn,Ir){this.router=he,this.route=Ne,this.tabIndexAttribute=nt,this.renderer=Mt,this.el=hn,this.locationStrategy=Ir;const Er=hn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Er||"area"===Er,this.isAnchorElement?this.subscription=he.events.subscribe(ao=>{ao instanceof Xe.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(he){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",he)}ngOnChanges(he){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(he){null==he?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,Xe.wO)(he)||Array.isArray(he)?he:[he],this.setTabIndexIfNotOnNativeEl("0"))}onClick(he,Ne,nt,Mt,hn){const Ir=this.urlTree;return!!(null===Ir||this.isAnchorElement&&(0!==he||Ne||nt||Mt||hn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ir,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const he=this.urlTree;this.href=null!==he&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(he)):null;const Ne=null===this.href?null:(0,$.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ne)}applyAttributeValue(he,Ne){const nt=this.renderer,Mt=this.el.nativeElement;null!==Ne?nt.setAttribute(Mt,he,Ne):nt.removeAttribute(Mt,he)}get urlTree(){return null===this.routerLinkInput?null:(0,Xe.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(Ne){return new(Ne||J)($.rXU(Xe.Ix),$.rXU(Xe.nX),$.kS0("tabindex"),$.rXU($.sFG),$.rXU($.aKT),$.rXU(R.hb))};static \u0275dir=$.FsC({type:J,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Ne,nt){1&Ne&&$.bIt("click",function(hn){return nt.onClick(hn.button,hn.ctrlKey,hn.shiftKey,hn.altKey,hn.metaKey)}),2&Ne&&$.BMQ("target",nt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$.L39],replaceUrl:[2,"replaceUrl","replaceUrl",$.L39],routerLink:"routerLink"},features:[$.OA$]})}return J})();class Rn{}let jt=(()=>{class J{router;injector;preloadingStrategy;loader;subscription;constructor(he,Ne,nt,Mt){this.router=he,this.injector=Ne,this.preloadingStrategy=nt,this.loader=Mt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ft.p)(he=>he instanceof Xe.wF),(0,Xt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(he,Ne){const nt=[];for(const Mt of Ne){Mt.providers&&!Mt._injector&&(Mt._injector=(0,$.Ol2)(Mt.providers,he,`Route: ${Mt.path}`));const hn=Mt._injector??he,Ir=Mt._loadedInjector??hn;(Mt.loadChildren&&!Mt._loadedRoutes&&void 0===Mt.canLoad||Mt.loadComponent&&!Mt._loadedComponent)&&nt.push(this.preloadConfig(hn,Mt)),(Mt.children||Mt._loadedRoutes)&&nt.push(this.processRoutes(Ir,Mt.children??Mt._loadedRoutes))}return(0,Ce.H)(nt).pipe((0,lt.U)())}preloadConfig(he,Ne){return this.preloadingStrategy.preload(Ne,()=>{let nt;nt=Ne.loadChildren&&void 0===Ne.canLoad?this.loader.loadChildren(he,Ne):(0,ne.of)(null);const Mt=nt.pipe((0,$t.Z)(hn=>null===hn?(0,ne.of)(void 0):(Ne._loadedRoutes=hn.routes,Ne._loadedInjector=hn.injector,this.processRoutes(hn.injector??he,hn.routes))));if(Ne.loadComponent&&!Ne._loadedComponent){const hn=this.loader.loadComponent(Ne);return(0,Ce.H)([Mt,hn]).pipe((0,lt.U)())}return Mt})}static \u0275fac=function(Ne){return new(Ne||J)($.KVO(Xe.Ix),$.KVO($.uvJ),$.KVO(Rn),$.KVO(Xe.D$))};static \u0275prov=$.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})();const Mi=new $.nKC("");let br=(()=>{class J{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(he,Ne,nt,Mt,hn={}){this.urlSerializer=he,this.transitions=Ne,this.viewportScroller=nt,this.zone=Mt,this.options=hn,hn.scrollPositionRestoration||="disabled",hn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof Xe.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=he.navigationTrigger,this.restoredId=he.restoredState?he.restoredState.navigationId:0):he instanceof Xe.wF?(this.lastId=he.id,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.urlAfterRedirects).fragment)):he instanceof Xe.lW&&he.code===Xe.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof Xe.OY&&(he.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(he.position):he.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(he.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(he,Ne){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xe.OY(he,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ne))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(Ne){$.QTQ()};static \u0275prov=$.jDH({token:J,factory:J.\u0275fac})}return J})();function Vo(J,...De){return(0,$.EmA)([{provide:Xe.bw,multi:!0,useValue:J},[],{provide:Xe.nX,useFactory:ai,deps:[Xe.Ix]},{provide:$.iLQ,multi:!0,useFactory:Es},De.map(he=>he.\u0275providers)])}function ai(J){return J.routerState.root}function Vr(J,De){return{\u0275kind:J,\u0275providers:De}}function Es(){const J=(0,$.WQX)($.zZn);return De=>{const he=J.get($.o8S);if(De!==he.components[0])return;const Ne=J.get(Xe.Ix),nt=J.get(Ws);1===J.get(Di)&&Ne.initialNavigation(),J.get(M,null,$.$GK.Optional)?.setUpPreloading(),J.get(Mi,null,$.$GK.Optional)?.init(),Ne.resetRootComponentType(he.componentTypes[0]),nt.closed||(nt.next(),nt.complete(),nt.unsubscribe())}}const Ws=new $.nKC("",{factory:()=>new te.B}),Di=new $.nKC("",{providedIn:"root",factory:()=>1}),M=new $.nKC("");function Y(J){return Vr(0,[{provide:M,useExisting:jt},{provide:Rn,useExisting:J}])}function Pt(J){return(0,$.ngT)("NgRouterViewTransitions"),Vr(9,[{provide:Xe.Pu,useValue:Xe.Lg},{provide:Xe.bK,useValue:{skipNextTransition:!!J?.skipInitialTransition,...J}}])}const cr=[R.aZ,{provide:Xe.Sd,useClass:Xe.nU},Xe.Ix,Xe.Zp,{provide:Xe.nX,useFactory:ai,deps:[Xe.Ix]},Xe.D$,[]];let zn=(()=>{class J{constructor(){}static forRoot(he,Ne){return{ngModule:J,providers:[cr,[],{provide:Xe.bw,multi:!0,useValue:he},[],Ne?.errorHandler?{provide:Xe.XR,useValue:Ne.errorHandler}:[],{provide:Xe.J_,useValue:Ne||{}},Ne?.useHash?{provide:R.hb,useClass:Fe.fw}:{provide:R.hb,useClass:R.Sm},{provide:Mi,useFactory:()=>{const J=(0,$.WQX)(gt),De=(0,$.WQX)($.SKi),he=(0,$.WQX)(Xe.J_),Ne=(0,$.WQX)(Xe.J2),nt=(0,$.WQX)(Xe.Sd);return he.scrollOffset&&J.setOffset(he.scrollOffset),new br(nt,Ne,J,De,he)}},Ne?.preloadingStrategy?Y(Ne.preloadingStrategy).\u0275providers:[],Ne?.initialNavigation?ur(Ne):[],Ne?.bindToComponentInputs?Vr(8,[Xe.tD,{provide:Xe.c1,useExisting:Xe.tD}]).\u0275providers:[],Ne?.enableViewTransitions?Pt().\u0275providers:[],[{provide:so,useFactory:Es},{provide:$.iLQ,multi:!0,useExisting:so}]]}}static forChild(he){return{ngModule:J,providers:[{provide:Xe.bw,multi:!0,useValue:he}]}}static \u0275fac=function(Ne){return new(Ne||J)};static \u0275mod=$.$C({type:J});static \u0275inj=$.G2t({})}return J})();function ur(J){return["disabled"===J.initialNavigation?Vr(3,[(0,$.phd)(()=>{(0,$.WQX)(Xe.Ix).setUpLocationChangeListener()}),{provide:Di,useValue:2}]).\u0275providers:[],"enabledBlocking"===J.initialNavigation?Vr(2,[{provide:Di,useValue:0},(0,$.phd)(()=>{const De=(0,$.WQX)($.zZn);return De.get(R.hj,Promise.resolve()).then(()=>new Promise(Ne=>{const nt=De.get(Xe.Ix),Mt=De.get(Ws);(0,Xe.gk)(nt,()=>{Ne(!0)}),De.get(Xe.J2).afterPreactivation=()=>(Ne(!0),Mt.closed?(0,ne.of)(void 0):Mt),nt.initialNavigation()}))})]).\u0275providers:[]]}const so=new $.nKC("")},5225:(gn,pt,W)=>{function R($,H,oe,Pe=0,gt=!1){const xe=H.schedule(function(){oe(),gt?$.add(this.schedule(null,Pe)):this.unsubscribe()},Pe);if($.add(xe),!gt)return xe}W.d(pt,{N:()=>R})},5334:(gn,pt,W)=>{W.d(pt,{m:()=>H});var R=W(1026),$=W(9270);function H(oe){$.f.setTimeout(()=>{const{onUnhandledError:Pe}=R.$;if(!Pe)throw oe;Pe(oe)})}},5343:(gn,pt,W)=>{function R(){}W.d(pt,{l:()=>R})},5397:(gn,pt,W)=>{W.d(pt,{x:()=>H});var R=W(4761),$=W(8071);function H(oe){return(0,$.T)(oe?.[R.l])}},5558:(gn,pt,W)=>{W.d(pt,{n:()=>oe});var R=W(8750),$=W(9974),H=W(4360);function oe(Pe,gt){return(0,$.N)((xe,Be)=>{let ct=null,le=0,se=!1;const We=()=>se&&!ct&&Be.complete();xe.subscribe((0,H._)(Be,Rt=>{ct?.unsubscribe();let vt=0;const Ot=le++;(0,R.Tg)(Pe(Rt,Ot)).subscribe(ct=(0,H._)(Be,Cn=>Be.next(gt?gt(Rt,Cn,Ot,vt++):Cn),()=>{ct=null,We()}))},()=>{se=!0,We()}))})}},5964:(gn,pt,W)=>{W.d(pt,{p:()=>H});var R=W(9974),$=W(4360);function H(oe,Pe){return(0,R.N)((gt,xe)=>{let Be=0;gt.subscribe((0,$._)(xe,ct=>oe.call(Pe,ct,Be++)&&xe.next(ct)))})}},6048:(gn,pt,W)=>{W.d(pt,{Q:()=>Rt,Sm:()=>Cn,Vw:()=>Be,aZ:()=>rn,hb:()=>vt,hj:()=>ct,ig:()=>gt,kB:()=>Ot,om:()=>se,qj:()=>xe,rb:()=>Pe});var R=W(1360),$=W(1413),H=W(9361);let oe=null;function Pe(){return oe}function gt(Oe){oe??=Oe}class xe{}let Be=(()=>{class Oe{historyGo(it){throw new Error("")}static \u0275fac=function(et){return new(et||Oe)};static \u0275prov=R.jDH({token:Oe,factory:()=>(0,R.WQX)(le),providedIn:"platform"})}return Oe})();const ct=new R.nKC("");let le=(()=>{class Oe extends Be{_location;_history;_doc=(0,R.WQX)(H.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pe().getBaseHref(this._doc)}onPopState(it){const et=Pe().getGlobalEventTarget(this._doc,"window");return et.addEventListener("popstate",it,!1),()=>et.removeEventListener("popstate",it)}onHashChange(it){const et=Pe().getGlobalEventTarget(this._doc,"window");return et.addEventListener("hashchange",it,!1),()=>et.removeEventListener("hashchange",it)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(it){this._location.pathname=it}pushState(it,et,Te){this._history.pushState(it,et,Te)}replaceState(it,et,Te){this._history.replaceState(it,et,Te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(it=0){this._history.go(it)}getState(){return this._history.state}static \u0275fac=function(et){return new(et||Oe)};static \u0275prov=R.jDH({token:Oe,factory:()=>new Oe,providedIn:"platform"})}return Oe})();function se(Oe,at){return Oe?at?Oe.endsWith("/")?at.startsWith("/")?Oe+at.slice(1):Oe+at:at.startsWith("/")?Oe+at:`${Oe}/${at}`:Oe:at}function We(Oe){const at=Oe.search(/#|\?|$/);return"/"===Oe[at-1]?Oe.slice(0,at-1)+Oe.slice(at):Oe}function Rt(Oe){return Oe&&"?"!==Oe[0]?`?${Oe}`:Oe}let vt=(()=>{class Oe{historyGo(it){throw new Error("")}static \u0275fac=function(et){return new(et||Oe)};static \u0275prov=R.jDH({token:Oe,factory:()=>(0,R.WQX)(Cn),providedIn:"root"})}return Oe})();const Ot=new R.nKC("");let Cn=(()=>{class Oe extends vt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(it,et){super(),this._platformLocation=it,this._baseHref=et??this._platformLocation.getBaseHrefFromDOM()??(0,R.WQX)(H.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(it){this._removeListenerFns.push(this._platformLocation.onPopState(it),this._platformLocation.onHashChange(it))}getBaseHref(){return this._baseHref}prepareExternalUrl(it){return se(this._baseHref,it)}path(it=!1){const et=this._platformLocation.pathname+Rt(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&it?`${et}${Te}`:et}pushState(it,et,Te,mn){const je=this.prepareExternalUrl(Te+Rt(mn));this._platformLocation.pushState(it,et,je)}replaceState(it,et,Te,mn){const je=this.prepareExternalUrl(Te+Rt(mn));this._platformLocation.replaceState(it,et,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(it=0){this._platformLocation.historyGo?.(it)}static \u0275fac=function(et){return new(et||Oe)(R.KVO(Be),R.KVO(Ot,8))};static \u0275prov=R.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})(),rn=(()=>{class Oe{_subject=new $.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(it){this._locationStrategy=it;const et=this._locationStrategy.getBaseHref();this._basePath=function mt(Oe){if(new RegExp("^(https?:)?//").test(Oe)){const[,it]=Oe.split(/\/\/[^\/]+/);return it}return Oe}(We(En(et))),this._locationStrategy.onPopState(Te=>{this._subject.next({url:this.path(!0),pop:!0,state:Te.state,type:Te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(it=!1){return this.normalize(this._locationStrategy.path(it))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(it,et=""){return this.path()==this.normalize(it+Rt(et))}normalize(it){return Oe.stripTrailingSlash(function Nn(Oe,at){if(!Oe||!at.startsWith(Oe))return at;const it=at.substring(Oe.length);return""===it||["/",";","?","#"].includes(it[0])?it:at}(this._basePath,En(it)))}prepareExternalUrl(it){return it&&"/"!==it[0]&&(it="/"+it),this._locationStrategy.prepareExternalUrl(it)}go(it,et="",Te=null){this._locationStrategy.pushState(Te,"",it,et),this._notifyUrlChangeListeners(this.prepareExternalUrl(it+Rt(et)),Te)}replaceState(it,et="",Te=null){this._locationStrategy.replaceState(Te,"",it,et),this._notifyUrlChangeListeners(this.prepareExternalUrl(it+Rt(et)),Te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(it=0){this._locationStrategy.historyGo?.(it)}onUrlChange(it){return this._urlChangeListeners.push(it),this._urlChangeSubscription??=this.subscribe(et=>{this._notifyUrlChangeListeners(et.url,et.state)}),()=>{const et=this._urlChangeListeners.indexOf(it);this._urlChangeListeners.splice(et,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(it="",et){this._urlChangeListeners.forEach(Te=>Te(it,et))}subscribe(it,et,Te){return this._subject.subscribe({next:it,error:et??void 0,complete:Te??void 0})}static normalizeQueryParams=Rt;static joinWithSlash=se;static stripTrailingSlash=We;static \u0275fac=function(et){return new(et||Oe)(R.KVO(vt))};static \u0275prov=R.jDH({token:Oe,factory:()=>function un(){return new rn((0,R.KVO)(vt))}(),providedIn:"root"})}return Oe})();function En(Oe){return Oe.replace(/\/index.html$/,"")}},6060:(gn,pt,W)=>{W.d(pt,{xI:()=>dh,hg:()=>Ra,x9:()=>Ya,CI:()=>Ki});var R=W(467),$=W(4056),H=W(9164),oe=W(1563),Pe=W(4012);const vt=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ot=new H.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rn=new oe.Vy("@firebase/auth");function Nn(E,...h){rn.logLevel<=oe.$b.ERROR&&rn.error(`Auth (${$.MF}): ${E}`,...h)}function En(E,...h){throw et(E,...h)}function mt(E,...h){return et(E,...h)}function Oe(E,h,g){const w={...vt(),[h]:g};return new H.FA("auth","Firebase",w).create(h,{appName:E.name})}function at(E){return Oe(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function et(E,...h){if("string"!=typeof E){const g=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=E.name),E._errorFactory.create(g,...w)}return Ot.create(E,...h)}function Te(E,h,...g){if(!E)throw et(h,...g)}function mn(E){const h="INTERNAL ASSERTION FAILED: "+E;throw Nn(h),new Error(h)}function je(E,h){E||mn(h)}function en(){return typeof self<"u"&&self.location?.href||""}function Xn(){return typeof self<"u"&&self.location?.protocol||null}class Nt{constructor(h,g){this.shortDelay=h,this.longDelay=g,je(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,H.jZ)()||(0,H.lV)()}get(){return function Dt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Bn(){return"http:"===Xn()||"https:"===Xn()}()||(0,H.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ar(E,h){je(E.emulator,"Emulator should always be set here");const{url:g}=E.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class yt{static initialize(h,g,w){this.fetchImpl=h,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Q=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Se=new Nt(3e4,6e4);function Ve(E,h){return E.tenantId&&!h.tenantId?{...h,tenantId:E.tenantId}:h}function Re(E,h,g,w){return ot.apply(this,arguments)}function ot(){return(ot=(0,R.A)(function*(E,h,g,w,k={}){return ft(E,k,(0,R.A)(function*(){let Z={},Ee={};w&&("GET"===h?Ee=w:Z={body:JSON.stringify(w)});const $e=(0,H.Am)({key:E.config.apiKey,...Ee}).slice(1),Tt=yield E._getAdditionalHeaders();Tt["Content-Type"]="application/json",E.languageCode&&(Tt["X-Firebase-Locale"]=E.languageCode);const Gt={method:h,headers:Tt,...Z};return(0,H.c1)()||(Gt.referrerPolicy="no-referrer"),E.emulatorConfig&&(0,H.zJ)(E.emulatorConfig.host)&&(Gt.credentials="include"),yt.fetch()(yield Bt(E,E.config.apiHost,g,$e),Gt)}))})).apply(this,arguments)}function ft(E,h,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,R.A)(function*(E,h,g){E._canInitEmulator=!1;const w={...ve,...h};try{const k=new ri(E),Z=yield Promise.race([g(),k.promise]);k.clearNetworkTimeout();const Ee=yield Z.json();if("needConfirmation"in Ee)throw St(E,"account-exists-with-different-credential",Ee);if(Z.ok&&!("errorMessage"in Ee))return Ee;{const $e=Z.ok?Ee.errorMessage:Ee.error.message,[Tt,Gt]=$e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Tt)throw St(E,"credential-already-in-use",Ee);if("EMAIL_EXISTS"===Tt)throw St(E,"email-already-in-use",Ee);if("USER_DISABLED"===Tt)throw St(E,"user-disabled",Ee);const Zt=w[Tt]||Tt.toLowerCase().replace(/[_\s]+/g,"-");if(Gt)throw Oe(E,Zt,Gt);En(E,Zt)}}catch(k){if(k instanceof H.g)throw k;En(E,"network-request-failed",{message:String(k)})}})).apply(this,arguments)}function kt(E,h,g,w){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,R.A)(function*(E,h,g,w,k={}){const Z=yield Re(E,h,g,w,k);return"mfaPendingCredential"in Z&&En(E,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Bt(E,h,g,w){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,R.A)(function*(E,h,g,w){const k=`${h}${g}?${w}`,Z=E,Ee=Z.config.emulator?Ar(E.config,k):`${E.config.apiScheme}://${k}`;return Q.includes(g)&&(yield Z._persistenceManagerAvailable,"COOKIE"===Z._getPersistenceType())?Z._getPersistence()._getFinalTarget(Ee).toString():Ee})).apply(this,arguments)}function on(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ri{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(mt(this.auth,"network-request-failed")),Se.get())})}}function St(E,h,g){const w={appName:E.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const k=mt(E,h,w);return k.customData._tokenResponse=g,k}function Hn(E){return void 0!==E&&void 0!==E.enterprise}class tr{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return on(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function Oi(){return(Oi=(0,R.A)(function*(E,h){return Re(E,"GET","/v2/recaptchaConfig",Ve(E,h))})).apply(this,arguments)}function ln(){return(ln=(0,R.A)(function*(E,h){return Re(E,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function It(E,h){return At.apply(this,arguments)}function At(){return(At=(0,R.A)(function*(E,h){return Re(E,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function oi(E){if(E)try{const h=new Date(Number(E));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ke(){return(Ke=(0,R.A)(function*(E,h=!1){const g=(0,H.Ku)(E),w=yield g.getIdToken(h),k=Ie(w);Te(k&&k.exp&&k.auth_time&&k.iat,g.auth,"internal-error");const Z="object"==typeof k.firebase?k.firebase:void 0,Ee=Z?.sign_in_provider;return{claims:k,token:w,authTime:oi(ge(k.auth_time)),issuedAtTime:oi(ge(k.iat)),expirationTime:oi(ge(k.exp)),signInProvider:Ee||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function ge(E){return 1e3*Number(E)}function Ie(E){const[h,g,w]=E.split(".");if(void 0===h||void 0===g||void 0===w)return Nn("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,H.u)(g);return k?JSON.parse(k):(Nn("Failed to decode base64 JWT payload"),null)}catch(k){return Nn("Caught error parsing JWT payload as JSON",k?.toString()),null}}function st(E){const h=Ie(E);return Te(h,"internal-error"),Te(typeof h.exp<"u","internal-error"),Te(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function dt(E,h){return sn.apply(this,arguments)}function sn(){return(sn=(0,R.A)(function*(E,h,g=!1){if(g)return h;try{return yield h}catch(w){throw w instanceof H.g&&function xn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(w)&&E.auth.currentUser===E&&(yield E.auth.signOut()),w}})).apply(this,arguments)}class hr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){if(h){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const w=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,w)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,R.A)(function*(){yield g.iteration()}),w)}iteration(){var h=this;return(0,R.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class Ut{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Et(E){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,R.A)(function*(E){const h=E.auth,g=yield E.getIdToken(),w=yield dt(E,It(h,{idToken:g}));Te(w?.users.length,h,"internal-error");const k=w.users[0];E._notifyReloadListener(k);const Z=k.providerUserInfo?.length?jn(k.providerUserInfo):[],Ee=function Si(E,h){return[...E.filter(w=>!h.some(k=>k.providerId===w.providerId)),...h]}(E.providerData,Z),Gt=!!E.isAnonymous&&!(E.email&&k.passwordHash||Ee?.length),Zt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Ee,metadata:new Ut(k.createdAt,k.lastLoginAt),isAnonymous:Gt};Object.assign(E,Zt)})).apply(this,arguments)}function si(){return(si=(0,R.A)(function*(E){const h=(0,H.Ku)(E);yield Et(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function jn(E){return E.map(({providerId:h,...g})=>({providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}))}function nr(){return(nr=(0,R.A)(function*(E,h){const g=yield ft(E,{},(0,R.A)(function*(){const w=(0,H.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:k,apiKey:Z}=E.config,Ee=yield Bt(E,k,"/v1/token",`key=${Z}`),$e=yield E._getAdditionalHeaders();$e["Content-Type"]="application/x-www-form-urlencoded";const Tt={method:"POST",headers:$e,body:w};return E.emulatorConfig&&(0,H.zJ)(E.emulatorConfig.host)&&(Tt.credentials="include"),yt.fetch()(Ee,Tt)}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function In(){return(In=(0,R.A)(function*(E,h){return Re(E,"POST","/v2/accounts:revokeToken",Ve(E,h))})).apply(this,arguments)}class yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Te(h.idToken,"internal-error"),Te(typeof h.idToken<"u","internal-error"),Te(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):st(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){Te(0!==h.length,"internal-error");const g=st(h);this.updateTokensAndExpiration(h,null,g)}getToken(h){var g=this;return(0,R.A)(function*(w,k=!1){return k||!g.accessToken||g.isExpired?(Te(g.refreshToken,w,"user-token-expired"),g.refreshToken?(yield g.refresh(w,g.refreshToken),g.accessToken):null):g.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var w=this;return(0,R.A)(function*(){const{accessToken:k,refreshToken:Z,expiresIn:Ee}=yield function Ri(E,h){return nr.apply(this,arguments)}(h,g);w.updateTokensAndExpiration(k,Z,Number(Ee))})()}updateTokensAndExpiration(h,g,w){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,g){const{refreshToken:w,accessToken:k,expirationTime:Z}=g,Ee=new yr;return w&&(Te("string"==typeof w,"internal-error",{appName:h}),Ee.refreshToken=w),k&&(Te("string"==typeof k,"internal-error",{appName:h}),Ee.accessToken=k),Z&&(Te("number"==typeof Z,"internal-error",{appName:h}),Ee.expirationTime=Z),Ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new yr,this.toJSON())}_performRefresh(){return mn("not implemented")}}function rr(E,h){Te("string"==typeof E||typeof E>"u","internal-error",{appName:h})}class Vt{constructor({uid:h,auth:g,stsTokenManager:w,...k}){this.providerId="firebase",this.proactiveRefresh=new hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=w,this.accessToken=w.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Ut(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,R.A)(function*(){const w=yield dt(g,g.stsTokenManager.getToken(g.auth,h));return Te(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(h){return function ut(E){return Ke.apply(this,arguments)}(this,h)}reload(){return function On(E){return si.apply(this,arguments)}(this)}_assign(h){this!==h&&(Te(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>({...g})),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new Vt({...this,auth:h,stsTokenManager:this.stsTokenManager._clone()});return g.metadata._copy(this.metadata),g}_onReload(h){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var g=this;return(0,R.A)(function*(w,k=!1){let Z=!1;w.idToken&&w.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(w),Z=!0),k&&(yield Et(g)),yield g.auth._persistUserIfCurrent(g),Z&&g.auth._notifyListenersIfCurrent(g)}).apply(this,arguments)}delete(){var h=this;return(0,R.A)(function*(){if((0,$.xZ)(h.auth.app))return Promise.reject(at(h.auth));const g=yield h.getIdToken();return yield dt(h,function or(E,h){return ln.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>({...h})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){const w=g.displayName??void 0,k=g.email??void 0,Z=g.phoneNumber??void 0,Ee=g.photoURL??void 0,$e=g.tenantId??void 0,Tt=g._redirectEventId??void 0,Gt=g.createdAt??void 0,Zt=g.lastLoginAt??void 0,{uid:fn,emailVerified:Gn,isAnonymous:Ji,providerData:Bs,stsTokenManager:au}=g;Te(fn&&au,h,"internal-error");const Fa=yr.fromJSON(this.name,au);Te("string"==typeof fn,h,"internal-error"),rr(w,h.name),rr(k,h.name),Te("boolean"==typeof Gn,h,"internal-error"),Te("boolean"==typeof Ji,h,"internal-error"),rr(Z,h.name),rr(Ee,h.name),rr($e,h.name),rr(Tt,h.name),rr(Gt,h.name),rr(Zt,h.name);const Va=new Vt({uid:fn,auth:h,email:k,emailVerified:Gn,displayName:w,isAnonymous:Ji,photoURL:Ee,phoneNumber:Z,tenantId:$e,stsTokenManager:Fa,createdAt:Gt,lastLoginAt:Zt});return Bs&&Array.isArray(Bs)&&(Va.providerData=Bs.map(Bi=>({...Bi}))),Tt&&(Va._redirectEventId=Tt),Va}static _fromIdTokenResponse(h,g){return(0,R.A)(function*(w,k,Z=!1){const Ee=new yr;Ee.updateFromServerResponse(k);const $e=new Vt({uid:k.localId,auth:w,stsTokenManager:Ee,isAnonymous:Z});return yield Et($e),$e}).apply(this,arguments)}static _fromGetAccountInfoResponse(h,g,w){return(0,R.A)(function*(){const k=g.users[0];Te(void 0!==k.localId,"internal-error");const Z=void 0!==k.providerUserInfo?jn(k.providerUserInfo):[],Ee=!(k.email&&k.passwordHash||Z?.length),$e=new yr;$e.updateFromIdToken(w);const Tt=new Vt({uid:k.localId,auth:h,stsTokenManager:$e,isAnonymous:Ee}),Gt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Z,metadata:new Ut(k.createdAt,k.lastLoginAt),isAnonymous:!(k.email&&k.passwordHash||Z?.length)};return Object.assign(Tt,Gt),Tt})()}}const Xr=new Map;function sr(E){je(E instanceof Function,"Expected a class definition");let h=Xr.get(E);return h?(je(h instanceof E,"Instance stored in cache mismatched with class"),h):(h=new E,Xr.set(E,h),h)}const fi=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.A)(function*(){return!0})()}_set(g,w){var k=this;return(0,R.A)(function*(){k.storage[g]=w})()}_get(g){var w=this;return(0,R.A)(function*(){const k=w.storage[g];return void 0===k?null:k})()}_remove(g){var w=this;return(0,R.A)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return E.type="NONE",E})();function we(E,h,g){return`firebase:${E}:${h}:${g}`}class re{constructor(h,g,w){this.persistence=h,this.auth=g,this.userKey=w;const{config:k,name:Z}=this.auth;this.fullUserKey=we(this.userKey,k.apiKey,Z),this.fullPersistenceKey=we("persistence",k.apiKey,Z),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,R.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);if(!g)return null;if("string"==typeof g){const w=yield It(h.auth,{idToken:g}).catch(()=>{});return w?Vt._fromGetAccountInfoResponse(h.auth,w,g):null}return Vt._fromJSON(h.auth,g)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,R.A)(function*(){if(g.persistence===h)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g){return(0,R.A)(function*(w,k,Z="authUser"){if(!k.length)return new re(sr(fi),w,Z);const Ee=(yield Promise.all(k.map(function(){var fn=(0,R.A)(function*(Gn){if(yield Gn._isAvailable())return Gn});return function(Gn){return fn.apply(this,arguments)}}()))).filter(fn=>fn);let $e=Ee[0]||sr(fi);const Tt=we(Z,w.config.apiKey,w.name);let Gt=null;for(const fn of k)try{const Gn=yield fn._get(Tt);if(Gn){let Ji;if("string"==typeof Gn){const Bs=yield It(w,{idToken:Gn}).catch(()=>{});if(!Bs)break;Ji=yield Vt._fromGetAccountInfoResponse(w,Bs,Gn)}else Ji=Vt._fromJSON(w,Gn);fn!==$e&&(Gt=Ji),$e=fn;break}}catch{}const Zt=Ee.filter(fn=>fn._shouldAllowMigration);return $e._shouldAllowMigration&&Zt.length?($e=Zt[0],Gt&&(yield $e._set(Tt,Gt.toJSON())),yield Promise.all(k.map(function(){var fn=(0,R.A)(function*(Gn){if(Gn!==$e)try{yield Gn._remove(Tt)}catch{}});return function(Gn){return fn.apply(this,arguments)}}())),new re($e,w,Z)):new re($e,w,Z)}).apply(this,arguments)}}function ie(E){const h=E.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Kt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(me(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ar(h))return"Blackberry";if(z(h))return"Webos";if(rt(h))return"Safari";if((h.includes("chrome/")||He(h))&&!h.includes("edge/"))return"Chrome";if(an(h))return"Android";{const w=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function me(E=(0,H.ZQ)()){return/firefox\//i.test(E)}function rt(E=(0,H.ZQ)()){const h=E.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function He(E=(0,H.ZQ)()){return/crios\//i.test(E)}function Kt(E=(0,H.ZQ)()){return/iemobile/i.test(E)}function an(E=(0,H.ZQ)()){return/android/i.test(E)}function ar(E=(0,H.ZQ)()){return/blackberry/i.test(E)}function z(E=(0,H.ZQ)()){return/webos/i.test(E)}function X(E=(0,H.ZQ)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Xe(E=(0,H.ZQ)()){return X(E)||an(E)||z(E)||ar(E)||/windows phone/i.test(E)||Kt(E)}function te(E,h=[]){let g;switch(E){case"Browser":g=ie((0,H.ZQ)());break;case"Worker":g=`${ie((0,H.ZQ)())}-${E}`;break;default:g=E}const w=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${$.MF}/${w}`}class ne{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const w=Z=>new Promise((Ee,$e)=>{try{Ee(h(Z))}catch(Tt){$e(Tt)}});w.onAbort=g,this.queue.push(w);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,R.A)(function*(){if(g.auth.currentUser===h)return;const w=[];try{for(const k of g.queue)yield k(h),k.onAbort&&w.push(k.onAbort)}catch(k){w.reverse();for(const Z of w)try{Z()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}function lt(){return(lt=(0,R.A)(function*(E,h={}){return Re(E,"GET","/v2/passwordPolicy",Ve(E,h))})).apply(this,arguments)}class Xt{constructor(h){const g=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=g.minPasswordLength??6,g.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=g.maxPasswordLength),void 0!==g.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=g.containsLowercaseCharacter),void 0!==g.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=g.containsUppercaseCharacter),void 0!==g.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=g.containsNumericCharacter),void 0!==g.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=g.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=h.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=h.forceUpgradeOnSignin??!1,this.schemaVersion=h.schemaVersion}validatePassword(h){const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,g),this.validatePasswordCharacterOptions(h,g),g.isValid&&(g.isValid=g.meetsMinPasswordLength??!0),g.isValid&&(g.isValid=g.meetsMaxPasswordLength??!0),g.isValid&&(g.isValid=g.containsLowercaseLetter??!0),g.isValid&&(g.isValid=g.containsUppercaseLetter??!0),g.isValid&&(g.isValid=g.containsNumericCharacter??!0),g.isValid&&(g.isValid=g.containsNonAlphanumericCharacter??!0),g}validatePasswordLengthOptions(h,g){const w=this.customStrengthOptions.minPasswordLength,k=this.customStrengthOptions.maxPasswordLength;w&&(g.meetsMinPasswordLength=h.length>=w),k&&(g.meetsMaxPasswordLength=h.length<=k)}validatePasswordCharacterOptions(h,g){let w;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let k=0;k<h.length;k++)w=h.charAt(k),this.updatePasswordCharacterOptionsStatuses(g,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(h,g,w,k,Z){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=k)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=Z))}}class $t{constructor(h,g,w,k){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sn(this),this.idTokenSubscription=new Sn(this),this.beforeStateQueue=new ne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=k.sdkClientVersion,this._persistenceManagerAvailable=new Promise(Z=>this._resolvePersistenceManagerAvailable=Z)}_initializeWithPersistence(h,g){var w=this;return g&&(this._popupRedirectResolver=sr(g)),this._initializationPromise=this.queue((0,R.A)(function*(){if(!w._deleted&&(w.persistenceManager=yield re.create(w,h),w._resolvePersistenceManagerAvailable?.(),!w._deleted)){if(w._popupRedirectResolver?._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=w.currentUser?.uid||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,R.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,R.A)(function*(){try{const w=yield It(g,{idToken:h}),k=yield Vt._fromGetAccountInfoResponse(g,w,h);yield g.directlySetCurrentUser(k)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,R.A)(function*(){if((0,$.xZ)(g.app)){const Ee=g.app.settings.authIdToken;return Ee?new Promise($e=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(Ee).then($e,$e))}):g.directlySetCurrentUser(null)}const w=yield g.assertedPersistence.getCurrentUser();let k=w,Z=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ee=g.redirectUser?._redirectEventId,$e=k?._redirectEventId,Tt=yield g.tryRedirectSignIn(h);(!Ee||Ee===$e)&&Tt?.user&&(k=Tt.user,Z=!0)}if(!k)return g.directlySetCurrentUser(null);if(!k._redirectEventId){if(Z)try{yield g.beforeStateQueue.runMiddleware(k)}catch(Ee){k=w,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ee))}return k?g.reloadAndSetCurrentUserOrClear(k):g.directlySetCurrentUser(null)}return Te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===k._redirectEventId?g.directlySetCurrentUser(k):g.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(h){var g=this;return(0,R.A)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,R.A)(function*(){try{yield Et(h)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function wn(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var h=this;return(0,R.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,R.A)(function*(){if((0,$.xZ)(g.app))return Promise.reject(at(g));const w=h?(0,H.Ku)(h):null;return w&&Te(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(h){var g=this;return(0,R.A)(function*(w,k=!1){if(!g._deleted)return w&&Te(g.tenantId===w.tenantId,g,"tenant-id-mismatch"),k||(yield g.beforeStateQueue.runMiddleware(w)),g.queue((0,R.A)(function*(){yield g.directlySetCurrentUser(w),g.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,R.A)(function*(){return(0,$.xZ)(h.app)?Promise.reject(at(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,$.xZ)(this.app)?Promise.reject(at(this)):this.queue((0,R.A)(function*(){yield g.assertedPersistence.setPersistence(sr(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,R.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const w=g._getPasswordPolicyInternal();return w.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,R.A)(function*(){const g=yield function Ce(E){return lt.apply(this,arguments)}(h),w=new Xt(g);null===h.tenantId?h._projectPasswordPolicy=w:h._tenantPasswordPolicies[h.tenantId]=w})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(h){this._errorFactory=new H.FA("auth","Firebase",h())}onAuthStateChanged(h,g,w){return this.registerStateListener(this.authStateSubscription,h,g,w)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,w){return this.registerStateListener(this.idTokenSubscription,h,g,w)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const w=this.onAuthStateChanged(()=>{w(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,R.A)(function*(){if(g.currentUser){const w=yield g.currentUser.getIdToken(),k={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:w};null!=g.tenantId&&(k.tenantId=g.tenantId),yield function Pi(E,h){return In.apply(this,arguments)}(g,k)}})()}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(h,g){var w=this;return(0,R.A)(function*(){const k=yield w.getOrInitRedirectPersistenceManager(g);return null===h?k.removeCurrentUser():k.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,R.A)(function*(){if(!g.redirectPersistenceManager){const w=h&&sr(h)||g._popupRedirectResolver;Te(w,g,"argument-error"),g.redirectPersistenceManager=yield re.create(g,[sr(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,R.A)(function*(){return g._isInitialized&&(yield g.queue((0,R.A)(function*(){}))),g._currentUser?._redirectEventId===h?g._currentUser:g.redirectUser?._redirectEventId===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,R.A)(function*(){if(h===g.currentUser)return g.queue((0,R.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const h=this.currentUser?.uid??null;this.lastNotifiedUid!==h&&(this.lastNotifiedUid=h,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,w,k){if(this._deleted)return()=>{};const Z="function"==typeof g?g:g.next.bind(g);let Ee=!1;const $e=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te($e,this,"internal-error"),$e.then(()=>{Ee||Z(this.currentUser)}),"function"==typeof g){const Tt=h.addObserver(g,w,k);return()=>{Ee=!0,Tt()}}{const Tt=h.addObserver(g);return()=>{Ee=!0,Tt()}}}directlySetCurrentUser(h){var g=this;return(0,R.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=te(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,R.A)(function*(){const g={"X-Client-Version":h.clientVersion};h.app.options.appId&&(g["X-Firebase-gmpid"]=h.app.options.appId);const w=yield h.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();w&&(g["X-Firebase-Client"]=w);const k=yield h._getAppCheckToken();return k&&(g["X-Firebase-AppCheck"]=k),g})()}_getAppCheckToken(){var h=this;return(0,R.A)(function*(){if((0,$.xZ)(h.app)&&h.app.settings.appCheckToken)return h.app.settings.appCheckToken;const g=yield h.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return g?.error&&function un(E,...h){rn.logLevel<=oe.$b.WARN&&rn.warn(`Auth (${$.MF}): ${E}`,...h)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function dn(E){return(0,H.Ku)(E)}class Sn{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,H.tD)(g=>this.observer=g)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tn={loadJS:()=>(0,R.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vr(E){return tn.loadJS(E)}function br(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Qa{constructor(){this.enterprise=new bu}ready(h){h()}execute(h,g){return Promise.resolve("token")}render(h,g){return""}}class bu{ready(h){h()}execute(h,g){return Promise.resolve("token")}render(h,g){return""}}const Di="NO_RECAPTCHA";class Uo{constructor(h){this.type="recaptcha-enterprise",this.auth=dn(h)}verify(){var h=this;return(0,R.A)(function*(g="verify",w=!1){function Z(){return Z=(0,R.A)(function*($e){if(!w){if(null==$e.tenantId&&null!=$e._agentRecaptchaConfig)return $e._agentRecaptchaConfig.siteKey;if(null!=$e.tenantId&&void 0!==$e._tenantRecaptchaConfigs[$e.tenantId])return $e._tenantRecaptchaConfigs[$e.tenantId].siteKey}return new Promise(function(){var Tt=(0,R.A)(function*(Gt,Zt){(function wi(E,h){return Oi.apply(this,arguments)})($e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(fn=>{if(void 0!==fn.recaptchaKey){const Gn=new tr(fn);return null==$e.tenantId?$e._agentRecaptchaConfig=Gn:$e._tenantRecaptchaConfigs[$e.tenantId]=Gn,Gt(Gn.siteKey)}Zt(new Error("recaptcha Enterprise site key undefined"))}).catch(fn=>{Zt(fn)})});return function(Gt,Zt){return Tt.apply(this,arguments)}}())}),Z.apply(this,arguments)}function Ee($e,Tt,Gt){const Zt=window.grecaptcha;Hn(Zt)?Zt.enterprise.ready(()=>{Zt.enterprise.execute($e,{action:g}).then(fn=>{Tt(fn)}).catch(()=>{Tt(Di)})}):Gt(Error("No reCAPTCHA enterprise script loaded."))}return h.auth.settings.appVerificationDisabledForTesting?(new Qa).execute("siteKey",{action:"verify"}):new Promise(($e,Tt)=>{(function k($e){return Z.apply(this,arguments)})(h.auth).then(Gt=>{if(!w&&Hn(window.grecaptcha))Ee(Gt,$e,Tt);else{if(typeof window>"u")return void Tt(new Error("RecaptchaVerifier is only supported in browser"));let Zt=function jt(){return tn.recaptchaEnterpriseScript}();0!==Zt.length&&(Zt+=Gt),vr(Zt).then(()=>{Ee(Gt,$e,Tt)}).catch(fn=>{Tt(fn)})}}).catch(Gt=>{Tt(Gt)})})}).apply(this,arguments)}}function Eo(E,h,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,R.A)(function*(E,h,g,w=!1,k=!1){const Z=new Uo(E);let Ee;if(k)Ee=Di;else try{Ee=yield Z.verify(g)}catch{Ee=yield Z.verify(g,!0)}const $e={...h};return"mfaSmsEnrollment"===g||"mfaSmsSignIn"===g?("phoneEnrollmentInfo"in $e?Object.assign($e,{phoneEnrollmentInfo:{phoneNumber:$e.phoneEnrollmentInfo.phoneNumber,recaptchaToken:$e.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Ee,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in $e&&Object.assign($e,{phoneSignInInfo:{recaptchaToken:$e.phoneSignInInfo.recaptchaToken,captchaResponse:Ee,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),$e):(Object.assign($e,w?{captchaResp:Ee}:{captchaResponse:Ee}),Object.assign($e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$e)})).apply(this,arguments)}function M(E,h,g,w,k){return Y.apply(this,arguments)}function Y(){return Y=(0,R.A)(function*(E,h,g,w,k){if("EMAIL_PASSWORD_PROVIDER"===k){if(E._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Z=yield Eo(E,h,g,"getOobCode"===g);return w(E,Z)}return w(E,h).catch(function(){var Z=(0,R.A)(function*(Ee){if("auth/missing-recaptcha-token"===Ee.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const $e=yield Eo(E,h,g,"getOobCode"===g);return w(E,$e)}return Promise.reject(Ee)});return function(Ee){return Z.apply(this,arguments)}}())}if("PHONE_PROVIDER"===k){if(E._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const Z=yield Eo(E,h,g);return w(E,Z).catch(function(){var Ee=(0,R.A)(function*($e){if("AUDIT"===E._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===$e.code||"auth/invalid-app-credential"===$e.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${g} flow.`);const Tt=yield Eo(E,h,g,!1,!0);return w(E,Tt)}return Promise.reject($e)});return function($e){return Ee.apply(this,arguments)}}())}{const Z=yield Eo(E,h,g,!1,!0);return w(E,Z)}}return Promise.reject(k+" provider is not supported.")}),Y.apply(this,arguments)}function Jt(E){const h=E.indexOf(":");return h<0?"":E.substr(0,h+1)}function cr(E){if(!E)return null;const h=Number(E);return isNaN(h)?null:h}class Pn{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return mn("not implemented")}_getIdTokenResponse(h){return mn("not implemented")}_linkToIdToken(h,g){return mn("not implemented")}_getReauthenticationResolver(h){return mn("not implemented")}}function so(E,h){return eo.apply(this,arguments)}function eo(){return(eo=(0,R.A)(function*(E,h){return Re(E,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function he(E,h){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,R.A)(function*(E,h){return kt(E,"POST","/v1/accounts:signInWithPassword",Ve(E,h))})).apply(this,arguments)}function To(){return(To=(0,R.A)(function*(E,h){return kt(E,"POST","/v1/accounts:signInWithEmailLink",Ve(E,h))})).apply(this,arguments)}function qs(){return(qs=(0,R.A)(function*(E,h){return kt(E,"POST","/v1/accounts:signInWithEmailLink",Ve(E,h))})).apply(this,arguments)}class Ks extends Pn{constructor(h,g,w,k=null){super("password",w),this._email=h,this._password=g,this._tenantId=k}static _fromEmailAndPassword(h,g){return new Ks(h,g,"password")}static _fromEmailAndCode(h,g,w=null){return new Ks(h,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,R.A)(function*(){switch(g.signInMethod){case"password":return M(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",he,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function ws(E,h){return To.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:En(h,"internal-error")}})()}_linkToIdToken(h,g){var w=this;return(0,R.A)(function*(){switch(w.signInMethod){case"password":return M(h,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",so,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Oc(E,h){return qs.apply(this,arguments)}(h,{idToken:g,email:w._email,oobCode:w._password});default:En(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function uo(E,h){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,R.A)(function*(E,h){return kt(E,"POST","/v1/accounts:signInWithIdp",Ve(E,h))})).apply(this,arguments)}class $n{constructor(h){const g=(0,H.I9)((0,H.hp)(h)),w=g.apiKey??null,k=g.oobCode??null,Z=function Ur(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(g.mode??null);Te(w&&k&&Z,"argument-error"),this.apiKey=w,this.operation=Z,this.code=k,this.continueUrl=g.continueUrl??null,this.languageCode=g.lang??null,this.tenantId=g.tenantId??null}static parseLink(h){const g=function Lc(E){const h=(0,H.I9)((0,H.hp)(E)).link,g=h?(0,H.I9)((0,H.hp)(h)).deep_link_id:null,w=(0,H.I9)((0,H.hp)(E)).deep_link_id;return(w?(0,H.I9)((0,H.hp)(w)).link:null)||w||g||h||E}(h);try{return new $n(g)}catch{return null}}}let ir=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(g,w){return Ks._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const k=$n.parseLink(w);return Te(k,"argument-error"),Ks._fromEmailAndCode(g,k.code,k.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Qt{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Gi extends Qt{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Li{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,w){return(0,R.A)(function*(k,Z,Ee,$e=!1){const Tt=yield Vt._fromIdTokenResponse(k,Ee,$e),Gt=wa(Ee);return new Li({user:Tt,providerId:Gt,_tokenResponse:Ee,operationType:Z})}).apply(this,arguments)}static _forOperation(h,g,w){return(0,R.A)(function*(){yield h._updateTokensIfNecessary(w,!0);const k=wa(w);return new Li({user:h,providerId:k,_tokenResponse:w,operationType:g})})()}}function wa(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class Ko extends H.g{constructor(h,g,w,k){super(g.code,g.message),this.operationType=w,this.user=k,Object.setPrototypeOf(this,Ko.prototype),this.customData={appName:h.name,tenantId:h.tenantId??void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,g,w,k){return new Ko(h,g,w,k)}}function Pu(E,h,g,w){return("reauthenticate"===h?g._getReauthenticationResolver(E):g._getIdTokenResponse(E)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?Ko._fromErrorAndOperation(E,Z,h,w):Z})}function Co(){return(Co=(0,R.A)(function*(E,h,g=!1){const w=yield dt(E,h._linkToIdToken(E.auth,yield E.getIdToken()),g);return Li._forOperation(E,"link",w)})).apply(this,arguments)}function bo(){return(bo=(0,R.A)(function*(E,h,g=!1){const{auth:w}=E;if((0,$.xZ)(w.app))return Promise.reject(at(w));const k="reauthenticate";try{const Z=yield dt(E,Pu(w,k,h,E),g);Te(Z.idToken,w,"internal-error");const Ee=Ie(Z.idToken);Te(Ee,w,"internal-error");const{sub:$e}=Ee;return Te(E.uid===$e,w,"user-mismatch"),Li._forOperation(E,k,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&En(w,"user-mismatch"),Z}})).apply(this,arguments)}function Fi(E,h){return mi.apply(this,arguments)}function mi(){return(mi=(0,R.A)(function*(E,h,g=!1){if((0,$.xZ)(E.app))return Promise.reject(at(E));const w="signIn",k=yield Pu(E,w,h),Z=yield Li._fromIdTokenResponse(E,w,k);return g||(yield E._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function Zs(){return(Zs=(0,R.A)(function*(E,h){return Fi(dn(E),h)})).apply(this,arguments)}function Ss(){return(Ss=(0,R.A)(function*(E){const h=dn(E);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Ya(E,h,g){return(0,$.xZ)(E.app)?Promise.reject(at(E)):function yi(E,h){return Zs.apply(this,arguments)}((0,H.Ku)(E),ir.credential(h,g)).catch(function(){var w=(0,R.A)(function*(k){throw"auth/password-does-not-meet-requirements"===k.code&&function as(E){return Ss.apply(this,arguments)}(E),k});return function(k){return w.apply(this,arguments)}}())}function Ra(E,h,g,w){return(0,H.Ku)(E).onAuthStateChanged(h,g,w)}function Ki(E){return(0,H.Ku)(E).signOut()}const Wc="__sak";class Ml{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const sc=(()=>{class E extends Ml{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xe(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const k=this.storage.getItem(w),Z=this.localCache[w];k!==Z&&g(w,Z,k)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys(($e,Tt,Gt)=>{this.notifyListeners($e,Gt)});const k=g.key;w?this.detachListener():this.stopPolling();const Z=()=>{const $e=this.storage.getItem(k);!w&&this.localCache[k]===$e||this.notifyListeners(k,$e)},Ee=this.storage.getItem(k);!function Fe(){return(0,H.lT)()&&10===document.documentMode}()||Ee===g.newValue||g.newValue===g.oldValue?Z():setTimeout(Z,10)}notifyListeners(g,w){this.localCache[g]=w;const k=this.listeners[g];if(k)for(const Z of Array.from(k))Z(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var k=()=>super._set,Z=this;return(0,R.A)(function*(){yield k().call(Z,g,w),Z.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,k=this;return(0,R.A)(function*(){const Z=yield w().call(k,g);return k.localCache[g]=JSON.stringify(Z),Z})()}_remove(g){var w=()=>super._remove,k=this;return(0,R.A)(function*(){yield w().call(k,g),delete k.localCache[g]})()}}return E.type="LOCAL",E})(),hs=(()=>{class E extends Ml{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return E.type="SESSION",E})();let kl=(()=>{class E{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(Z=>Z.isListeningto(g));if(w)return w;const k=new E(g);return this.receivers.push(k),k}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,R.A)(function*(){const k=g,{eventId:Z,eventType:Ee,data:$e}=k.data,Tt=w.handlersMap[Ee];if(!Tt?.size)return;k.ports[0].postMessage({status:"ack",eventId:Z,eventType:Ee});const Gt=Array.from(Tt).map(function(){var fn=(0,R.A)(function*(Gn){return Gn(k.origin,$e)});return function(Gn){return fn.apply(this,arguments)}}()),Zt=yield function ra(E){return Promise.all(E.map(function(){var h=(0,R.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return h.apply(this,arguments)}}()))}(Gt);k.ports[0].postMessage({status:"done",eventId:Z,eventType:Ee,response:Zt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function es(E="",h=10){let g="";for(let w=0;w<h;w++)g+=Math.floor(10*Math.random());return E+g}class Nu{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g){var w=this;return(0,R.A)(function*(k,Z,Ee=50){const $e=typeof MessageChannel<"u"?new MessageChannel:null;if(!$e)throw new Error("connection_unavailable");let Tt,Gt;return new Promise((Zt,fn)=>{const Gn=es("",20);$e.port1.start();const Ji=setTimeout(()=>{fn(new Error("unsupported_event"))},Ee);Gt={messageChannel:$e,onMessage(Bs){const au=Bs;if(au.data.eventId===Gn)switch(au.data.status){case"ack":clearTimeout(Ji),Tt=setTimeout(()=>{fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Tt),Zt(au.data.response);break;default:clearTimeout(Ji),clearTimeout(Tt),fn(new Error("invalid_response"))}}},w.handlers.add(Gt),$e.port1.addEventListener("message",Gt.onMessage),w.target.postMessage({eventType:k,eventId:Gn,data:Z},[$e.port2])}).finally(()=>{Gt&&w.removeMessageHandler(Gt)})}).apply(this,arguments)}}function Nr(){return window}function D(){return typeof Nr().WorkerGlobalScope<"u"&&"function"==typeof Nr().importScripts}function A(){return(A=(0,R.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const j="firebaseLocalStorageDb",ke="firebaseLocalStorage",Ct="fbase_key";class _n{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function dr(E,h){return E.transaction([ke],h?"readwrite":"readonly").objectStore(ke)}function lr(){const E=indexedDB.open(j,1);return new Promise((h,g)=>{E.addEventListener("error",()=>{g(E.error)}),E.addEventListener("upgradeneeded",()=>{const w=E.result;try{w.createObjectStore(ke,{keyPath:Ct})}catch(k){g(k)}}),E.addEventListener("success",(0,R.A)(function*(){const w=E.result;w.objectStoreNames.contains(ke)?h(w):(w.close(),yield function Vi(){const E=indexedDB.deleteDatabase(j);return new _n(E).toPromise()}(),h(yield lr()))}))})}function $r(E,h,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,R.A)(function*(E,h,g){const w=dr(E,!0).put({[Ct]:h,value:g});return new _n(w).toPromise()})).apply(this,arguments)}function xi(){return(xi=(0,R.A)(function*(E,h){const g=dr(E,!1).get(h),w=yield new _n(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function xs(E,h){const g=dr(E,!0).delete(h);return new _n(g).toPromise()}const xu=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,R.A)(function*(){return g.db||(g.db=yield lr()),g.db})()}_withRetries(g){var w=this;return(0,R.A)(function*(){let k=0;for(;;)try{const Z=yield w._openDb();return yield g(Z)}catch(Z){if(k++>3)throw Z;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,R.A)(function*(){return D()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,R.A)(function*(){g.receiver=kl._getInstance(function V(){return D()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,R.A)(function*(k,Z){return{keyProcessed:(yield g._poll()).includes(Z.key)}});return function(k,Z){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,R.A)(function*(k,Z){return["keyChanged"]});return function(k,Z){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,R.A)(function*(){if(g.activeServiceWorker=yield function v(){return A.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nu(g.activeServiceWorker);const w=yield g.sender._send("ping",{},800);w&&w[0]?.fulfilled&&w[0]?.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,R.A)(function*(){if(w.sender&&w.activeServiceWorker&&function N(){return navigator?.serviceWorker?.controller||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.A)(function*(){try{if(!indexedDB)return!1;const g=yield lr();return yield $r(g,Wc,"1"),yield xs(g,Wc),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,R.A)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var k=this;return(0,R.A)(function*(){return k._withPendingWrite((0,R.A)(function*(){return yield k._withRetries(Z=>$r(Z,g,w)),k.localCache[g]=w,k.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,R.A)(function*(){const k=yield w._withRetries(Z=>function ts(E,h){return xi.apply(this,arguments)}(Z,g));return w.localCache[g]=k,k})()}_remove(g){var w=this;return(0,R.A)(function*(){return w._withPendingWrite((0,R.A)(function*(){return yield w._withRetries(k=>xs(k,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,R.A)(function*(){const w=yield g._withRetries(Ee=>{const $e=dr(Ee,!1).getAll();return new _n($e).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const k=[],Z=new Set;if(0!==w.length)for(const{fbase_key:Ee,value:$e}of w)Z.add(Ee),JSON.stringify(g.localCache[Ee])!==JSON.stringify($e)&&(g.notifyListeners(Ee,$e),k.push(Ee));for(const Ee of Object.keys(g.localCache))g.localCache[Ee]&&!Z.has(Ee)&&(g.notifyListeners(Ee,null),k.push(Ee));return k})()}notifyListeners(g,w){this.localCache[g]=w;const k=this.listeners[g];if(k)for(const Z of Array.from(k))Z(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,R.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();br("rcb"),new Nt(3e4,6e4);class ns extends Pn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return uo(h,this._buildIdpRequest())}_linkToIdToken(h,g){return uo(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return uo(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function rs(E){return Fi(E.auth,new ns(E),E.bypassAuthState)}function Jd(E){const{auth:h,user:g}=E;return Te(g,h,"internal-error"),function Ca(E,h){return bo.apply(this,arguments)}(g,new ns(E),E.bypassAuthState)}function ti(E){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,R.A)(function*(E){const{auth:h,user:g}=E;return Te(g,h,"internal-error"),function jo(E,h){return Co.apply(this,arguments)}(g,new ns(E),E.bypassAuthState)})).apply(this,arguments)}class Ff{constructor(h,g,w,k,Z=!1){this.auth=h,this.resolver=w,this.user=k,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,R.A)(function*(w,k){h.pendingPromise={resolve:w,reject:k};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Z){h.reject(Z)}});return function(w,k){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,R.A)(function*(){const{urlResponse:w,sessionId:k,postBody:Z,tenantId:Ee,error:$e,type:Tt}=h;if($e)return void g.reject($e);const Gt={auth:g.auth,requestUri:w,sessionId:k,tenantId:Ee||void 0,postBody:Z||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Tt)(Gt))}catch(Zt){g.reject(Zt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return rs;case"linkViaPopup":case"linkViaRedirect":return ti;case"reauthViaPopup":case"reauthViaRedirect":return Jd;default:En(this.auth,"internal-error")}}resolve(h){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Nt(2e3,1e4);const Lu=new Map;class Vf extends Ff{constructor(h,g,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,R.A)(function*(){let w=Lu.get(g.auth._key());if(!w){try{const Z=(yield function Fu(E,h){return Vu.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;w=()=>Promise.resolve(Z)}catch(k){w=()=>Promise.reject(k)}Lu.set(g.auth._key(),w)}return g.bypassAuthState||Lu.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,w=this;return(0,R.A)(function*(){if("signInViaRedirect"===h.type)return g().call(w,h);if("unknown"!==h.type){if(h.eventId){const k=yield w.auth._redirectUserForId(h.eventId);if(k)return w.user=k,g().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,R.A)(function*(){})()}cleanUp(){}}function Vu(){return(Vu=(0,R.A)(function*(E,h){const g=function Yd(E){return we("pendingRedirect",E.config.apiKey,E.name)}(h),w=function Zd(E){return sr(E._redirectPersistence)}(E);if(!(yield w._isAvailable()))return!1;const k="true"===(yield w._get(g));return yield w._remove(g),k})).apply(this,arguments)}function ju(E,h){Lu.set(E._key(),h)}function Bf(E,h){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,R.A)(function*(E,h,g=!1){if((0,$.xZ)(E.app))return Promise.reject(at(E));const w=dn(E),k=function ks(E,h){return h?sr(h):(Te(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}(w,h),Ee=yield new Vf(w,k,g).execute();return Ee&&!g&&(delete Ee.user._redirectEventId,yield w._persistUserIfCurrent(Ee.user),yield w._setRedirectUser(null,h)),Ee})).apply(this,arguments)}class fs{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(g=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Zc(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return th(E);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){if(h.error&&!th(h)){const w=h.error.code?.split("auth/")[1]||"internal-error";g.onError(mt(this.auth,w))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const w=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_o(h))}saveEventToCache(h){this.cachedEventUids.add(_o(h)),this.lastProcessedEventTime=Date.now()}}function _o(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(h=>h).join("-")}function th({type:E,error:h}){return"unknown"===E&&"auth/no-auth-event"===h?.code}function cc(){return(cc=(0,R.A)(function*(E,h={}){return Re(E,"GET","/v1/projects",h)})).apply(this,arguments)}const Xl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jf=/^https?/;function Jl(){return Jl=(0,R.A)(function*(E){if(E.config.emulator)return;const{authorizedDomains:h}=yield function Yc(E){return cc.apply(this,arguments)}(E);for(const g of h)try{if(aa(g))return}catch{}En(E,"unauthorized-domain")}),Jl.apply(this,arguments)}function aa(E){const h=en(),{protocol:g,hostname:w}=new URL(h);if(E.startsWith("chrome-extension://")){const Ee=new URL(E);return""===Ee.hostname&&""===w?"chrome-extension:"===g&&E.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Ee.hostname===w}if(!jf.test(g))return!1;if(Xl.test(E))return w===E;const k=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(w)}const ca=new Nt(3e4,6e4);function Zl(){const E=Nr().___jsl;if(E?.H)for(const h of Object.keys(E.H))if(E.H[h].r=E.H[h].r||[],E.H[h].L=E.H[h].L||[],E.H[h].r=[...E.H[h].L],E.CP)for(let g=0;g<E.CP.length;g++)E.CP[g]=null}let la=null;const $f=new Nt(5e3,15e3),xg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xa(E){const h=E.config;Te(h.authDomain,E,"auth-domain-config-required");const g=h.emulator?Ar(h,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,w={apiKey:h.apiKey,appName:E.name,v:$.MF},k=eu.get(E.config.apiHost);k&&(w.eid=k);const Z=E._getFrameworks();return Z.length&&(w.fw=Z.join(",")),`${g}?${(0,H.Am)(w).slice(1)}`}function Hu(){return Hu=(0,R.A)(function*(E){const h=yield function Ng(E){return la=la||function ua(E){return new Promise((h,g)=>{function w(){Zl(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Zl(),g(mt(E,"network-request-failed"))},timeout:ca.get()})}if(Nr().gapi?.iframes?.Iframe)h(gapi.iframes.getContext());else{if(!Nr().gapi?.load){const k=br("iframefcb");return Nr()[k]=()=>{gapi.load?w():g(mt(E,"network-request-failed"))},vr(`${function Mi(){return tn.gapiScript}()}?onload=${k}`).catch(Z=>g(Z))}w()}}).catch(h=>{throw la=null,h})}(E),la}(E),g=Nr().gapi;return Te(g,E,"internal-error"),h.open({where:document.body,url:xa(E),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xg,dontclear:!0},w=>new Promise(function(){var k=(0,R.A)(function*(Z,Ee){yield w.restyle({setHideOnLeave:!1});const $e=mt(E,"network-request-failed"),Tt=Nr().setTimeout(()=>{Ee($e)},$f.get());function Gt(){Nr().clearTimeout(Tt),Z(w)}w.ping(Gt).then(Gt,()=>{Ee($e)})});return function(Z,Ee){return k.apply(this,arguments)}}()))}),Hu.apply(this,arguments)}const tu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ps=encodeURIComponent("fac");function zu(E,h,g,w,k,Z){return iu.apply(this,arguments)}function iu(){return(iu=(0,R.A)(function*(E,h,g,w,k,Z){Te(E.config.authDomain,E,"auth-domain-config-required"),Te(E.config.apiKey,E,"invalid-api-key");const Ee={apiKey:E.config.apiKey,appName:E.name,authType:g,redirectUrl:w,v:$.MF,eventId:k};if(h instanceof Qt){h.setDefaultLanguage(E.languageCode),Ee.providerId=h.providerId||"",(0,H.Im)(h.getCustomParameters())||(Ee.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Zt,fn]of Object.entries(Z||{}))Ee[Zt]=fn}if(h instanceof Gi){const Zt=h.getScopes().filter(fn=>""!==fn);Zt.length>0&&(Ee.scopes=Zt.join(","))}E.tenantId&&(Ee.tid=E.tenantId);const $e=Ee;for(const Zt of Object.keys($e))void 0===$e[Zt]&&delete $e[Zt];const Tt=yield E._getAppCheckToken(),Gt=Tt?`#${ps}=${encodeURIComponent(Tt)}`:"";return`${function Gu({config:E}){return E.emulator?Ar(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,H.Am)($e).slice(1)}${Gt}`})).apply(this,arguments)}const Wu="webStorageSupport",sh=class lc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hs,this._completeRedirectFn=Bf,this._overrideRedirectResult=ju}_openPopup(h,g,w,k){var Z=this;return(0,R.A)(function*(){je(Z.eventManagers[h._key()]?.manager,"_initialize() not called before _openPopup()");const Ee=yield zu(h,g,w,en(),k);return function zf(E,h,g,w=500,k=600){const Z=Math.max((window.screen.availHeight-k)/2,0).toString(),Ee=Math.max((window.screen.availWidth-w)/2,0).toString();let $e="";const Tt={...tu,width:w.toString(),height:k.toString(),top:Z,left:Ee},Gt=(0,H.ZQ)().toLowerCase();g&&($e=He(Gt)?"_blank":g),me(Gt)&&(h=h||"http://localhost",Tt.scrollbars="yes");const Zt=Object.entries(Tt).reduce((Gn,[Ji,Bs])=>`${Gn}${Ji}=${Bs},`,"");if(function Me(E=(0,H.ZQ)()){return X(E)&&!!window.navigator?.standalone}(Gt)&&"_self"!==$e)return function ih(E,h){const g=document.createElement("a");g.href=E,g.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(h||"",$e),new uc(null);const fn=window.open(h||"",$e,Zt);Te(fn,E,"popup-blocked");try{fn.focus()}catch{}return new uc(fn)}(h,Ee,es())})()}_openRedirect(h,g,w,k){var Z=this;return(0,R.A)(function*(){return yield Z._originValidation(h),function _(E){Nr().location.href=E}(yield zu(h,g,w,en(),k)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:k,promise:Z}=this.eventManagers[g];return k?Promise.resolve(k):(je(Z,"If manager is not set, promise should be"),Z)}const w=this.initAndGetManager(h);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(h){var g=this;return(0,R.A)(function*(){const w=yield function Go(E){return Hu.apply(this,arguments)}(h),k=new fs(h);return w.register("authEvent",Z=>(Te(Z?.authEvent,h,"invalid-auth-event"),{status:k.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:k},g.iframes[h._key()]=w,k})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Wu,{type:Wu},k=>{const Z=k?.[0]?.[Wu];void 0!==Z&&g(!!Z),En(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function nh(E){return Jl.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Xe()||rt()||X()}};var Ii="@firebase/auth";class Qu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(h){var g=this;return(0,R.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(w=>{h(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xr=(0,H.XA)("authIdTokenMaxAge")||300;let lh=null;const La=E=>function(){var h=(0,R.A)(function*(g){const w=g&&(yield g.getIdTokenResult()),k=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(k&&k>xr)return;const Z=w?.token;lh!==Z&&(lh=Z,yield fetch(E,{method:Z?"POST":"DELETE",headers:Z?{Authorization:`Bearer ${Z}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function dh(E=(0,$.Sx)()){const h=(0,$.j6)(E,"auth");if(h.isInitialized())return h.getImmediate();const g=function ae(E,h){const g=(0,$.j6)(E,"auth");if(g.isInitialized()){const k=g.getImmediate(),Z=g.getOptions();if((0,H.bD)(Z,h??{}))return k;En(k,"already-initialized")}return g.initialize({options:h})}(E,{popupRedirectResolver:sh,persistence:[xu,sc,hs]}),w=(0,H.XA)("authTokenSyncURL");if(w&&"boolean"==typeof isSecureContext&&isSecureContext){const Z=new URL(w,location.origin);if(location.origin===Z.origin){const Ee=La(Z.toString());(function ei(E,h,g){(0,H.Ku)(E).beforeAuthStateChanged(h,g)})(g,Ee,()=>Ee(g.currentUser)),function Wr(E,h,g,w){(0,H.Ku)(E).onIdTokenChanged(h,g,w)}(g,$e=>Ee($e))}}const k=(0,H.Tj)("auth");return k&&function Pt(E,h,g){const w=dn(E);Te(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const k=!!g?.disableWarnings,Z=Jt(h),{host:Ee,port:$e}=function fr(E){const h=Jt(E),g=/(\/\/)?([^?#/]+)/.exec(E.substr(h.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(w);if(k){const Z=k[1];return{host:Z,port:cr(w.substr(Z.length+1))}}{const[Z,Ee]=w.split(":");return{host:Z,port:cr(Ee)}}}(h),Tt=null===$e?"":`:${$e}`,Gt={url:`${Z}//${Ee}${Tt}/`},Zt=Object.freeze({host:Ee,port:$e,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:k})});if(!w._canInitEmulator)return Te(w.config.emulator&&w.emulatorConfig,w,"emulator-config-failed"),void Te((0,H.bD)(Gt,w.config.emulator)&&(0,H.bD)(Zt,w.emulatorConfig),w,"emulator-config-failed");w.config.emulator=Gt,w.emulatorConfig=Zt,w.settings.appVerificationDisabledForTesting=!0,(0,H.zJ)(Ee)?((0,H.gE)(`${Z}//${Ee}${Tt}`),(0,H.P1)("Auth",!0)):k||function zn(){function E(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(g,`http://${k}`),g}(function Rn(E){tn=E})({loadJS:E=>new Promise((h,g)=>{const w=document.createElement("script");w.setAttribute("src",E),w.onload=h,w.onerror=k=>{const Z=mt("internal-error");Z.customData=k,g(Z)},w.type="text/javascript",w.charset="UTF-8",function su(){return document.getElementsByTagName("head")?.[0]??document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function da(E){(0,$.om)(new Pe.uA("auth",(h,{options:g})=>{const w=h.getProvider("app").getImmediate(),k=h.getProvider("heartbeat"),Z=h.getProvider("app-check-internal"),{apiKey:Ee,authDomain:$e}=w.options;Te(Ee&&!Ee.includes(":"),"invalid-api-key",{appName:w.name});const Tt={apiKey:Ee,authDomain:$e,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:te(E)},Gt=new $t(w,k,Z,Tt);return function qe(E,h){const g=h?.persistence||[],w=(Array.isArray(g)?g:[g]).map(sr);h?.errorMap&&E._updateErrorMap(h.errorMap),E._initializeWithPersistence(w,h?.popupRedirectResolver)}(Gt,g),Gt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,w)=>{h.getProvider("auth-internal").initialize()})),(0,$.om)(new Pe.uA("auth-internal",h=>{const g=dn(h.getProvider("auth").getImmediate());return new Qu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.KO)(Ii,"1.11.0",function Xu(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,$.KO)(Ii,"1.11.0","esm2020")}("Browser")},6354:(gn,pt,W)=>{W.d(pt,{T:()=>H});var R=W(9974),$=W(4360);function H(oe,Pe){return(0,R.N)((gt,xe)=>{let Be=0;gt.subscribe((0,$._)(xe,ct=>{xe.next(oe.call(Pe,ct,Be++))}))})}},6365:(gn,pt,W)=>{W.d(pt,{U:()=>H});var R=W(1397),$=W(3669);function H(oe=1/0){return(0,R.Z)($.D,oe)}},6450:(gn,pt,W)=>{W.d(pt,{I:()=>oe});var R=W(6354);const{isArray:$}=Array;function oe(Pe){return(0,R.T)(gt=>function H(Pe,gt){return $(gt)?Pe(...gt):Pe(gt)}(Pe,gt))}},6648:(gn,pt,W)=>{W.d(pt,{H:()=>it});var R=W(8750),$=W(5225),H=W(9974),oe=W(4360);function Pe(et,Te=0){return(0,H.N)((mn,je)=>{mn.subscribe((0,oe._)(je,en=>(0,$.N)(je,et,()=>je.next(en),Te),()=>(0,$.N)(je,et,()=>je.complete(),Te),en=>(0,$.N)(je,et,()=>je.error(en),Te)))})}function gt(et,Te=0){return(0,H.N)((mn,je)=>{je.add(et.schedule(()=>mn.subscribe(je),Te))})}var ct=W(1985),se=W(4761),We=W(8071);function vt(et,Te){if(!et)throw new Error("Iterable cannot be null");return new ct.c(mn=>{(0,$.N)(mn,Te,()=>{const je=et[Symbol.asyncIterator]();(0,$.N)(mn,Te,()=>{je.next().then(en=>{en.done?mn.complete():mn.next(en.value)})},0,!0)})})}var Ot=W(5055),Cn=W(9858),rn=W(7441),un=W(5397),Nn=W(7953),En=W(591),mt=W(5196);function it(et,Te){return Te?function at(et,Te){if(null!=et){if((0,Ot.l)(et))return function xe(et,Te){return(0,R.Tg)(et).pipe(gt(Te),Pe(Te))}(et,Te);if((0,rn.X)(et))return function le(et,Te){return new ct.c(mn=>{let je=0;return Te.schedule(function(){je===et.length?mn.complete():(mn.next(et[je++]),mn.closed||this.schedule())})})}(et,Te);if((0,Cn.y)(et))return function Be(et,Te){return(0,R.Tg)(et).pipe(gt(Te),Pe(Te))}(et,Te);if((0,Nn.T)(et))return vt(et,Te);if((0,un.x)(et))return function Rt(et,Te){return new ct.c(mn=>{let je;return(0,$.N)(mn,Te,()=>{je=et[se.l](),(0,$.N)(mn,Te,()=>{let en,Bn;try{({value:en,done:Bn}=je.next())}catch(Xn){return void mn.error(Xn)}Bn?mn.complete():mn.next(en)},0,!0)}),()=>(0,We.T)(je?.return)&&je.return()})}(et,Te);if((0,mt.U)(et))return function Oe(et,Te){return vt((0,mt.C)(et),Te)}(et,Te)}throw(0,En.L)(et)}(et,Te):(0,R.Tg)(et)}},7441:(gn,pt,W)=>{W.d(pt,{X:()=>R});const R=$=>$&&"number"==typeof $.length&&"function"!=typeof $},7643:(gn,pt,W)=>{W.d(pt,{$R:()=>sr,Qq:()=>Bt}),W(467);var $=W(1360),H=W(274),oe=W(5964),Pe=W(6354),gt=W(980),xe=W(5558),Be=W(7673),ct=W(1985),le=W(6648),se=W(9377),We=W(9361);class Rt{}class vt{}class Ot{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(X){X?"string"==typeof X?this.lazyInit=()=>{this.headers=new Map,X.split("\n").forEach(ce=>{const Me=ce.indexOf(":");if(Me>0){const Fe=ce.slice(0,Me),Xe=ce.slice(Me+1).trim();this.addHeaderEntry(Fe,Xe)}})}:typeof Headers<"u"&&X instanceof Headers?(this.headers=new Map,X.forEach((ce,Me)=>{this.addHeaderEntry(Me,ce)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(X).forEach(([ce,Me])=>{this.setHeaderEntries(ce,Me)})}:this.headers=new Map}has(X){return this.init(),this.headers.has(X.toLowerCase())}get(X){this.init();const ce=this.headers.get(X.toLowerCase());return ce&&ce.length>0?ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(X){return this.init(),this.headers.get(X.toLowerCase())||null}append(X,ce){return this.clone({name:X,value:ce,op:"a"})}set(X,ce){return this.clone({name:X,value:ce,op:"s"})}delete(X,ce){return this.clone({name:X,value:ce,op:"d"})}maybeSetNormalizedName(X,ce){this.normalizedNames.has(ce)||this.normalizedNames.set(ce,X)}init(){this.lazyInit&&(this.lazyInit instanceof Ot?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(X=>this.applyUpdate(X)),this.lazyUpdate=null))}copyFrom(X){X.init(),Array.from(X.headers.keys()).forEach(ce=>{this.headers.set(ce,X.headers.get(ce)),this.normalizedNames.set(ce,X.normalizedNames.get(ce))})}clone(X){const ce=new Ot;return ce.lazyInit=this.lazyInit&&this.lazyInit instanceof Ot?this.lazyInit:this,ce.lazyUpdate=(this.lazyUpdate||[]).concat([X]),ce}applyUpdate(X){const ce=X.name.toLowerCase();switch(X.op){case"a":case"s":let Me=X.value;if("string"==typeof Me&&(Me=[Me]),0===Me.length)return;this.maybeSetNormalizedName(X.name,ce);const Fe=("a"===X.op?this.headers.get(ce):void 0)||[];Fe.push(...Me),this.headers.set(ce,Fe);break;case"d":const Xe=X.value;if(Xe){let te=this.headers.get(ce);if(!te)return;te=te.filter(ne=>-1===Xe.indexOf(ne)),0===te.length?(this.headers.delete(ce),this.normalizedNames.delete(ce)):this.headers.set(ce,te)}else this.headers.delete(ce),this.normalizedNames.delete(ce)}}addHeaderEntry(X,ce){const Me=X.toLowerCase();this.maybeSetNormalizedName(X,Me),this.headers.has(Me)?this.headers.get(Me).push(ce):this.headers.set(Me,[ce])}setHeaderEntries(X,ce){const Me=(Array.isArray(ce)?ce:[ce]).map(Xe=>Xe.toString()),Fe=X.toLowerCase();this.headers.set(Fe,Me),this.maybeSetNormalizedName(X,Fe)}forEach(X){this.init(),Array.from(this.normalizedNames.keys()).forEach(ce=>X(this.normalizedNames.get(ce),this.headers.get(ce)))}}class rn{encodeKey(X){return mt(X)}encodeValue(X){return mt(X)}decodeKey(X){return decodeURIComponent(X)}decodeValue(X){return decodeURIComponent(X)}}const Nn=/%(\d[a-f0-9])/gi,En={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mt(z){return encodeURIComponent(z).replace(Nn,(X,ce)=>En[ce]??X)}function Oe(z){return`${z}`}class at{map;encoder;updates=null;cloneFrom=null;constructor(X={}){if(this.encoder=X.encoder||new rn,X.fromString){if(X.fromObject)throw new $.wOt(2805,!1);this.map=function un(z,X){const ce=new Map;return z.length>0&&z.replace(/^\?/,"").split("&").forEach(Fe=>{const Xe=Fe.indexOf("="),[te,ne]=-1==Xe?[X.decodeKey(Fe),""]:[X.decodeKey(Fe.slice(0,Xe)),X.decodeValue(Fe.slice(Xe+1))],Ce=ce.get(te)||[];Ce.push(ne),ce.set(te,Ce)}),ce}(X.fromString,this.encoder)}else X.fromObject?(this.map=new Map,Object.keys(X.fromObject).forEach(ce=>{const Me=X.fromObject[ce],Fe=Array.isArray(Me)?Me.map(Oe):[Oe(Me)];this.map.set(ce,Fe)})):this.map=null}has(X){return this.init(),this.map.has(X)}get(X){this.init();const ce=this.map.get(X);return ce?ce[0]:null}getAll(X){return this.init(),this.map.get(X)||null}keys(){return this.init(),Array.from(this.map.keys())}append(X,ce){return this.clone({param:X,value:ce,op:"a"})}appendAll(X){const ce=[];return Object.keys(X).forEach(Me=>{const Fe=X[Me];Array.isArray(Fe)?Fe.forEach(Xe=>{ce.push({param:Me,value:Xe,op:"a"})}):ce.push({param:Me,value:Fe,op:"a"})}),this.clone(ce)}set(X,ce){return this.clone({param:X,value:ce,op:"s"})}delete(X,ce){return this.clone({param:X,value:ce,op:"d"})}toString(){return this.init(),this.keys().map(X=>{const ce=this.encoder.encodeKey(X);return this.map.get(X).map(Me=>ce+"="+this.encoder.encodeValue(Me)).join("&")}).filter(X=>""!==X).join("&")}clone(X){const ce=new at({encoder:this.encoder});return ce.cloneFrom=this.cloneFrom||this,ce.updates=(this.updates||[]).concat(X),ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(X=>this.map.set(X,this.cloneFrom.map.get(X))),this.updates.forEach(X=>{switch(X.op){case"a":case"s":const ce=("a"===X.op?this.map.get(X.param):void 0)||[];ce.push(Oe(X.value)),this.map.set(X.param,ce);break;case"d":if(void 0===X.value){this.map.delete(X.param);break}{let Me=this.map.get(X.param)||[];const Fe=Me.indexOf(Oe(X.value));-1!==Fe&&Me.splice(Fe,1),Me.length>0?this.map.set(X.param,Me):this.map.delete(X.param)}}}),this.cloneFrom=this.updates=null)}}class et{map=new Map;set(X,ce){return this.map.set(X,ce),this}get(X){return this.map.has(X)||this.map.set(X,X.defaultValue()),this.map.get(X)}delete(X){return this.map.delete(X),this}has(X){return this.map.has(X)}keys(){return this.map.keys()}}function mn(z){return typeof ArrayBuffer<"u"&&z instanceof ArrayBuffer}function je(z){return typeof Blob<"u"&&z instanceof Blob}function en(z){return typeof FormData<"u"&&z instanceof FormData}const Xn="Content-Type",wn="X-Request-URL",Nt="text/plain",Ar="application/json",yt=`${Ar}, ${Nt}, */*`;class ve{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(X,ce,Me,Fe){let Xe;if(this.url=ce,this.method=X.toUpperCase(),function Te(z){switch(z){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Fe?(this.body=void 0!==Me?Me:null,Xe=Fe):Xe=Me,Xe&&(this.reportProgress=!!Xe.reportProgress,this.withCredentials=!!Xe.withCredentials,Xe.responseType&&(this.responseType=Xe.responseType),Xe.headers&&(this.headers=Xe.headers),Xe.context&&(this.context=Xe.context),Xe.params&&(this.params=Xe.params),this.transferCache=Xe.transferCache),this.headers??=new Ot,this.context??=new et,this.params){const te=this.params.toString();if(0===te.length)this.urlWithParams=ce;else{const ne=ce.indexOf("?");this.urlWithParams=ce+(-1===ne?"?":ne<ce.length-1?"&":"")+te}}else this.params=new at,this.urlWithParams=ce}serializeBody(){return null===this.body?null:"string"==typeof this.body||mn(this.body)||je(this.body)||en(this.body)||function Bn(z){return typeof URLSearchParams<"u"&&z instanceof URLSearchParams}(this.body)?this.body:this.body instanceof at?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||en(this.body)?null:je(this.body)?this.body.type||null:mn(this.body)?null:"string"==typeof this.body?Nt:this.body instanceof at?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Ar:null}clone(X={}){const ce=X.method||this.method,Me=X.url||this.url,Fe=X.responseType||this.responseType,Xe=X.transferCache??this.transferCache,te=void 0!==X.body?X.body:this.body,ne=X.withCredentials??this.withCredentials,Ce=X.reportProgress??this.reportProgress;let lt=X.headers||this.headers,Ft=X.params||this.params;const Xt=X.context??this.context;return void 0!==X.setHeaders&&(lt=Object.keys(X.setHeaders).reduce(($t,dn)=>$t.set(dn,X.setHeaders[dn]),lt)),X.setParams&&(Ft=Object.keys(X.setParams).reduce(($t,dn)=>$t.set(dn,X.setParams[dn]),Ft)),new ve(ce,Me,te,{params:Ft,headers:lt,context:Xt,reportProgress:Ce,responseType:Fe,withCredentials:ne,transferCache:Xe})}}var Q=function(z){return z[z.Sent=0]="Sent",z[z.UploadProgress=1]="UploadProgress",z[z.ResponseHeader=2]="ResponseHeader",z[z.DownloadProgress=3]="DownloadProgress",z[z.Response=4]="Response",z[z.User=5]="User",z}(Q||{});class Se{headers;status;statusText;url;ok;type;constructor(X,ce=200,Me="OK"){this.headers=X.headers||new Ot,this.status=void 0!==X.status?X.status:ce,this.statusText=X.statusText||Me,this.url=X.url||null,this.ok=this.status>=200&&this.status<300}}class Ve extends Se{constructor(X={}){super(X)}type=Q.ResponseHeader;clone(X={}){return new Ve({headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class Re extends Se{body;constructor(X={}){super(X),this.body=void 0!==X.body?X.body:null}type=Q.Response;clone(X={}){return new Re({body:void 0!==X.body?X.body:this.body,headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class ot extends Se{name="HttpErrorResponse";message;error;ok=!1;constructor(X){super(X,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${X.url||"(unknown url)"}`:`Http failure response for ${X.url||"(unknown url)"}: ${X.status} ${X.statusText}`,this.error=X.error||null}}function Vn(z,X){return{body:X,headers:z.headers,context:z.context,observe:z.observe,params:z.params,reportProgress:z.reportProgress,responseType:z.responseType,withCredentials:z.withCredentials,transferCache:z.transferCache}}let Bt=(()=>{class z{handler;constructor(ce){this.handler=ce}request(ce,Me,Fe={}){let Xe;if(ce instanceof ve)Xe=ce;else{let Ce,lt;Ce=Fe.headers instanceof Ot?Fe.headers:new Ot(Fe.headers),Fe.params&&(lt=Fe.params instanceof at?Fe.params:new at({fromObject:Fe.params})),Xe=new ve(ce,Me,void 0!==Fe.body?Fe.body:null,{headers:Ce,context:Fe.context,params:lt,reportProgress:Fe.reportProgress,responseType:Fe.responseType||"json",withCredentials:Fe.withCredentials,transferCache:Fe.transferCache})}const te=(0,Be.of)(Xe).pipe((0,H.H)(Ce=>this.handler.handle(Ce)));if(ce instanceof ve||"events"===Fe.observe)return te;const ne=te.pipe((0,oe.p)(Ce=>Ce instanceof Re));switch(Fe.observe||"body"){case"body":switch(Xe.responseType){case"arraybuffer":return ne.pipe((0,Pe.T)(Ce=>{if(null!==Ce.body&&!(Ce.body instanceof ArrayBuffer))throw new $.wOt(2806,!1);return Ce.body}));case"blob":return ne.pipe((0,Pe.T)(Ce=>{if(null!==Ce.body&&!(Ce.body instanceof Blob))throw new $.wOt(2807,!1);return Ce.body}));case"text":return ne.pipe((0,Pe.T)(Ce=>{if(null!==Ce.body&&"string"!=typeof Ce.body)throw new $.wOt(2808,!1);return Ce.body}));default:return ne.pipe((0,Pe.T)(Ce=>Ce.body))}case"response":return ne;default:throw new $.wOt(2809,!1)}}delete(ce,Me={}){return this.request("DELETE",ce,Me)}get(ce,Me={}){return this.request("GET",ce,Me)}head(ce,Me={}){return this.request("HEAD",ce,Me)}jsonp(ce,Me){return this.request("JSONP",ce,{params:(new at).append(Me,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ce,Me={}){return this.request("OPTIONS",ce,Me)}patch(ce,Me,Fe={}){return this.request("PATCH",ce,Vn(Fe,Me))}post(ce,Me,Fe={}){return this.request("POST",ce,Vn(Fe,Me))}put(ce,Me,Fe={}){return this.request("PUT",ce,Vn(Fe,Me))}static \u0275fac=function(Me){return new(Me||z)($.KVO(Rt))};static \u0275prov=$.jDH({token:z,factory:z.\u0275fac})}return z})();const ri=new $.nKC("");function Cr(z,X){return X(z)}const or=new $.nKC(""),ln=new $.nKC(""),ii=new $.nKC("",{providedIn:"root",factory:()=>!0});let At=(()=>{class z extends Rt{backend;injector;chain=null;pendingTasks=(0,$.WQX)($.Ua0);contributeToStability=(0,$.WQX)(ii);constructor(ce,Me){super(),this.backend=ce,this.injector=Me}handle(ce){if(null===this.chain){const Me=Array.from(new Set([...this.injector.get(or),...this.injector.get(ln,[])]));this.chain=Me.reduceRight((Fe,Xe)=>function wi(z,X,ce){return(Me,Fe)=>(0,$.N4e)(ce,()=>X(Me,Xe=>z(Xe,Fe)))}(Fe,Xe,this.injector),Cr)}if(this.contributeToStability){const Me=this.pendingTasks.add();return this.chain(ce,Fe=>this.backend.handle(Fe)).pipe((0,gt.j)(()=>this.pendingTasks.remove(Me)))}return this.chain(ce,Me=>this.backend.handle(Me))}static \u0275fac=function(Me){return new(Me||z)($.KVO(vt),$.KVO($.uvJ))};static \u0275prov=$.jDH({token:z,factory:z.\u0275fac})}return z})();const Ut=/^\)\]\}',?\n/,Et=RegExp(`^${wn}:`,"m");let On=(()=>{class z{xhrFactory;constructor(ce){this.xhrFactory=ce}handle(ce){if("JSONP"===ce.method)throw new $.wOt(-2800,!1);const Me=this.xhrFactory;return(Me.\u0275loadImpl?(0,le.H)(Me.\u0275loadImpl()):(0,Be.of)(null)).pipe((0,xe.n)(()=>new ct.c(Xe=>{const te=Me.build();if(te.open(ce.method,ce.urlWithParams),ce.withCredentials&&(te.withCredentials=!0),ce.headers.forEach((tn,Rn)=>te.setRequestHeader(tn,Rn.join(","))),ce.headers.has("Accept")||te.setRequestHeader("Accept",yt),!ce.headers.has(Xn)){const tn=ce.detectContentTypeHeader();null!==tn&&te.setRequestHeader(Xn,tn)}if(ce.responseType){const tn=ce.responseType.toLowerCase();te.responseType="json"!==tn?tn:"text"}const ne=ce.serializeBody();let Ce=null;const lt=()=>{if(null!==Ce)return Ce;const tn=te.statusText||"OK",Rn=new Ot(te.getAllResponseHeaders()),vr=function Fr(z){return"responseURL"in z&&z.responseURL?z.responseURL:Et.test(z.getAllResponseHeaders())?z.getResponseHeader(wn):null}(te)||ce.url;return Ce=new Ve({headers:Rn,status:te.status,statusText:tn,url:vr}),Ce},Ft=()=>{let{headers:tn,status:Rn,statusText:vr,url:pi}=lt(),jt=null;204!==Rn&&(jt=typeof te.response>"u"?te.responseText:te.response),0===Rn&&(Rn=jt?200:0);let Mi=Rn>=200&&Rn<300;if("json"===ce.responseType&&"string"==typeof jt){const br=jt;jt=jt.replace(Ut,"");try{jt=""!==jt?JSON.parse(jt):null}catch(Vo){jt=br,Mi&&(Mi=!1,jt={error:Vo,text:jt})}}Mi?(Xe.next(new Re({body:jt,headers:tn,status:Rn,statusText:vr,url:pi||void 0})),Xe.complete()):Xe.error(new ot({error:jt,headers:tn,status:Rn,statusText:vr,url:pi||void 0}))},Xt=tn=>{const{url:Rn}=lt(),vr=new ot({error:tn,status:te.status||0,statusText:te.statusText||"Unknown Error",url:Rn||void 0});Xe.error(vr)};let $t=!1;const dn=tn=>{$t||(Xe.next(lt()),$t=!0);let Rn={type:Q.DownloadProgress,loaded:tn.loaded};tn.lengthComputable&&(Rn.total=tn.total),"text"===ce.responseType&&te.responseText&&(Rn.partialText=te.responseText),Xe.next(Rn)},Sn=tn=>{let Rn={type:Q.UploadProgress,loaded:tn.loaded};tn.lengthComputable&&(Rn.total=tn.total),Xe.next(Rn)};return te.addEventListener("load",Ft),te.addEventListener("error",Xt),te.addEventListener("timeout",Xt),te.addEventListener("abort",Xt),ce.reportProgress&&(te.addEventListener("progress",dn),null!==ne&&te.upload&&te.upload.addEventListener("progress",Sn)),te.send(ne),Xe.next({type:Q.Sent}),()=>{te.removeEventListener("error",Xt),te.removeEventListener("abort",Xt),te.removeEventListener("load",Ft),te.removeEventListener("timeout",Xt),ce.reportProgress&&(te.removeEventListener("progress",dn),null!==ne&&te.upload&&te.upload.removeEventListener("progress",Sn)),te.readyState!==te.DONE&&te.abort()}})))}static \u0275fac=function(Me){return new(Me||z)($.KVO(se.N0))};static \u0275prov=$.jDH({token:z,factory:z.\u0275fac})}return z})();const si=new $.nKC(""),jn=new $.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nr=new $.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Pi{}let In=(()=>{class z{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(ce,Me){this.doc=ce,this.cookieName=Me}getToken(){const ce=this.doc.cookie||"";return ce!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,se.bS)(ce,this.cookieName),this.lastCookieString=ce),this.lastToken}static \u0275fac=function(Me){return new(Me||z)($.KVO(We.q),$.KVO(jn))};static \u0275prov=$.jDH({token:z,factory:z.\u0275fac})}return z})();function yr(z,X){const ce=z.url.toLowerCase();if(!(0,$.WQX)(si)||"GET"===z.method||"HEAD"===z.method||ce.startsWith("http://")||ce.startsWith("https://"))return X(z);const Me=(0,$.WQX)(Pi).getToken(),Fe=(0,$.WQX)(nr);return null!=Me&&!z.headers.has(Fe)&&(z=z.clone({headers:z.headers.set(Fe,Me)})),X(z)}function sr(...z){const X=[Bt,On,At,{provide:Rt,useExisting:At},{provide:vt,useFactory:()=>(0,$.WQX)(ri,{optional:!0})??(0,$.WQX)(On)},{provide:or,useValue:yr,multi:!0},{provide:si,useValue:!0},{provide:Pi,useClass:In}];for(const ce of z)X.push(...ce.\u0275providers);return(0,$.EmA)(X)}},7673:(gn,pt,W)=>{W.d(pt,{of:()=>H});var R=W(3794),$=W(6648);function H(...oe){const Pe=(0,R.lI)(oe);return(0,$.H)(oe,Pe)}},7707:(gn,pt,W)=>{W.d(pt,{Ms:()=>Cn,vU:()=>We});var R=W(8071),$=W(8359),H=W(1026),oe=W(5334),Pe=W(5343);const gt=ct("C",void 0,void 0);function ct(mt,Oe,at){return{kind:mt,value:Oe,error:at}}var le=W(9270),se=W(9786);class We extends $.yU{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,$.Uv)(Oe)&&Oe.add(this)):this.destination=En}static create(Oe,at,it){return new Cn(Oe,at,it)}next(Oe){this.isStopped?Nn(function Be(mt){return ct("N",mt,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?Nn(function xe(mt){return ct("E",void 0,mt)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?Nn(gt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function vt(mt,Oe){return Rt.call(mt,Oe)}class Ot{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:at}=this;if(at.next)try{at.next(Oe)}catch(it){rn(it)}}error(Oe){const{partialObserver:at}=this;if(at.error)try{at.error(Oe)}catch(it){rn(it)}else rn(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(at){rn(at)}}}class Cn extends We{constructor(Oe,at,it){let et;if(super(),(0,R.T)(Oe)||!Oe)et={next:Oe??void 0,error:at??void 0,complete:it??void 0};else{let Te;this&&H.$.useDeprecatedNextContext?(Te=Object.create(Oe),Te.unsubscribe=()=>this.unsubscribe(),et={next:Oe.next&&vt(Oe.next,Te),error:Oe.error&&vt(Oe.error,Te),complete:Oe.complete&&vt(Oe.complete,Te)}):et=Oe}this.destination=new Ot(et)}}function rn(mt){H.$.useDeprecatedSynchronousErrorHandling?(0,se.l)(mt):(0,oe.m)(mt)}function Nn(mt,Oe){const{onStoppedNotification:at}=H.$;at&&le.f.setTimeout(()=>at(mt,Oe))}const En={closed:!0,next:Pe.l,error:function un(mt){throw mt},complete:Pe.l}},7908:(gn,pt,W)=>{function R($,H){if($){const oe=$.indexOf(H);0<=oe&&$.splice(oe,1)}}W.d(pt,{o:()=>R})},7953:(gn,pt,W)=>{W.d(pt,{T:()=>$});var R=W(8071);function $(H){return Symbol.asyncIterator&&(0,R.T)(H?.[Symbol.asyncIterator])}},8071:(gn,pt,W)=>{function R($){return"function"==typeof $}W.d(pt,{T:()=>R})},8359:(gn,pt,W)=>{W.d(pt,{Kn:()=>gt,yU:()=>Pe,Uv:()=>xe});var R=W(8071);const H=(0,W(1853).L)(ct=>function(se){ct(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((We,Rt)=>`${Rt+1}) ${We.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var oe=W(7908);class Pe{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const vt of se)vt.remove(this);else se.remove(this);const{initialTeardown:We}=this;if((0,R.T)(We))try{We()}catch(vt){le=vt instanceof H?vt.errors:[vt]}const{_finalizers:Rt}=this;if(Rt){this._finalizers=null;for(const vt of Rt)try{Be(vt)}catch(Ot){le=le??[],Ot instanceof H?le=[...le,...Ot.errors]:le.push(Ot)}}if(le)throw new H(le)}}add(le){var se;if(le&&le!==this)if(this.closed)Be(le);else{if(le instanceof Pe){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(le)}}_hasParent(le){const{_parentage:se}=this;return se===le||Array.isArray(se)&&se.includes(le)}_addParent(le){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(le),se):se?[se,le]:le}_removeParent(le){const{_parentage:se}=this;se===le?this._parentage=null:Array.isArray(se)&&(0,oe.o)(se,le)}remove(le){const{_finalizers:se}=this;se&&(0,oe.o)(se,le),le instanceof Pe&&le._removeParent(this)}}Pe.EMPTY=(()=>{const ct=new Pe;return ct.closed=!0,ct})();const gt=Pe.EMPTY;function xe(ct){return ct instanceof Pe||ct&&"closed"in ct&&(0,R.T)(ct.remove)&&(0,R.T)(ct.add)&&(0,R.T)(ct.unsubscribe)}function Be(ct){(0,R.T)(ct)?ct():ct.unsubscribe()}},8496:(gn,pt,W)=>{function R($,H){return $.reduce((oe,Pe,gt)=>(oe[Pe]=H[gt],oe),{})}W.d(pt,{e:()=>R})},8750:(gn,pt,W)=>{W.d(pt,{Tg:()=>Rt});var R=W(1635),$=W(7441),H=W(9858),oe=W(1985),Pe=W(5055),gt=W(7953),xe=W(591),Be=W(5397),ct=W(5196),le=W(8071),se=W(5334),We=W(3494);function Rt(mt){if(mt instanceof oe.c)return mt;if(null!=mt){if((0,Pe.l)(mt))return function vt(mt){return new oe.c(Oe=>{const at=mt[We.s]();if((0,le.T)(at.subscribe))return at.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(mt);if((0,$.X)(mt))return function Ot(mt){return new oe.c(Oe=>{for(let at=0;at<mt.length&&!Oe.closed;at++)Oe.next(mt[at]);Oe.complete()})}(mt);if((0,H.y)(mt))return function Cn(mt){return new oe.c(Oe=>{mt.then(at=>{Oe.closed||(Oe.next(at),Oe.complete())},at=>Oe.error(at)).then(null,se.m)})}(mt);if((0,gt.T)(mt))return un(mt);if((0,Be.x)(mt))return function rn(mt){return new oe.c(Oe=>{for(const at of mt)if(Oe.next(at),Oe.closed)return;Oe.complete()})}(mt);if((0,ct.U)(mt))return function Nn(mt){return un((0,ct.C)(mt))}(mt)}throw(0,xe.L)(mt)}function un(mt){return new oe.c(Oe=>{(function En(mt,Oe){var at,it,et,Te;return(0,R.sH)(this,void 0,void 0,function*(){try{for(at=(0,R.xN)(mt);!(it=yield at.next()).done;)if(Oe.next(it.value),Oe.closed)return}catch(mn){et={error:mn}}finally{try{it&&!it.done&&(Te=at.return)&&(yield Te.call(at))}finally{if(et)throw et.error}}Oe.complete()})})(mt,Oe).catch(at=>Oe.error(at))})}},9112:(gn,pt,W)=>{W.d(pt,{Dc:()=>Ut,gS:()=>Uw,rJ:()=>$I,kd:()=>aE,H9:()=>V_,x7:()=>iv,GG:()=>ov,aU:()=>vc,My:()=>X_,P:()=>tE,mZ:()=>Vw,_M:()=>nE});var Be,ct,R=W(467),$=W(4056),H=W(4012),oe=W(1563),Pe=W(9164),gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xe={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ae,ue,pe){pe||(pe=0);var be=Array(16);if("string"==typeof ue)for(var Le=0;16>Le;++Le)be[Le]=ue.charCodeAt(pe++)|ue.charCodeAt(pe++)<<8|ue.charCodeAt(pe++)<<16|ue.charCodeAt(pe++)<<24;else for(Le=0;16>Le;++Le)be[Le]=ue[pe++]|ue[pe++]<<8|ue[pe++]<<16|ue[pe++]<<24;var Ge=Ae.g[3],fe=(ue=Ae.g[0])+(Ge^(pe=Ae.g[1])&((Le=Ae.g[2])^Ge))+be[0]+3614090360&4294967295;fe=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=(pe=(Le=(Ge=(ue=pe+(fe<<7&4294967295|fe>>>25))+((fe=Ge+(Le^ue&(pe^Le))+be[1]+3905402710&4294967295)<<12&4294967295|fe>>>20))+((fe=Le+(pe^Ge&(ue^pe))+be[2]+606105819&4294967295)<<17&4294967295|fe>>>15))+((fe=pe+(ue^Le&(Ge^ue))+be[3]+3250441966&4294967295)<<22&4294967295|fe>>>10))+((fe=ue+(Ge^pe&(Le^Ge))+be[4]+4118548399&4294967295)<<7&4294967295|fe>>>25))+((fe=Ge+(Le^ue&(pe^Le))+be[5]+1200080426&4294967295)<<12&4294967295|fe>>>20))+((fe=Le+(pe^Ge&(ue^pe))+be[6]+2821735955&4294967295)<<17&4294967295|fe>>>15))+((fe=pe+(ue^Le&(Ge^ue))+be[7]+4249261313&4294967295)<<22&4294967295|fe>>>10))+((fe=ue+(Ge^pe&(Le^Ge))+be[8]+1770035416&4294967295)<<7&4294967295|fe>>>25))+((fe=Ge+(Le^ue&(pe^Le))+be[9]+2336552879&4294967295)<<12&4294967295|fe>>>20))+((fe=Le+(pe^Ge&(ue^pe))+be[10]+4294925233&4294967295)<<17&4294967295|fe>>>15))+((fe=pe+(ue^Le&(Ge^ue))+be[11]+2304563134&4294967295)<<22&4294967295|fe>>>10))+((fe=ue+(Ge^pe&(Le^Ge))+be[12]+1804603682&4294967295)<<7&4294967295|fe>>>25))+((fe=Ge+(Le^ue&(pe^Le))+be[13]+4254626195&4294967295)<<12&4294967295|fe>>>20))+((fe=Le+(pe^Ge&(ue^pe))+be[14]+2792965006&4294967295)<<17&4294967295|fe>>>15))+((fe=pe+(ue^Le&(Ge^ue))+be[15]+1236535329&4294967295)<<22&4294967295|fe>>>10))+((fe=ue+(Le^Ge&(pe^Le))+be[1]+4129170786&4294967295)<<5&4294967295|fe>>>27))+((fe=Ge+(pe^Le&(ue^pe))+be[6]+3225465664&4294967295)<<9&4294967295|fe>>>23))+((fe=Le+(ue^pe&(Ge^ue))+be[11]+643717713&4294967295)<<14&4294967295|fe>>>18))+((fe=pe+(Ge^ue&(Le^Ge))+be[0]+3921069994&4294967295)<<20&4294967295|fe>>>12))+((fe=ue+(Le^Ge&(pe^Le))+be[5]+3593408605&4294967295)<<5&4294967295|fe>>>27))+((fe=Ge+(pe^Le&(ue^pe))+be[10]+38016083&4294967295)<<9&4294967295|fe>>>23))+((fe=Le+(ue^pe&(Ge^ue))+be[15]+3634488961&4294967295)<<14&4294967295|fe>>>18))+((fe=pe+(Ge^ue&(Le^Ge))+be[4]+3889429448&4294967295)<<20&4294967295|fe>>>12))+((fe=ue+(Le^Ge&(pe^Le))+be[9]+568446438&4294967295)<<5&4294967295|fe>>>27))+((fe=Ge+(pe^Le&(ue^pe))+be[14]+3275163606&4294967295)<<9&4294967295|fe>>>23))+((fe=Le+(ue^pe&(Ge^ue))+be[3]+4107603335&4294967295)<<14&4294967295|fe>>>18))+((fe=pe+(Ge^ue&(Le^Ge))+be[8]+1163531501&4294967295)<<20&4294967295|fe>>>12))+((fe=ue+(Le^Ge&(pe^Le))+be[13]+2850285829&4294967295)<<5&4294967295|fe>>>27))+((fe=Ge+(pe^Le&(ue^pe))+be[2]+4243563512&4294967295)<<9&4294967295|fe>>>23))+((fe=Le+(ue^pe&(Ge^ue))+be[7]+1735328473&4294967295)<<14&4294967295|fe>>>18))+((fe=pe+(Ge^ue&(Le^Ge))+be[12]+2368359562&4294967295)<<20&4294967295|fe>>>12))+((fe=ue+(pe^Le^Ge)+be[5]+4294588738&4294967295)<<4&4294967295|fe>>>28))+((fe=Ge+(ue^pe^Le)+be[8]+2272392833&4294967295)<<11&4294967295|fe>>>21))+((fe=Le+(Ge^ue^pe)+be[11]+1839030562&4294967295)<<16&4294967295|fe>>>16))+((fe=pe+(Le^Ge^ue)+be[14]+4259657740&4294967295)<<23&4294967295|fe>>>9))+((fe=ue+(pe^Le^Ge)+be[1]+2763975236&4294967295)<<4&4294967295|fe>>>28))+((fe=Ge+(ue^pe^Le)+be[4]+1272893353&4294967295)<<11&4294967295|fe>>>21))+((fe=Le+(Ge^ue^pe)+be[7]+4139469664&4294967295)<<16&4294967295|fe>>>16))+((fe=pe+(Le^Ge^ue)+be[10]+3200236656&4294967295)<<23&4294967295|fe>>>9))+((fe=ue+(pe^Le^Ge)+be[13]+681279174&4294967295)<<4&4294967295|fe>>>28))+((fe=Ge+(ue^pe^Le)+be[0]+3936430074&4294967295)<<11&4294967295|fe>>>21))+((fe=Le+(Ge^ue^pe)+be[3]+3572445317&4294967295)<<16&4294967295|fe>>>16))+((fe=pe+(Le^Ge^ue)+be[6]+76029189&4294967295)<<23&4294967295|fe>>>9))+((fe=ue+(pe^Le^Ge)+be[9]+3654602809&4294967295)<<4&4294967295|fe>>>28))+((fe=Ge+(ue^pe^Le)+be[12]+3873151461&4294967295)<<11&4294967295|fe>>>21))+((fe=Le+(Ge^ue^pe)+be[15]+530742520&4294967295)<<16&4294967295|fe>>>16))+((fe=pe+(Le^Ge^ue)+be[2]+3299628645&4294967295)<<23&4294967295|fe>>>9))+((fe=ue+(Le^(pe|~Ge))+be[0]+4096336452&4294967295)<<6&4294967295|fe>>>26))+((fe=Ge+(pe^(ue|~Le))+be[7]+1126891415&4294967295)<<10&4294967295|fe>>>22))+((fe=Le+(ue^(Ge|~pe))+be[14]+2878612391&4294967295)<<15&4294967295|fe>>>17))+((fe=pe+(Ge^(Le|~ue))+be[5]+4237533241&4294967295)<<21&4294967295|fe>>>11))+((fe=ue+(Le^(pe|~Ge))+be[12]+1700485571&4294967295)<<6&4294967295|fe>>>26))+((fe=Ge+(pe^(ue|~Le))+be[3]+2399980690&4294967295)<<10&4294967295|fe>>>22))+((fe=Le+(ue^(Ge|~pe))+be[10]+4293915773&4294967295)<<15&4294967295|fe>>>17))+((fe=pe+(Ge^(Le|~ue))+be[1]+2240044497&4294967295)<<21&4294967295|fe>>>11))+((fe=ue+(Le^(pe|~Ge))+be[8]+1873313359&4294967295)<<6&4294967295|fe>>>26))+((fe=Ge+(pe^(ue|~Le))+be[15]+4264355552&4294967295)<<10&4294967295|fe>>>22))+((fe=Le+(ue^(Ge|~pe))+be[6]+2734768916&4294967295)<<15&4294967295|fe>>>17))+((fe=pe+(Ge^(Le|~ue))+be[13]+1309151649&4294967295)<<21&4294967295|fe>>>11))+((Ge=(ue=pe+((fe=ue+(Le^(pe|~Ge))+be[4]+4149444226&4294967295)<<6&4294967295|fe>>>26))+((fe=Ge+(pe^(ue|~Le))+be[11]+3174756917&4294967295)<<10&4294967295|fe>>>22))^((Le=Ge+((fe=Le+(ue^(Ge|~pe))+be[2]+718787259&4294967295)<<15&4294967295|fe>>>17))|~ue))+be[9]+3951481745&4294967295,Ae.g[0]=Ae.g[0]+ue&4294967295,Ae.g[1]=Ae.g[1]+(Le+(fe<<21&4294967295|fe>>>11))&4294967295,Ae.g[2]=Ae.g[2]+Le&4294967295,Ae.g[3]=Ae.g[3]+Ge&4294967295}function m(Ae,ue){this.h=ue;for(var pe=[],be=!0,Le=Ae.length-1;0<=Le;Le--){var Ge=0|Ae[Le];be&&Ge==ue||(pe[Le]=Ge,be=!1)}this.g=pe}(function n(Ae,ue){function pe(){}pe.prototype=ue.prototype,Ae.D=ue.prototype,Ae.prototype=new pe,Ae.prototype.constructor=Ae,Ae.C=function(be,Le,Ge){for(var fe=Array(arguments.length-2),_a=2;_a<arguments.length;_a++)fe[_a-2]=arguments[_a];return ue.prototype[Le].apply(be,fe)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Ae,ue){void 0===ue&&(ue=Ae.length);for(var pe=ue-this.blockSize,be=this.B,Le=this.h,Ge=0;Ge<ue;){if(0==Le)for(;Ge<=pe;)u(this,Ae,Ge),Ge+=this.blockSize;if("string"==typeof Ae){for(;Ge<ue;)if(be[Le++]=Ae.charCodeAt(Ge++),Le==this.blockSize){u(this,be),Le=0;break}}else for(;Ge<ue;)if(be[Le++]=Ae[Ge++],Le==this.blockSize){u(this,be),Le=0;break}}this.h=Le,this.o+=ue},s.prototype.v=function(){var Ae=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ae[0]=128;for(var ue=1;ue<Ae.length-8;++ue)Ae[ue]=0;var pe=8*this.o;for(ue=Ae.length-8;ue<Ae.length;++ue)Ae[ue]=255&pe,pe/=256;for(this.u(Ae),Ae=Array(16),ue=pe=0;4>ue;++ue)for(var be=0;32>be;be+=8)Ae[pe++]=this.g[ue]>>>be&255;return Ae};var T={};function C(Ae){return-128<=Ae&&128>Ae?function d(Ae,ue){var pe=T;return Object.prototype.hasOwnProperty.call(pe,Ae)?pe[Ae]:pe[Ae]=ue(Ae)}(Ae,function(ue){return new m([0|ue],0>ue?-1:0)}):new m([0|Ae],0>Ae?-1:0)}function P(Ae){if(isNaN(Ae)||!isFinite(Ae))return q;if(0>Ae)return _t(P(-Ae));for(var ue=[],pe=1,be=0;Ae>=pe;be++)ue[be]=Ae/pe|0,pe*=4294967296;return new m(ue,0)}var q=C(0),de=C(1),ze=C(16777216);function tt(Ae){if(0!=Ae.h)return!1;for(var ue=0;ue<Ae.g.length;ue++)if(0!=Ae.g[ue])return!1;return!0}function wt(Ae){return-1==Ae.h}function _t(Ae){for(var ue=Ae.g.length,pe=[],be=0;be<ue;be++)pe[be]=~Ae.g[be];return new m(pe,~Ae.h).add(de)}function qt(Ae,ue){return Ae.add(_t(ue))}function An(Ae,ue){for(;(65535&Ae[ue])!=Ae[ue];)Ae[ue+1]+=Ae[ue]>>>16,Ae[ue]&=65535,ue++}function pn(Ae,ue){this.g=Ae,this.h=ue}function er(Ae,ue){if(tt(ue))throw Error("division by zero");if(tt(Ae))return new pn(q,q);if(wt(Ae))return ue=er(_t(Ae),ue),new pn(_t(ue.g),_t(ue.h));if(wt(ue))return ue=er(Ae,_t(ue)),new pn(_t(ue.g),ue.h);if(30<Ae.g.length){if(wt(Ae)||wt(ue))throw Error("slowDivide_ only works with positive integers.");for(var pe=de,be=ue;0>=be.l(Ae);)pe=mr(pe),be=mr(be);var Le=pr(pe,1),Ge=pr(be,1);for(be=pr(be,2),pe=pr(pe,2);!tt(be);){var fe=Ge.add(be);0>=fe.l(Ae)&&(Le=Le.add(pe),Ge=fe),be=pr(be,1),pe=pr(pe,1)}return ue=qt(Ae,Le.j(ue)),new pn(Le,ue)}for(Le=q;0<=Ae.l(ue);){for(pe=Math.max(1,Math.floor(Ae.m()/ue.m())),be=48>=(be=Math.ceil(Math.log(pe)/Math.LN2))?1:Math.pow(2,be-48),fe=(Ge=P(pe)).j(ue);wt(fe)||0<fe.l(Ae);)fe=(Ge=P(pe-=be)).j(ue);tt(Ge)&&(Ge=de),Le=Le.add(Ge),Ae=qt(Ae,fe)}return new pn(Le,Ae)}function mr(Ae){for(var ue=Ae.g.length+1,pe=[],be=0;be<ue;be++)pe[be]=Ae.i(be)<<1|Ae.i(be-1)>>>31;return new m(pe,Ae.h)}function pr(Ae,ue){var pe=ue>>5;ue%=32;for(var be=Ae.g.length-pe,Le=[],Ge=0;Ge<be;Ge++)Le[Ge]=0<ue?Ae.i(Ge+pe)>>>ue|Ae.i(Ge+pe+1)<<32-ue:Ae.i(Ge+pe);return new m(Le,Ae.h)}(c=m.prototype).m=function(){if(wt(this))return-_t(this).m();for(var Ae=0,ue=1,pe=0;pe<this.g.length;pe++){var be=this.i(pe);Ae+=(0<=be?be:4294967296+be)*ue,ue*=4294967296}return Ae},c.toString=function(Ae){if(2>(Ae=Ae||10)||36<Ae)throw Error("radix out of range: "+Ae);if(tt(this))return"0";if(wt(this))return"-"+_t(this).toString(Ae);for(var ue=P(Math.pow(Ae,6)),pe=this,be="";;){var Le=er(pe,ue).g,Ge=((0<(pe=qt(pe,Le.j(ue))).g.length?pe.g[0]:pe.h)>>>0).toString(Ae);if(tt(pe=Le))return Ge+be;for(;6>Ge.length;)Ge="0"+Ge;be=Ge+be}},c.i=function(Ae){return 0>Ae?0:Ae<this.g.length?this.g[Ae]:this.h},c.l=function(Ae){return wt(Ae=qt(this,Ae))?-1:tt(Ae)?0:1},c.abs=function(){return wt(this)?_t(this):this},c.add=function(Ae){for(var ue=Math.max(this.g.length,Ae.g.length),pe=[],be=0,Le=0;Le<=ue;Le++){var Ge=be+(65535&this.i(Le))+(65535&Ae.i(Le)),fe=(Ge>>>16)+(this.i(Le)>>>16)+(Ae.i(Le)>>>16);be=fe>>>16,pe[Le]=(fe&=65535)<<16|(Ge&=65535)}return new m(pe,-2147483648&pe[pe.length-1]?-1:0)},c.j=function(Ae){if(tt(this)||tt(Ae))return q;if(wt(this))return wt(Ae)?_t(this).j(_t(Ae)):_t(_t(this).j(Ae));if(wt(Ae))return _t(this.j(_t(Ae)));if(0>this.l(ze)&&0>Ae.l(ze))return P(this.m()*Ae.m());for(var ue=this.g.length+Ae.g.length,pe=[],be=0;be<2*ue;be++)pe[be]=0;for(be=0;be<this.g.length;be++)for(var Le=0;Le<Ae.g.length;Le++){var Ge=this.i(be)>>>16,fe=65535&this.i(be),_a=Ae.i(Le)>>>16,yl=65535&Ae.i(Le);pe[2*be+2*Le]+=fe*yl,An(pe,2*be+2*Le),pe[2*be+2*Le+1]+=Ge*yl,An(pe,2*be+2*Le+1),pe[2*be+2*Le+1]+=fe*_a,An(pe,2*be+2*Le+1),pe[2*be+2*Le+2]+=Ge*_a,An(pe,2*be+2*Le+2)}for(be=0;be<ue;be++)pe[be]=pe[2*be+1]<<16|pe[2*be];for(be=ue;be<2*ue;be++)pe[be]=0;return new m(pe,0)},c.A=function(Ae){return er(this,Ae).h},c.and=function(Ae){for(var ue=Math.max(this.g.length,Ae.g.length),pe=[],be=0;be<ue;be++)pe[be]=this.i(be)&Ae.i(be);return new m(pe,this.h&Ae.h)},c.or=function(Ae){for(var ue=Math.max(this.g.length,Ae.g.length),pe=[],be=0;be<ue;be++)pe[be]=this.i(be)|Ae.i(be);return new m(pe,this.h|Ae.h)},c.xor=function(Ae){for(var ue=Math.max(this.g.length,Ae.g.length),pe=[],be=0;be<ue;be++)pe[be]=this.i(be)^Ae.i(be);return new m(pe,this.h^Ae.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ct=xe.Md5=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=P,m.fromString=function F(Ae,ue){if(0==Ae.length)throw Error("number format error: empty string");if(2>(ue=ue||10)||36<ue)throw Error("radix out of range: "+ue);if("-"==Ae.charAt(0))return _t(F(Ae.substring(1),ue));if(0<=Ae.indexOf("-"))throw Error('number format error: interior "-" character');for(var pe=P(Math.pow(ue,8)),be=q,Le=0;Le<Ae.length;Le+=8){var Ge=Math.min(8,Ae.length-Le),fe=parseInt(Ae.substring(Le,Le+Ge),ue);8>Ge?(Ge=P(Math.pow(ue,Ge)),be=be.j(Ge).add(P(fe))):be=(be=be.j(pe)).add(P(fe))}return be},Be=xe.Integer=m}).apply(typeof gt<"u"?gt:typeof self<"u"?self:typeof window<"u"?window:{});var We,vt,Ot,Cn,rn,un,Nn,En,le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(p,b,O){return p==Array.prototype||p==Object.prototype||(p[b]=O.value),p},s=function i(p){p=["object"==typeof globalThis&&globalThis,p,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof le&&le];for(var b=0;b<p.length;++b){var O=p[b];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}(this);!function u(p,b){if(b)e:{var O=s;p=p.split(".");for(var G=0;G<p.length-1;G++){var Ue=p[G];if(!(Ue in O))break e;O=O[Ue]}(b=b(G=O[p=p[p.length-1]]))!=G&&null!=b&&n(O,p,{configurable:!0,writable:!0,value:b})}}("Array.prototype.values",function(p){return p||function(){return function d(p,b){p instanceof String&&(p+="");var O=0,G=!1,Ue={next:function(){if(!G&&O<p.length){var Ze=O++;return{value:b(Ze,p[Ze]),done:!1}}return G=!0,{done:!0,value:void 0}}};return Ue[Symbol.iterator]=function(){return Ue},Ue}(this,function(b,O){return O})}});var m=m||{},T=this||self;function C(p){var b=typeof p;return"array"==(b="object"!=b?b:p?Array.isArray(p)?"array":b:"null")||"object"==b&&"number"==typeof p.length}function P(p){var b=typeof p;return"object"==b&&null!=p||"function"==b}function F(p,b,O){return p.call.apply(p.bind,arguments)}function q(p,b,O){if(!p)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var Ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ue,G),p.apply(b,Ue)}}return function(){return p.apply(b,arguments)}}function de(p,b,O){return(de=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?F:q).apply(null,arguments)}function ze(p,b){var O=Array.prototype.slice.call(arguments,1);return function(){var G=O.slice();return G.push.apply(G,arguments),p.apply(this,G)}}function tt(p,b){function O(){}O.prototype=b.prototype,p.aa=b.prototype,p.prototype=new O,p.prototype.constructor=p,p.Qb=function(G,Ue,Ze){for(var Lt=Array(arguments.length-2),Gr=2;Gr<arguments.length;Gr++)Lt[Gr-2]=arguments[Gr];return b.prototype[Ue].apply(G,Lt)}}function wt(p){const b=p.length;if(0<b){const O=Array(b);for(let G=0;G<b;G++)O[G]=p[G];return O}return[]}function _t(p,b){for(let O=1;O<arguments.length;O++){const G=arguments[O];if(C(G)){const Ue=p.length||0,Ze=G.length||0;p.length=Ue+Ze;for(let Lt=0;Lt<Ze;Lt++)p[Ue+Lt]=G[Lt]}else p.push(G)}}function An(p){return/^[\s\xa0]*$/.test(p)}function pn(){var p=T.navigator;return p&&(p=p.userAgent)?p:""}function er(p){return er[" "](p),p}er[" "]=function(){};var mr=!(-1==pn().indexOf("Gecko")||-1!=pn().toLowerCase().indexOf("webkit")&&-1==pn().indexOf("Edge")||-1!=pn().indexOf("Trident")||-1!=pn().indexOf("MSIE")||-1!=pn().indexOf("Edge"));function pr(p,b,O){for(const G in p)b.call(O,p[G],G,p)}function ue(p){const b={};for(const O in p)b[O]=p[O];return b}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(p,b){let O,G;for(let Ue=1;Ue<arguments.length;Ue++){for(O in G=arguments[Ue],G)p[O]=G[O];for(let Ze=0;Ze<pe.length;Ze++)O=pe[Ze],Object.prototype.hasOwnProperty.call(G,O)&&(p[O]=G[O])}}function Le(p){var b=1;p=p.split(":");const O=[];for(;0<b&&p.length;)O.push(p.shift()),b--;return p.length&&O.push(p.join(":")),O}function Ge(p){T.setTimeout(()=>{throw p},0)}function fe(){var p=yu;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}var yl=new class qt{constructor(b,O){this.i=b,this.j=O,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}(()=>new CE,p=>p.reset());class CE{constructor(){this.next=this.g=this.h=null}set(b,O){this.h=b,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let mu,zs=!1,yu=new class _a{constructor(){this.h=this.g=null}add(b,O){const G=yl.get();G.set(b,O),this.h?this.h.next=G:this.g=G,this.h=G}},zm=()=>{const p=T.Promise.resolve(void 0);mu=()=>{p.then(bE)}};var bE=()=>{for(var p;p=fe();){try{p.h.call(p.g)}catch(O){Ge(O)}var b=yl;b.j(p),100>b.h&&(b.h++,p.next=b.g,b.g=p)}zs=!1};function Dc(){this.s=this.s,this.C=this.C}function ko(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}Dc.prototype.s=!1,Dc.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ko.prototype.h=function(){this.defaultPrevented=!0};var Gm=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const O=()=>{};T.addEventListener("test",O,b),T.removeEventListener("test",O,b)}catch{}return p}();function Ac(p,b){if(ko.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var O=this.type=p.type,G=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget){if(mr){e:{try{er(b.nodeName);var Ue=!0;break e}catch{}Ue=!1}Ue||(b=null)}}else"mouseover"==O?b=p.fromElement:"mouseout"==O&&(b=p.toElement);this.relatedTarget=b,G?(this.clientX=void 0!==G.clientX?G.clientX:G.pageX,this.clientY=void 0!==G.clientY?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType="string"==typeof p.pointerType?p.pointerType:Wm[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ac.aa.h.call(this)}}tt(Ac,ko);var Wm={2:"touch",3:"pen",4:"mouse"};Ac.prototype.h=function(){Ac.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Qh="closure_listenable_"+(1e6*Math.random()|0),SE=0;function qm(p,b,O,G,Ue){this.listener=p,this.proxy=null,this.src=b,this.type=O,this.capture=!!G,this.ha=Ue,this.key=++SE,this.da=this.fa=!1}function Xh(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Jh(p){this.src=p,this.g={},this.h=0}function zp(p,b){var O=b.type;if(O in p.g){var Ze,G=p.g[O],Ue=Array.prototype.indexOf.call(G,b,void 0);(Ze=0<=Ue)&&Array.prototype.splice.call(G,Ue,1),Ze&&(Xh(b),0==p.g[O].length&&(delete p.g[O],p.h--))}}function Gp(p,b,O,G){for(var Ue=0;Ue<p.length;++Ue){var Ze=p[Ue];if(!Ze.da&&Ze.listener==b&&Ze.capture==!!O&&Ze.ha==G)return Ue}return-1}Jh.prototype.add=function(p,b,O,G,Ue){var Ze=p.toString();(p=this.g[Ze])||(p=this.g[Ze]=[],this.h++);var Lt=Gp(p,b,G,Ue);return-1<Lt?(b=p[Lt],O||(b.fa=!1)):((b=new qm(b,this.src,Ze,!!G,Ue)).fa=O,p.push(b)),b};var Zh="closure_lm_"+(1e6*Math.random()|0),Wp={};function Yh(p,b,O,G,Ue){if(G&&G.once)return qp(p,b,O,G,Ue);if(Array.isArray(b)){for(var Ze=0;Ze<b.length;Ze++)Yh(p,b[Ze],O,G,Ue);return null}return O=vu(O),p&&p[Qh]?p.K(b,O,P(G)?!!G.capture:!!G,Ue):_u(p,b,O,!1,G,Ue)}function _u(p,b,O,G,Ue,Ze){if(!b)throw Error("Invalid event type");var Lt=P(Ue)?!!Ue.capture:!!Ue,Gr=Km(p);if(Gr||(p[Zh]=Gr=new Jh(p)),(O=Gr.add(b,O,G,Lt,Ze)).proxy)return O;if(G=function lv(){const b=hv;return function p(O){return b.call(p.src,p.listener,O)}}(),O.proxy=G,G.src=p,G.listener=O,p.addEventListener)Gm||(Ue=Lt),void 0===Ue&&(Ue=!1),p.addEventListener(b.toString(),G,Ue);else if(p.attachEvent)p.attachEvent(dv(b.toString()),G);else{if(!p.addListener||!p.removeListener)throw Error("addEventListener and attachEvent are unavailable.");p.addListener(G)}return O}function qp(p,b,O,G,Ue){if(Array.isArray(b)){for(var Ze=0;Ze<b.length;Ze++)qp(p,b[Ze],O,G,Ue);return null}return O=vu(O),p&&p[Qh]?p.L(b,O,P(G)?!!G.capture:!!G,Ue):_u(p,b,O,!0,G,Ue)}function Kp(p,b,O,G,Ue){if(Array.isArray(b))for(var Ze=0;Ze<b.length;Ze++)Kp(p,b[Ze],O,G,Ue);else G=P(G)?!!G.capture:!!G,O=vu(O),p&&p[Qh]?(p=p.i,(b=String(b).toString())in p.g&&-1<(O=Gp(Ze=p.g[b],O,G,Ue))&&(Xh(Ze[O]),Array.prototype.splice.call(Ze,O,1),0==Ze.length&&(delete p.g[b],p.h--))):p&&(p=Km(p))&&(b=p.g[b.toString()],p=-1,b&&(p=Gp(b,O,G,Ue)),(O=-1<p?b[p]:null)&&Pd(O))}function Pd(p){if("number"!=typeof p&&p&&!p.da){var b=p.src;if(b&&b[Qh])zp(b.i,p);else{var O=p.type,G=p.proxy;b.removeEventListener?b.removeEventListener(O,G,p.capture):b.detachEvent?b.detachEvent(dv(O),G):b.addListener&&b.removeListener&&b.removeListener(G),(O=Km(b))?(zp(O,p),0==O.h&&(O.src=null,b[Zh]=null)):Xh(p)}}}function dv(p){return p in Wp?Wp[p]:Wp[p]="on"+p}function hv(p,b){if(p.da)p=!0;else{b=new Ac(b,this);var O=p.listener,G=p.ha||p.src;p.fa&&Pd(p),p=O.call(G,b)}return p}function Km(p){return(p=p[Zh])instanceof Jh?p:null}var Qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(p){return"function"==typeof p?p:(p[Qm]||(p[Qm]=function(b){return p.handleEvent(b)}),p[Qm])}function ro(){Dc.call(this),this.i=new Jh(this),this.M=this,this.F=null}function Lo(p,b){var O,G=p.F;if(G)for(O=[];G;G=G.F)O.push(G);if(p=p.M,G=b.type||b,"string"==typeof b)b=new ko(b,p);else if(b instanceof ko)b.target=b.target||p;else{var Ue=b;be(b=new ko(G,p),Ue)}if(Ue=!0,O)for(var Ze=O.length-1;0<=Ze;Ze--){var Lt=b.g=O[Ze];Ue=ef(Lt,G,!0,b)&&Ue}if(Ue=ef(Lt=b.g=p,G,!0,b)&&Ue,Ue=ef(Lt,G,!1,b)&&Ue,O)for(Ze=0;Ze<O.length;Ze++)Ue=ef(Lt=b.g=O[Ze],G,!1,b)&&Ue}function ef(p,b,O,G){if(!(b=p.i.g[String(b)]))return!0;b=b.concat();for(var Ue=!0,Ze=0;Ze<b.length;++Ze){var Lt=b[Ze];if(Lt&&!Lt.da&&Lt.capture==O){var Gr=Lt.listener,io=Lt.ha||Lt.src;Lt.fa&&zp(p.i,Lt),Ue=!1!==Gr.call(io,G)&&Ue}}return Ue&&!G.defaultPrevented}function fv(p,b,O){if("function"==typeof p)O&&(p=de(p,O));else{if(!p||"function"!=typeof p.handleEvent)throw Error("Invalid listener argument");p=de(p.handleEvent,p)}return 2147483647<Number(b)?-1:T.setTimeout(p,b||0)}function pv(p){p.g=fv(()=>{p.g=null,p.i&&(p.i=!1,pv(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}tt(ro,Dc),ro.prototype[Qh]=!0,ro.prototype.removeEventListener=function(p,b,O,G){Kp(this,p,b,O,G)},ro.prototype.N=function(){if(ro.aa.N.call(this),this.i){var b,p=this.i;for(b in p.g){for(var O=p.g[b],G=0;G<O.length;G++)Xh(O[G]);delete p.g[b],p.h--}}this.F=null},ro.prototype.K=function(p,b,O,G){return this.i.add(String(p),b,!1,O,G)},ro.prototype.L=function(p,b,O,G){return this.i.add(String(p),b,!0,O,G)};class RE extends Dc{constructor(b,O){super(),this.m=b,this.l=O,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:pv(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tf(p){Dc.call(this),this.h=p,this.g={}}tt(tf,Dc);var gv=[];function mv(p){pr(p.g,function(b,O){this.g.hasOwnProperty(O)&&Pd(b)},p),p.g={}}tf.prototype.N=function(){tf.aa.N.call(this),mv(this)},tf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qp=T.JSON.stringify,yv=T.JSON.parse,PE=class{stringify(p){return T.JSON.stringify(p,void 0)}parse(p){return T.JSON.parse(p,void 0)}};function Md(){}function Xm(){}Md.prototype.h=null;var Nd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xp(){ko.call(this,"d")}function Jm(){ko.call(this,"c")}tt(Xp,ko),tt(Jm,ko);var _l={},Zm=null;function xd(){return Zm=Zm||new ro}function Ym(p){ko.call(this,_l.La,p)}function nf(p){const b=xd();Lo(b,new Ym(b))}function Od(p,b){ko.call(this,_l.STAT_EVENT,p),this.stat=b}function Fo(p){const b=xd();Lo(b,new Od(b,p))}function ey(p,b){ko.call(this,_l.Ma,p),this.size=b}function Wa(p,b){if("function"!=typeof p)throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){p()},b)}function vl(){this.g=!0}function Il(p,b,O,G){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+function Kw(p,b){if(!p.g)return b;if(!b)return null;try{var O=JSON.parse(b);if(O)for(p=0;p<O.length;p++)if(Array.isArray(O[p])){var G=O[p];if(!(2>G.length)){var Ue=G[1];if(Array.isArray(Ue)&&!(1>Ue.length)){var Ze=Ue[0];if("noop"!=Ze&&"stop"!=Ze&&"close"!=Ze)for(var Lt=1;Lt<Ue.length;Lt++)Ue[Lt]=""}}}return Qp(O)}catch{return b}}(p,O)+(G?" "+G:"")})}_l.La="serverreachability",tt(Ym,ko),_l.STAT_EVENT="statevent",tt(Od,ko),_l.Ma="timingevent",tt(ey,ko),vl.prototype.xa=function(){this.g=!1},vl.prototype.info=function(){};var ny,ty={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Jp(){}function Iu(p,b,O,G){this.j=p,this.i=b,this.l=O,this.R=G||1,this.U=new tf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new af}function af(){this.i=null,this.g="",this.h=!1}tt(Jp,Md),Jp.prototype.g=function(){return new XMLHttpRequest},Jp.prototype.i=function(){return{}},ny=new Jp;var Zp={},ry={};function vv(p,b,O){p.L=1,p.v=tg(Cc(b)),p.m=O,p.P=!0,NE(p,null)}function NE(p,b){p.F=Date.now(),iy(p),p.A=Cc(p.v);var O=p.A,G=p.R;Array.isArray(G)||(G=[String(G)]),Pv(O.i,"t",G),p.C=0,O=p.j.J,p.h=new af,p.g=Bv(p.j,O?b:null,!p.m),0<p.O&&(p.M=new RE(de(p.Y,p,p.g),p.O)),b=p.U,O=p.g,G=p.ca;var Ue="readystatechange";Array.isArray(Ue)||(Ue&&(gv[0]=Ue.toString()),Ue=gv);for(var Ze=0;Ze<Ue.length;Ze++){var Lt=Yh(O,Ue[Ze],G||b.handleEvent,!1,b.h||b);if(!Lt)break;b.g[Lt.key]=Lt}b=p.H?ue(p.H):{},p.m?(p.u||(p.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,b)):(p.u="GET",p.g.ea(p.A,p.u,null,b)),nf(),function rf(p,b,O,G,Ue,Ze){p.info(function(){if(p.g)if(Ze)for(var Lt="",Gr=Ze.split("&"),io=0;io<Gr.length;io++){var gr=Gr[io].split("=");if(1<gr.length){var Zi=gr[0];gr=gr[1];var oo=Zi.split("_");Lt=2<=oo.length&&"type"==oo[1]?Lt+(Zi+"=")+gr+"&":Lt+(Zi+"=redacted&")}}else Lt=null;else Lt=Ze;return"XMLHTTP REQ ("+G+") [attempt "+Ue+"]: "+b+"\n"+O+"\n"+Lt})}(p.i,p.u,p.A,p.l,p.R,p.m)}function Iv(p){return!!p.g&&"GET"==p.u&&2!=p.L&&p.j.Ca}function xE(p,b){var O=p.C,G=b.indexOf("\n",O);return-1==G?ry:(O=Number(b.substring(O,G)),isNaN(O)?Zp:(G+=1)+O>b.length?ry:(b=b.slice(G,G+O),p.C=G+O,b))}function iy(p){p.S=Date.now()+p.I,Ev(p,p.I)}function Ev(p,b){if(null!=p.B)throw Error("WatchDog timer not null");p.B=Wa(de(p.ba,p),b)}function Tv(p){p.B&&(T.clearTimeout(p.B),p.B=null)}function cf(p){0==p.j.G||p.J||Cl(p.j,p)}function El(p){Tv(p);var b=p.M;b&&"function"==typeof b.ma&&b.ma(),p.M=null,mv(p.U),p.g&&(b=p.g,p.g=null,b.abort(),b.ma())}function oy(p,b){try{var O=p.j;if(0!=O.G&&(O.g==p||eg(O.h,p)))if(!p.K&&eg(O.h,p)&&3==O.G){try{var G=O.Da.g.parse(b)}catch{G=null}if(Array.isArray(G)&&3==G.length){var Ue=G;if(0==Ue[0]){e:if(!O.u){if(O.g){if(!(O.g.F+3e3<p.F))break e;cg(O),og(O)}Al(O),Fo(18)}}else O.za=Ue[1],0<O.za-O.T&&37500>Ue[2]&&O.F&&0==O.v&&!O.C&&(O.C=Wa(de(O.Za,O),6e3));if(1>=uf(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else bl(O,11)}else if((p.K||O.g==p)&&cg(O),!An(b))for(Ue=O.Da.g.parse(b),b=0;b<Ue.length;b++){let gr=Ue[b];if(O.T=gr[0],gr=gr[1],2==O.G)if("c"==gr[0]){O.K=gr[1],O.ia=gr[2];const Zi=gr[3];null!=Zi&&(O.la=Zi,O.j.info("VER="+O.la));const oo=gr[4];null!=oo&&(O.Aa=oo,O.j.info("SVER="+O.Aa));const Ud=gr[5];null!=Ud&&"number"==typeof Ud&&0<Ud&&(O.L=G=1.5*Ud,O.j.info("backChannelRequestTimeoutMs_="+G)),G=O;const va=p.g;if(va){const ug=va.g?va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ug){var Ze=G.h;Ze.g||-1==ug.indexOf("spdy")&&-1==ug.indexOf("quic")&&-1==ug.indexOf("h2")||(Ze.j=Ze.l,Ze.g=new Set,Ze.h&&(Tl(Ze,Ze.h),Ze.h=null))}if(G.D){const wf=va.g?va.g.getResponseHeader("X-HTTP-Session-Id"):null;wf&&(G.ya=wf,ni(G.I,G.D,wf))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-p.F,O.j.info("Handshake RTT: "+O.R+"ms"));var Lt=p;if((G=O).qa=Uv(G,G.J?G.ia:null,G.W),Lt.K){ay(G.h,Lt);var Gr=Lt,io=G.L;io&&(Gr.I=io),Gr.B&&(Tv(Gr),iy(Gr)),G.g=Lt}else wu(G);0<O.i.length&&sg(O)}else"stop"!=gr[0]&&"close"!=gr[0]||bl(O,7);else 3==O.G&&("stop"==gr[0]||"close"==gr[0]?"stop"==gr[0]?bl(O,7):yy(O):"noop"!=gr[0]&&O.l&&O.l.ta(gr),O.v=0)}nf()}catch{}}Iu.prototype.ca=function(p){p=p.target;const b=this.M;b&&3==qa(p)?b.j():this.Y(p)},Iu.prototype.Y=function(p){try{if(p==this.g)e:{const oo=qa(this.g);var b=this.g.Ba();if(this.g.Z(),!(3>oo)&&(3!=oo||this.g&&(this.h.h||this.g.oa()||gy(this.g)))){this.J||4!=oo||7==b||nf(),Tv(this);var O=this.g.Z();this.X=O;t:if(Iv(this)){var G=gy(this.g);p="";var Ue=G.length,Ze=4==qa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){El(this),cf(this);var Lt="";break t}this.h.i=new T.TextDecoder}for(b=0;b<Ue;b++)this.h.h=!0,p+=this.h.i.decode(G[b],{stream:!(Ze&&b==Ue-1)});G.length=0,this.h.g+=p,this.C=0,Lt=this.h.g}else Lt=this.g.oa();if(this.o=200==O,function ME(p,b,O,G,Ue,Ze,Lt){p.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+Ue+"]: "+b+"\n"+O+"\n"+Ze+" "+Lt})}(this.i,this.u,this.A,this.l,this.R,oo,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Gr,io=this.g;if((Gr=io.g?io.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!An(Gr)){var gr=Gr;break t}}gr=null}if(!(O=gr)){this.o=!1,this.s=3,Fo(12),El(this),cf(this);break e}Il(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oy(this,O)}if(this.P){let va;for(O=!0;!this.J&&this.C<Lt.length;){if(va=xE(this,Lt),va==ry){4==oo&&(this.s=4,Fo(14),O=!1),Il(this.i,this.l,null,"[Incomplete Response]");break}if(va==Zp){this.s=4,Fo(15),Il(this.i,this.l,Lt,"[Invalid Chunk]"),O=!1;break}Il(this.i,this.l,va,null),oy(this,va)}if(Iv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=oo||0!=Lt.length||this.h.h||(this.s=1,Fo(16),O=!1),this.o=this.o&&O,O){if(0<Lt.length&&!this.W){this.W=!0;var Zi=this.j;Zi.g==this&&Zi.ba&&!Zi.M&&(Zi.j.info("Great, no buffering proxy detected. Bytes received: "+Lt.length),If(Zi),Zi.M=!0,Fo(11))}}else Il(this.i,this.l,Lt,"[Invalid Chunked Response]"),El(this),cf(this)}else Il(this.i,this.l,Lt,null),oy(this,Lt);4==oo&&El(this),this.o&&!this.J&&(4==oo?Cl(this.j,this):(this.o=!1,iy(this)))}else(function my(p){const b={};p=(p.g&&2<=qa(p)&&p.g.getAllResponseHeaders()||"").split("\r\n");for(let G=0;G<p.length;G++){if(An(p[G]))continue;var O=Le(p[G]);const Ue=O[0];if("string"!=typeof(O=O[1]))continue;O=O.trim();const Ze=b[Ue]||[];b[Ue]=Ze,Ze.push(O)}!function Ae(p,b){for(const O in p)b.call(void 0,p[O],O,p)}(b,function(G){return G.join(", ")})})(this.g),400==O&&0<Lt.indexOf("Unknown SID")?(this.s=3,Fo(12)):(this.s=0,Fo(13)),El(this),cf(this)}}}catch{}},Iu.prototype.cancel=function(){this.J=!0,El(this)},Iu.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(function sf(p,b){p.info(function(){return"TIMEOUT: "+b})}(this.i,this.A),2!=this.L&&(nf(),Fo(17)),El(this),this.s=2,cf(this)):Ev(this,this.S-p)};var sy=class{constructor(p,b){this.g=p,this.map=b}};function Ld(p){this.l=p||10,p=T.PerformanceNavigationTiming?0<(p=T.performance.getEntriesByType("navigation")).length&&("hq"==p[0].nextHopProtocol||"h2"==p[0].nextHopProtocol):!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yp(p){return!!p.h||!!p.g&&p.g.size>=p.j}function uf(p){return p.h?1:p.g?p.g.size:0}function eg(p,b){return p.h?p.h==b:!!p.g&&p.g.has(b)}function Tl(p,b){p.g?p.g.add(b):p.h=b}function ay(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}function wv(p){if(null!=p.h)return p.i.concat(p.h.D);if(null!=p.g&&0!==p.g.size){let b=p.i;for(const O of p.g.values())b=b.concat(O.D);return b}return wt(p.i)}function cy(p,b){if(p.forEach&&"function"==typeof p.forEach)p.forEach(b,void 0);else if(C(p)||"string"==typeof p)Array.prototype.forEach.call(p,b,void 0);else for(var O=function Dv(p){if(p.na&&"function"==typeof p.na)return p.na();if(!p.V||"function"!=typeof p.V){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(C(p)||"string"==typeof p){var b=[];p=p.length;for(var O=0;O<p;O++)b.push(O);return b}b=[],O=0;for(const G in p)b[O++]=G;return b}}}(p),G=function lf(p){if(p.V&&"function"==typeof p.V)return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if("string"==typeof p)return p.split("");if(C(p)){for(var b=[],O=p.length,G=0;G<O;G++)b.push(p[G]);return b}for(G in b=[],O=0,p)b[O++]=p[G];return b}(p),Ue=G.length,Ze=0;Ze<Ue;Ze++)b.call(void 0,G[Ze],O&&O[Ze],p)}Ld.prototype.cancel=function(){if(this.i=wv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const p of this.g.values())p.cancel();this.g.clear()}};var wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dl(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Dl){this.h=p.h,df(this,p.j),this.o=p.o,this.g=p.g,hf(this,p.s),this.l=p.l;var b=p.i,O=new pf;O.i=b.i,b.g&&(O.g=new Map(b.g),O.h=b.h),Av(this,O),this.m=p.m}else p&&(b=String(p).match(wl))?(this.h=!1,df(this,b[1]||"",!0),this.o=bc(b[2]||""),this.g=bc(b[3]||"",!0),hf(this,b[4]),this.l=bc(b[5]||"",!0),Av(this,b[6]||"",!0),this.m=bc(b[7]||"")):(this.h=!1,this.i=new pf(null,this.h))}function Cc(p){return new Dl(p)}function df(p,b,O){p.j=O?bc(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function hf(p,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);p.s=b}else p.s=null}function Av(p,b,O){b instanceof pf?(p.i=b,function kE(p,b){b&&!p.j&&(Sc(p),p.i=null,p.g.forEach(function(O,G){var Ue=G.toLowerCase();G!=Ue&&(rg(this,G),Pv(this,Ue,O))},p)),p.j=b}(p.i,p.h)):(O||(b=ff(b,Sv)),p.i=new pf(b,p.h))}function ni(p,b,O){p.i.set(b,O)}function tg(p){return ni(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function bc(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ff(p,b,O){return"string"==typeof p?(p=encodeURI(p).replace(b,OE),O&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function OE(p){return"%"+((p=p.charCodeAt(0))>>4&15).toString(16)+(15&p).toString(16)}Dl.prototype.toString=function(){var p=[],b=this.j;b&&p.push(ff(b,Cv,!0),":");var O=this.g;return(O||"file"==b)&&(p.push("//"),(b=this.o)&&p.push(ff(b,Cv,!0),"@"),p.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(O=this.s)&&p.push(":",String(O))),(O=this.l)&&(this.g&&"/"!=O.charAt(0)&&p.push("/"),p.push(ff(O,"/"==O.charAt(0)?bv:ng,!0))),(O=this.i.toString())&&p.push("?",O),(O=this.m)&&p.push("#",ff(O,Rv)),p.join("")};var Cv=/[#\/\?@]/g,ng=/[#\?:]/g,bv=/[#\?]/g,Sv=/[#\?@]/g,Rv=/#/g;function pf(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function Sc(p){p.g||(p.g=new Map,p.h=0,p.i&&function uy(p,b){if(p){p=p.split("&");for(var O=0;O<p.length;O++){var G=p[O].indexOf("="),Ue=null;if(0<=G){var Ze=p[O].substring(0,G);Ue=p[O].substring(G+1)}else Ze=p[O];b(Ze,Ue?decodeURIComponent(Ue.replace(/\+/g," ")):"")}}}(p.i,function(b,O){p.add(decodeURIComponent(b.replace(/\+/g," ")),O)}))}function rg(p,b){Sc(p),b=Fd(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function gf(p,b){return Sc(p),b=Fd(p,b),p.g.has(b)}function Pv(p,b,O){rg(p,b),0<O.length&&(p.i=null,p.g.set(Fd(p,b),wt(O)),p.h+=O.length)}function Fd(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function Eu(p,b,O,G,Ue){try{Ue&&(Ue.onload=null,Ue.onerror=null,Ue.onabort=null,Ue.ontimeout=null),G(O)}catch{}}function ly(){this.g=new PE}function mf(p,b,O){const G=O||"";try{cy(p,function(Ue,Ze){let Lt=Ue;P(Ue)&&(Lt=Qp(Ue)),b.push(G+Ze+"="+encodeURIComponent(Lt))})}catch(Ue){throw b.push(G+"type="+encodeURIComponent("_badmap")),Ue}}function Vd(p){this.l=p.Ub||null,this.j=p.eb||!1}function yf(p,b){ro.call(this),this.D=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Mv(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}function Rc(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Tu(p)}function Tu(p){p.onreadystatechange&&p.onreadystatechange.call(p)}function VE(p){let b="";return pr(p,function(O,G){b+=G,b+=":",b+=O,b+="\r\n"}),b}function dy(p,b,O){e:{for(G in O){var G=!1;break e}G=!0}G||(O=VE(O),"string"==typeof p?null!=O&&encodeURIComponent(String(O)):ni(p,b,O))}function Ti(p){ro.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=pf.prototype).add=function(p,b){Sc(this),this.i=null,p=Fd(this,p);var O=this.g.get(p);return O||this.g.set(p,O=[]),O.push(b),this.h+=1,this},c.forEach=function(p,b){Sc(this),this.g.forEach(function(O,G){O.forEach(function(Ue){p.call(b,Ue,G,this)},this)},this)},c.na=function(){Sc(this);const p=Array.from(this.g.values()),b=Array.from(this.g.keys()),O=[];for(let G=0;G<b.length;G++){const Ue=p[G];for(let Ze=0;Ze<Ue.length;Ze++)O.push(b[G])}return O},c.V=function(p){Sc(this);let b=[];if("string"==typeof p)gf(this,p)&&(b=b.concat(this.g.get(Fd(this,p))));else{p=Array.from(this.g.values());for(let O=0;O<p.length;O++)b=b.concat(p[O])}return b},c.set=function(p,b){return Sc(this),this.i=null,gf(this,p=Fd(this,p))&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},c.get=function(p,b){return p&&0<(p=this.V(p)).length?String(p[0]):b},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(var O=0;O<b.length;O++){var G=b[O];const Ze=encodeURIComponent(String(G)),Lt=this.V(G);for(G=0;G<Lt.length;G++){var Ue=Ze;""!==Lt[G]&&(Ue+="="+encodeURIComponent(String(Lt[G]))),p.push(Ue)}}return this.i=p.join("&")},tt(Vd,Md),Vd.prototype.g=function(){return new yf(this.l,this.j)},Vd.prototype.i=function(p){return function(){return p}}({}),tt(yf,ro),(c=yf.prototype).open=function(p,b){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=b,this.readyState=1,Tu(this)},c.send=function(p){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(b.body=p),(this.D||T).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rc(this)),this.readyState=0},c.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Tu(this)),this.g&&(this.readyState=3,Tu(this),this.g)))if("arraybuffer"===this.responseType)p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mv(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Rc(this):Tu(this),3==this.readyState&&Mv(this)}},c.Ra=function(p){this.g&&(this.response=this.responseText=p,Rc(this))},c.Qa=function(p){this.g&&(this.response=p,Rc(this))},c.ga=function(){this.g&&Rc(this)},c.setRequestHeader=function(p,b){this.u.append(p,b)},c.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var O=b.next();!O.done;)p.push((O=O.value)[0]+": "+O[1]),O=b.next();return p.join("\r\n")},Object.defineProperty(yf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(p){this.m=p?"include":"same-origin"}}),tt(Ti,ro);var hy=/^https?$/i,UE=["POST","PUT"];function fy(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.m=5,Nv(p),ig(p)}function Nv(p){p.A||(p.A=!0,Lo(p,"complete"),Lo(p,"error"))}function xv(p){if(p.h&&typeof m<"u"&&(!p.v[1]||4!=qa(p)||2!=p.Z()))if(p.u&&4==qa(p))fv(p.Ea,0,p);else if(Lo(p,"readystatechange"),4==qa(p)){p.h=!1;try{const Lt=p.Z();e:switch(Lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var O;if(!(O=b)){var G;if(G=0===Lt){var Ue=String(p.D).match(wl)[1]||null;!Ue&&T.self&&T.self.location&&(Ue=T.self.location.protocol.slice(0,-1)),G=!hy.test(Ue?Ue.toLowerCase():"")}O=G}if(O)Lo(p,"complete"),Lo(p,"success");else{p.m=6;try{var Ze=2<qa(p)?p.g.statusText:""}catch{Ze=""}p.l=Ze+" ["+p.Z()+"]",Nv(p)}}finally{ig(p)}}}function ig(p,b){if(p.g){py(p);const O=p.g,G=p.v[0]?()=>{}:null;p.g=null,p.v=null,b||Lo(p,"ready");try{O.onreadystatechange=G}catch{}}}function py(p){p.I&&(T.clearTimeout(p.I),p.I=null)}function qa(p){return p.g?p.g.readyState:0}function gy(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function _f(p,b,O){return O&&O.internalChannelParams&&O.internalChannelParams[p]||b}function Ov(p){this.Aa=0,this.i=[],this.j=new vl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_f("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_f("baseRetryDelayMs",5e3,p),this.cb=_f("retryDelaySeedMs",1e4,p),this.Wa=_f("forwardChannelMaxRetries",2,p),this.wa=_f("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Ld(p&&p.concurrentRequestLimit),this.Da=new ly,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function yy(p){if(kv(p),3==p.G){var b=p.U++,O=Cc(p.I);if(ni(O,"SID",p.K),ni(O,"RID",b),ni(O,"TYPE","terminate"),vf(p,O),(b=new Iu(p,p.j,b)).L=2,b.v=tg(Cc(O)),O=!1,T.navigator&&T.navigator.sendBeacon)try{O=T.navigator.sendBeacon(b.v.toString(),"")}catch{}!O&&T.Image&&((new Image).src=b.v,O=!0),O||(b.g=Bv(b.j,null),b.g.ea(b.v)),b.F=Date.now(),iy(b)}Vv(p)}function og(p){p.g&&(If(p),p.g.cancel(),p.g=null)}function kv(p){og(p),p.u&&(T.clearTimeout(p.u),p.u=null),cg(p),p.h.cancel(),p.s&&("number"==typeof p.s&&T.clearTimeout(p.s),p.s=null)}function sg(p){if(!Yp(p.h)&&!p.s){p.s=!0;var b=p.Ga;mu||zm(),zs||(mu(),zs=!0),yu.add(b,p),p.B=0}}function Lv(p,b){var O;O=b?b.l:p.U++;const G=Cc(p.I);ni(G,"SID",p.K),ni(G,"RID",O),ni(G,"AID",p.T),vf(p,G),p.m&&p.o&&dy(G,p.m,p.o),O=new Iu(p,p.j,O,p.B+1),null===p.m&&(O.H=p.o),b&&(p.i=b.D.concat(p.i)),b=Fv(p,O,1e3),O.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Tl(p.h,O),vv(O,G,b)}function vf(p,b){p.H&&pr(p.H,function(O,G){ni(b,G,O)}),p.l&&cy({},function(O,G){ni(b,G,O)})}function Fv(p,b,O){O=Math.min(p.i.length,O);var G=p.l?de(p.l.Na,p.l,p):null;e:{var Ue=p.i;let Ze=-1;for(;;){const Lt=["count="+O];-1==Ze?0<O?(Ze=Ue[0].g,Lt.push("ofs="+Ze)):Ze=0:Lt.push("ofs="+Ze);let Gr=!0;for(let io=0;io<O;io++){let gr=Ue[io].g;const Zi=Ue[io].map;if(gr-=Ze,0>gr)Ze=Math.max(0,Ue[io].g-100),Gr=!1;else try{mf(Zi,Lt,"req"+gr+"_")}catch{G&&G(Zi)}}if(Gr){G=Lt.join("&");break e}}}return p=p.i.splice(0,O),b.D=p,G}function wu(p){if(!p.g&&!p.u){p.Y=1;var b=p.Fa;mu||zm(),zs||(mu(),zs=!0),yu.add(b,p),p.v=0}}function Al(p){return!(p.g||p.u||3<=p.v||(p.Y++,p.u=Wa(de(p.Fa,p),vy(p,p.v)),p.v++,0))}function If(p){null!=p.A&&(T.clearTimeout(p.A),p.A=null)}function ag(p){p.g=new Iu(p,p.j,"rpc",p.Y),null===p.m&&(p.g.H=p.o),p.g.O=0;var b=Cc(p.qa);ni(b,"RID","rpc"),ni(b,"SID",p.K),ni(b,"AID",p.T),ni(b,"CI",p.F?"0":"1"),!p.F&&p.ja&&ni(b,"TO",p.ja),ni(b,"TYPE","xmlhttp"),vf(p,b),p.m&&p.o&&dy(b,p.m,p.o),p.L&&(p.g.I=p.L);var O=p.g;p=p.ia,O.L=1,O.v=tg(Cc(b)),O.m=null,O.P=!0,NE(O,p)}function cg(p){null!=p.C&&(T.clearTimeout(p.C),p.C=null)}function Cl(p,b){var O=null;if(p.g==b){cg(p),If(p),p.g=null;var G=2}else{if(!eg(p.h,b))return;O=b.D,ay(p.h,b),G=1}if(0!=p.G)if(b.o)if(1==G){O=b.m?b.m.length:0,b=Date.now()-b.F;var Ue=p.B;Lo(G=xd(),new ey(G,O)),sg(p)}else wu(p);else if(3==(Ue=b.s)||0==Ue&&0<b.X||!(1==G&&function _y(p,b){return!(uf(p.h)>=p.h.j-(p.s?1:0)||(p.s?(p.i=b.D.concat(p.i),0):1==p.G||2==p.G||p.B>=(p.Va?0:p.Wa)||(p.s=Wa(de(p.Ga,p,b),vy(p,p.B)),p.B++,0)))}(p,b)||2==G&&Al(p)))switch(O&&0<O.length&&(b=p.h,b.i=b.i.concat(O)),Ue){case 1:bl(p,5);break;case 4:bl(p,10);break;case 3:bl(p,6);break;default:bl(p,2)}}function vy(p,b){let O=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(O*=2),O*b}function bl(p,b){if(p.j.info("Error code "+b),2==b){var O=de(p.fb,p),G=p.Xa;const Ue=!G;G=new Dl(G||"//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||df(G,"https"),tg(G),Ue?function LE(p,b){const O=new vl;if(T.Image){const G=new Image;G.onload=ze(Eu,O,"TestLoadImage: loaded",!0,b,G),G.onerror=ze(Eu,O,"TestLoadImage: error",!1,b,G),G.onabort=ze(Eu,O,"TestLoadImage: abort",!1,b,G),G.ontimeout=ze(Eu,O,"TestLoadImage: timeout",!1,b,G),T.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=p}else b(!1)}(G.toString(),O):function FE(p,b){new vl;const G=new AbortController,Ue=setTimeout(()=>{G.abort(),Eu(0,0,!1,b)},1e4);fetch(p,{signal:G.signal}).then(Ze=>{clearTimeout(Ue),Eu(0,0,!!Ze.ok,b)}).catch(()=>{clearTimeout(Ue),Eu(0,0,!1,b)})}(G.toString(),O)}else Fo(2);p.G=0,p.l&&p.l.sa(b),Vv(p),kv(p)}function Vv(p){if(p.G=0,p.ka=[],p.l){const b=wv(p.h);(0!=b.length||0!=p.i.length)&&(_t(p.ka,b),_t(p.ka,p.i),p.h.i.length=0,wt(p.i),p.i.length=0),p.l.ra()}}function Uv(p,b,O){var G=O instanceof Dl?Cc(O):new Dl(O);if(""!=G.g)b&&(G.g=b+"."+G.g),hf(G,G.s);else{var Ue=T.location;G=Ue.protocol,b=b?b+"."+Ue.hostname:Ue.hostname,Ue=+Ue.port;var Ze=new Dl(null);G&&df(Ze,G),b&&(Ze.g=b),Ue&&hf(Ze,Ue),O&&(Ze.l=O),G=Ze}return b=p.ya,(O=p.D)&&b&&ni(G,O,b),ni(G,"VER",p.la),vf(p,G),G}function Bv(p,b,O){if(b&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return(b=new Ti(p.Ca&&!p.pa?new Vd({eb:O}):p.pa)).Ha(p.J),b}function jv(){}function Ef(){}function _s(p,b){ro.call(this),this.g=new Ov(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(p?p["X-WebChannel-Client-Profile"]=b.va:p={"X-WebChannel-Client-Profile":b.va}),this.g.S=p,(p=b&&b.Sb)&&!An(p)&&(this.g.m=p),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!An(b)&&(this.g.D=b,null!==(p=this.h)&&b in p&&b in(p=this.h)&&delete p[b]),this.j=new Pc(this)}function Iy(p){Xp.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const O in b){p=O;break e}p=void 0}(this.i=p)&&(p=this.i,b=null!==b&&p in b?b[p]:void 0),this.data=b}else this.data=p}function Tf(){Jm.call(this),this.status=1}function Pc(p){this.g=p}(c=Ti.prototype).Ha=function(p){this.J=p},c.ea=function(p,b,O,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ny.g(),this.v=function _v(p){return p.h||(p.h=p.i())}(this.o?this.o:ny),this.g.onreadystatechange=de(this.Ea,this);try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(Ze){return void fy(this,Ze)}if(p=O||"",O=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var Ue in G)O.set(Ue,G[Ue]);else{if("function"!=typeof G.keys||"function"!=typeof G.get)throw Error("Unknown input type for opt_headers: "+String(G));for(const Ze of G.keys())O.set(Ze,G.get(Ze))}G=Array.from(O.keys()).find(Ze=>"content-type"==Ze.toLowerCase()),Ue=T.FormData&&p instanceof T.FormData,!(0<=Array.prototype.indexOf.call(UE,b,void 0))||G||Ue||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ze,Lt]of O)this.g.setRequestHeader(Ze,Lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{py(this),this.u=!0,this.g.send(p),this.u=!1}catch(Ze){fy(this,Ze)}},c.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Lo(this,"complete"),Lo(this,"abort"),ig(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ig(this,!0)),Ti.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?xv(this):this.bb())},c.bb=function(){xv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<qa(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(p){if(this.g){var b=this.g.responseText;return p&&0==b.indexOf(p)&&(b=b.substring(p.length)),yv(b)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=Ov.prototype).la=8,c.G=1,c.connect=function(p,b,O,G){Fo(0),this.W=p,this.H=b||{},O&&void 0!==G&&(this.H.OSID=O,this.H.OAID=G),this.F=this.X,this.I=Uv(this,null,this.W),sg(this)},c.Ga=function(p){if(this.s)if(this.s=null,1==this.G){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Ue=new Iu(this,this.j,p);let Ze=this.o;if(this.S&&(Ze?(Ze=ue(Ze),be(Ze,this.S)):Ze=this.S),null!==this.m||this.O||(Ue.H=Ze,Ze=null),this.P)e:{for(var b=0,O=0;O<this.i.length;O++){var G=this.i[O];if(void 0===(G="__data__"in G.map&&"string"==typeof(G=G.map.__data__)?G.length:void 0))break;if(4096<(b+=G)){b=O;break e}if(4096===b||O===this.i.length-1){b=O+1;break e}}b=1e3}else b=1e3;b=Fv(this,Ue,b),ni(O=Cc(this.I),"RID",p),ni(O,"CVER",22),this.D&&ni(O,"X-HTTP-Session-Id",this.D),vf(this,O),Ze&&(this.O?b="headers="+encodeURIComponent(String(VE(Ze)))+"&"+b:this.m&&dy(O,this.m,Ze)),Tl(this.h,Ue),this.Ua&&ni(O,"TYPE","init"),this.P?(ni(O,"$req",b),ni(O,"SID","null"),Ue.T=!0,vv(Ue,O,null)):vv(Ue,O,b),this.G=2}}else 3==this.G&&(p?Lv(this,p):0==this.i.length||Yp(this.h)||Lv(this))},c.Fa=function(){if(this.u=null,ag(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Wa(de(this.ab,this),p)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fo(10),og(this),ag(this))},c.Za=function(){null!=this.C&&(this.C=null,og(this),Al(this),Fo(19))},c.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Fo(2)):(this.j.info("Failed to ping google.com"),Fo(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=jv.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Ef.prototype.g=function(p,b){return new _s(p,b)},tt(_s,ro),_s.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_s.prototype.close=function(){yy(this.g)},_s.prototype.o=function(p){var b=this.g;if("string"==typeof p){var O={};O.__data__=p,p=O}else this.u&&((O={}).__data__=Qp(p),p=O);b.i.push(new sy(b.Ya++,p)),3==b.G&&sg(b)},_s.prototype.N=function(){this.g.l=null,delete this.j,yy(this.g),delete this.g,_s.aa.N.call(this)},tt(Iy,Xp),tt(Tf,Jm),tt(Pc,jv),Pc.prototype.ua=function(){Lo(this.g,"a")},Pc.prototype.ta=function(p){Lo(this.g,new Iy(p))},Pc.prototype.sa=function(p){Lo(this.g,new Tf)},Pc.prototype.ra=function(){Lo(this.g,"b")},Ef.prototype.createWebChannel=Ef.prototype.g,_s.prototype.send=_s.prototype.o,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,En=se.createWebChannelTransport=function(){return new Ef},Nn=se.getStatEventTarget=function(){return xd()},un=se.Event=_l,rn=se.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ty.NO_ERROR=0,ty.TIMEOUT=8,ty.HTTP_ERROR=6,Cn=se.ErrorCode=ty,kd.COMPLETE="complete",Ot=se.EventType=kd,Xm.EventType=Nd,Nd.OPEN="a",Nd.CLOSE="b",Nd.ERROR="c",Nd.MESSAGE="d",ro.prototype.listen=ro.prototype.K,vt=se.WebChannel=Xm,se.FetchXmlHttpFactory=Vd,Ti.prototype.listenOnce=Ti.prototype.L,Ti.prototype.getLastError=Ti.prototype.Ka,Ti.prototype.getLastErrorCode=Ti.prototype.Ba,Ti.prototype.getStatus=Ti.prototype.Z,Ti.prototype.getResponseJson=Ti.prototype.Oa,Ti.prototype.getResponseText=Ti.prototype.oa,Ti.prototype.send=Ti.prototype.ea,Ti.prototype.setWithCredentials=Ti.prototype.Ha,We=se.XhrIo=Ti}).apply(typeof le<"u"?le:typeof self<"u"?self:typeof window<"u"?window:{});const mt="@firebase/firestore";class at{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");let it="12.2.0";const et=new oe.Vy("@firebase/firestore");function Te(){return et.logLevel}function je(c,...n){if(et.logLevel<=oe.$b.DEBUG){const i=n.map(Xn);et.debug(`Firestore (${it}): ${c}`,...i)}}function en(c,...n){if(et.logLevel<=oe.$b.ERROR){const i=n.map(Xn);et.error(`Firestore (${it}): ${c}`,...i)}}function Bn(c,...n){if(et.logLevel<=oe.$b.WARN){const i=n.map(Xn);et.warn(`Firestore (${it}): ${c}`,...i)}}function Xn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function Dt(c,n,i){let s="Unexpected state";"string"==typeof n?s=n:i=n,wn(c,s,i)}function wn(c,n,i){let s=`FIRESTORE (${it}) INTERNAL ASSERTION FAILED: ${n} (ID: ${c.toString(16)})`;if(void 0!==i)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw en(s),new Error(s)}function Nt(c,n,i,s){let u="Unexpected state";"string"==typeof i?u=i:s=i,c||wn(n,u,s)}function yt(c,n){return c}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Pe.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Se{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class Ve{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Re{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(at.UNAUTHENTICATED))}shutdown(){}}class ot{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ft{constructor(n){this.t=n,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;Nt(void 0===this.o,42304);let u=this.i;const d=P=>this.i!==u?(u=this.i,i(P)):Promise.resolve();let m=new Se;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Se,n.enqueueRetryable(()=>d(this.currentUser))};const T=()=>{const P=m;n.enqueueRetryable((0,R.A)(function*(){yield P.promise,yield d(s.currentUser)}))},C=P=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.o&&(this.auth.addAuthTokenListener(this.o),T())};this.t.onInit(P=>C(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?C(P):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Se)}},0),T()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Nt("string"==typeof s.accessToken,31837,{l:s}),new Ve(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Nt(null===n||"string"==typeof n,2055,{h:n}),new at(n)}}class Wt{constructor(n,i,s){this.P=n,this.T=i,this.I=s,this.type="FirstParty",this.user=at.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kt{constructor(n,i,s){this.P=n,this.T=i,this.I=s}getToken(){return Promise.resolve(new Wt(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable(()=>i(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vn{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bt{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,$.xZ)(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){Nt(void 0===this.o,3512);const s=d=>{null!=d.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.m;return this.m=d.token,je("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(d.token):Promise.resolve()};this.o=d=>{n.enqueueRetryable(()=>s(d))};const u=d=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.V.getImmediate({optional:!0});d?u(d):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vn(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Nt("string"==typeof i.token,44558,{tokenResult:i}),this.m=i.token,new Vn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function on(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<c;s++)i[s]=Math.floor(256*Math.random());return i}class ri{static newId(){const i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=on(40);for(let d=0;d<u.length;++d)s.length<20&&u[d]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[d]%62))}return s}}function St(c,n){return c<n?-1:c>n?1:0}function Jn(c,n){const i=Math.min(c.length,n.length);for(let s=0;s<i;s++){const u=c.charAt(s),d=n.charAt(s);if(u!==d)return Cr(u)===Cr(d)?St(u,d):Cr(u)?1:-1}return St(c.length,n.length)}const Hn=55296,tr=57343;function Cr(c){const n=c.charCodeAt(0);return n>=Hn&&n<=tr}function Qr(c,n,i){return c.length===n.length&&c.every((s,u)=>i(s,n[u]))}const Oi="__name__";class or{constructor(n,i,s){void 0===i?i=0:i>n.length&&Dt(637,{offset:i,range:n.length}),void 0===s?s=n.length-i:s>n.length-i&&Dt(1746,{length:s,range:n.length-i}),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===or.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof or?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const d=or.compareSegments(n.get(u),i.get(u));if(0!==d)return d}return St(n.length,i.length)}static compareSegments(n,i){const s=or.isNumericId(n),u=or.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?or.extractNumericId(n).compare(or.extractNumericId(i)):Jn(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Be.fromString(n.substring(4,n.length-2))}}class ln extends or{construct(n,i,s){return new ln(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new Q(ve.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new ln(i)}static emptyPath(){return new ln([])}}const ii=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends or{construct(n,i,s){return new Wn(n,i,s)}static isValidIdentifier(n){return ii.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Oi}static keyField(){return new Wn([Oi])}static fromServerFormat(n){const i=[];let s="",u=0;const d=()=>{if(0===s.length)throw new Q(ve.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let m=!1;for(;u<n.length;){const T=n[u];if("\\"===T){if(u+1===n.length)throw new Q(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const C=n[u+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Q(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=C,u+=2}else"`"===T?(m=!m,u++):"."!==T||m?(s+=T,u++):(d(),u++)}if(d(),m)throw new Q(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Wn(i)}static emptyPath(){return new Wn([])}}class It{constructor(n){this.path=n}static fromPath(n){return new It(ln.fromString(n))}static fromName(n){return new It(ln.fromString(n).popFirst(5))}static empty(){return new It(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===ln.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return ln.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new It(new ln(n.slice()))}}function At(c,n,i){if(!i)throw new Q(ve.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function hi(c){if(!It.isDocumentKey(c))throw new Q(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function ut(c){if(It.isDocumentKey(c))throw new Q(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Ke(c){return"object"==typeof c&&null!==c&&(Object.getPrototypeOf(c)===Object.prototype||null===Object.getPrototypeOf(c))}function ge(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(s=c).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof c?"a function":Dt(12329,{type:typeof c})}function Ie(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new Q(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ge(c);throw new Q(ve.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}function dt(c,n){const i={typeString:c};return n&&(i.value=n),i}function sn(c,n){if(!Ke(c))throw new Q(ve.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in n)if(n[s]){const u=n[s].typeString,d="value"in n[s]?{value:n[s].value}:void 0;if(!(s in c)){i=`JSON missing required field: '${s}'`;break}const m=c[s];if(u&&typeof m!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(void 0!==d&&m!==d.value){i=`Expected '${s}' field to equal '${d.value}'`;break}}if(i)throw new Q(ve.INVALID_ARGUMENT,i);return!0}const xn=-62135596800;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(n){return Ut.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new Ut(i,s)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Q(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Q(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<xn)throw new Q(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Q(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?St(this.nanoseconds,n.nanoseconds):St(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(sn(n,Ut._jsonSchema))return new Ut(n.seconds,n.nanoseconds)}valueOf(){return String(this.seconds-xn).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ut._jsonSchemaVersion="firestore/timestamp/1.0",Ut._jsonSchema={type:dt("string",Ut._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};class Et{static fromTimestamp(n){return new Et(n)}static min(){return new Et(new Ut(0,0))}static max(){return new Et(new Ut(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rr{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new rr(Et.min(),It.empty(),-1)}static max(){return new rr(Et.max(),It.empty(),-1)}}function Vt(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=It.comparator(c.documentKey,n.documentKey),0!==i?i:St(c.largestBatchId,n.largestBatchId))}class sr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function _r(c){return fi.apply(this,arguments)}function fi(){return(fi=(0,R.A)(function*(c){if(c.code!==ve.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==c.message)throw c;je("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class we{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new we((s,u)=>{this.nextCallback=d=>{this.wrapSuccess(n,d).next(s,u)},this.catchCallback=d=>{this.wrapFailure(i,d).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof we?i:we.resolve(i)}catch(i){return we.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):we.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):we.reject(i)}static resolve(n){return new we((i,s)=>{i(n)})}static reject(n){return new we((i,s)=>{s(n)})}static waitFor(n){return new we((i,s)=>{let u=0,d=0,m=!1;n.forEach(T=>{++u,T.next(()=>{++d,m&&d===u&&i()},C=>s(C))}),m=!0,d===u&&i()})}static or(n){let i=we.resolve(!1);for(const s of n)i=i.next(u=>u?we.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,d)=>{s.push(i.call(this,u,d))}),this.waitFor(s)}static mapArray(n,i){return new we((s,u)=>{const d=n.length,m=new Array(d);let T=0;for(let C=0;C<d;C++){const P=C;i(n[P]).next(F=>{m[P]=F,++T,T===d&&s(m)},F=>u(F))}})}static doWhile(n,i){return new we((s,u)=>{const d=()=>{!0===n()?i().next(()=>{d()},u):s()};d()})}}function an(c){return"IndexedDbTransactionError"===c.name}let te=(()=>{class c{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ae(u),this.ue=u=>s.writeSequenceNumber(u))}ae(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ue&&this.ue(i),i}}return c.ce=-1,c})();function Ce(c){return null==c}function lt(c){return 0===c&&1/c==-1/0}function dn(c,n){let i=n;const s=c.length;for(let u=0;u<s;u++){const d=c.charAt(u);switch(d){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=d}}return i}function Sn(c){return c+"\x01\x01"}const jt="mutationQueues",br="mutations",Is="documentMutations",M="remoteDocumentGlobal",L="targets",qe="targetDocuments",zn="targetGlobal",Pn="collectionParents",qn="clientMetadata",ur="bundles",eo="namedQueries";function Ja(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function lo(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function Lc(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class $n{constructor(n,i){this.comparator=n,this.root=i||ir.EMPTY}insert(n,i){return new $n(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(n){return new $n(this.comparator,this.root.remove(n,this.comparator).copy(null,null,ir.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Su(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Su(this.root,n,this.comparator,!1)}getReverseIterator(){return new Su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Su(this.root,n,this.comparator,!0)}}class Su{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!n.isEmpty();)if(d=i?s(n.key,i):1,i&&u&&(d*=-1),d<0)n=this.isReverse?n.left:n.right;else{if(0===d){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class ir{constructor(n,i,s,u,d){this.key=n,this.value=i,this.color=s??ir.RED,this.left=u??ir.EMPTY,this.right=d??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,d){return new ir(n??this.key,i??this.value,s??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const d=s(n,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===d?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return ir.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw Dt(27949);return n+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1,ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(n,i,s,u,d){return this}insert(n,i,s){return new ir(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(n){this.comparator=n,this.data=new $n(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Gi(this.data.getIterator())}getIteratorFrom(n){return new Gi(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Qt)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,d=s.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Qt(this.comparator);return i.data=n,i}}class Gi{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rr{constructor(n){this.fields=n,n.sort(Wn.comparator)}static empty(){return new Rr([])}unionWith(n){let i=new Qt(Wn.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new Rr(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Qr(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class os extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new os("Invalid base64 string: "+d):d}}(n);return new nn(i)}static fromUint8Array(n){const i=function(u){let d="";for(let m=0;m<u.length;++m)d+=String.fromCharCode(u[m]);return d}(n);return new nn(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return St(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Zr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(c){if(Nt(!!c,39018),"string"==typeof c){let n=0;const i=Zr.exec(c);if(Nt(!!i,46558,{timestamp:c}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:Qn(c.seconds),nanos:Qn(c.nanos)}}function Qn(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function Ai(c){return"string"==typeof c?nn.fromBase64String(c):nn.fromUint8Array(c)}const Ru="server_timestamp",Ta="__type__",Li="__previous_value__",wa="__local_write_time__";function Ds(c){return(c?.mapValue?.fields||{})[Ta]?.stringValue===Ru}function Da(c){const n=c.mapValue.fields[Li];return Ds(n)?Da(n):n}function Ko(c){const n=Br(c.mapValue.fields[wa].timestampValue);return new Ut(n.seconds,n.nanos)}class Pu{constructor(n,i,s,u,d,m,T,C,P,F){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=T,this.longPollingOptions=C,this.useFetchStreams=P,this.isUsingEmulator=F}}const As="(default)";class Qo{constructor(n,i){this.projectId=n,this.database=i||As}static empty(){return new Qo("","")}get isDefaultDatabase(){return this.database===As}isEqual(n){return n instanceof Qo&&n.projectId===this.projectId&&n.database===this.database}}const Aa="__type__",jo="__max__",Co_mapValue={fields:{__type__:{stringValue:jo}}},Cs="__vector__",Wi="value";function bo(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Ds(c)?4:as(c)?9007199254740991:Ro(c)?10:11:Dt(28295,{value:c})}function Fi(c,n){if(c===n)return!0;const i=bo(c);if(i!==bo(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return Ko(c).isEqual(Ko(n));case 3:return function(u,d){if("string"==typeof u.timestampValue&&"string"==typeof d.timestampValue&&u.timestampValue.length===d.timestampValue.length)return u.timestampValue===d.timestampValue;const m=Br(u.timestampValue),T=Br(d.timestampValue);return m.seconds===T.seconds&&m.nanos===T.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return d=n,Ai(c.bytesValue).isEqual(Ai(d.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,d){return Qn(u.geoPointValue.latitude)===Qn(d.geoPointValue.latitude)&&Qn(u.geoPointValue.longitude)===Qn(d.geoPointValue.longitude)}(c,n);case 2:return function(u,d){if("integerValue"in u&&"integerValue"in d)return Qn(u.integerValue)===Qn(d.integerValue);if("doubleValue"in u&&"doubleValue"in d){const m=Qn(u.doubleValue),T=Qn(d.doubleValue);return m===T?lt(m)===lt(T):isNaN(m)&&isNaN(T)}return!1}(c,n);case 9:return Qr(c.arrayValue.values||[],n.arrayValue.values||[],Fi);case 10:case 11:return function(u,d){const m=u.mapValue.fields||{},T=d.mapValue.fields||{};if(Ja(m)!==Ja(T))return!1;for(const C in m)if(m.hasOwnProperty(C)&&(void 0===T[C]||!Fi(m[C],T[C])))return!1;return!0}(c,n);default:return Dt(52216,{left:c})}var d}function mi(c,n){return void 0!==(c.values||[]).find(i=>Fi(i,n))}function yi(c,n){if(c===n)return 0;const i=bo(c),s=bo(n);if(i!==s)return St(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(c.booleanValue,n.booleanValue);case 2:return function(d,m){const T=Qn(d.integerValue||d.doubleValue),C=Qn(m.integerValue||m.doubleValue);return T<C?-1:T>C?1:T===C?0:isNaN(T)?isNaN(C)?0:-1:1}(c,n);case 3:return Zs(c.timestampValue,n.timestampValue);case 4:return Zs(Ko(c),Ko(n));case 5:return Jn(c.stringValue,n.stringValue);case 6:return function(d,m){const T=Ai(d),C=Ai(m);return T.compareTo(C)}(c.bytesValue,n.bytesValue);case 7:return function(d,m){const T=d.split("/"),C=m.split("/");for(let P=0;P<T.length&&P<C.length;P++){const F=St(T[P],C[P]);if(0!==F)return F}return St(T.length,C.length)}(c.referenceValue,n.referenceValue);case 8:return function(d,m){const T=St(Qn(d.latitude),Qn(m.latitude));return 0!==T?T:St(Qn(d.longitude),Qn(m.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Rl(c.arrayValue,n.arrayValue);case 10:return function(d,m){const T=d.fields||{},C=m.fields||{},P=T[Wi]?.arrayValue,F=C[Wi]?.arrayValue,q=St(P?.values?.length||0,F?.values?.length||0);return 0!==q?q:Rl(P,F)}(c.mapValue,n.mapValue);case 11:return function(d,m){if(d===Co_mapValue&&m===Co_mapValue)return 0;if(d===Co_mapValue)return 1;if(m===Co_mapValue)return-1;const T=d.fields||{},C=Object.keys(T),P=m.fields||{},F=Object.keys(P);C.sort(),F.sort();for(let q=0;q<C.length&&q<F.length;++q){const de=Jn(C[q],F[q]);if(0!==de)return de;const ze=yi(T[C[q]],P[F[q]]);if(0!==ze)return ze}return St(C.length,F.length)}(c.mapValue,n.mapValue);default:throw Dt(23264,{he:i})}}function Zs(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return St(c,n);const i=Br(c),s=Br(n),u=St(i.seconds,s.seconds);return 0!==u?u:St(i.nanos,s.nanos)}function Rl(c,n){const i=c.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const d=yi(i[u],s[u]);if(d)return d}return St(i.length,s.length)}function ss(c){return Mu(c)}function Mu(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const s=Br(i);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?Ai(c.bytesValue).toBase64():"referenceValue"in c?It.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let s="[",u=!0;for(const d of i.values||[])u?u=!1:s+=",",s+=Mu(d);return s+"]"}(c.arrayValue):"mapValue"in c?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",d=!0;for(const m of s)d?d=!1:u+=",",u+=`${m}:${Mu(i.fields[m])}`;return u+"}"}(c.mapValue):Dt(61005,{value:c})}function Xo(c){switch(bo(c)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Da(c);return n?16+Xo(n):16;case 5:return 2*c.stringValue.length;case 6:return Ai(c.bytesValue).approximateByteSize();case 7:return c.referenceValue.length;case 9:return(c.arrayValue.values||[]).reduce((u,d)=>u+Xo(d),0);case 10:case 11:return function(s){let u=0;return lo(s.fields,(d,m)=>{u+=d.length+Xo(m)}),u}(c.mapValue);default:throw Dt(13486,{value:c})}}function So(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function ba(c){return!!c&&"integerValue"in c}function Ys(c){return!!c&&"arrayValue"in c}function Fc(c){return!!c&&"nullValue"in c}function bs(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function ho(c){return!!c&&"mapValue"in c}function Ro(c){return(c?.mapValue?.fields||{})[Aa]?.stringValue===Cs}function fo(c){if(c.geoPointValue)return{geoPointValue:{...c.geoPointValue}};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:{...c.timestampValue}};if(c.mapValue){const n={mapValue:{fields:{}}};return lo(c.mapValue.fields,(i,s)=>n.mapValue.fields[i]=fo(s)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=fo(c.arrayValue.values[i]);return n}return{...c}}function as(c){return(((c.mapValue||{}).fields||{}).__type__||{}).stringValue===jo}class ui{constructor(n){this.value=n}static empty(){return new ui({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!ho(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=fo(i)}setAll(n){let i=Wn.emptyPath(),s={},u=[];n.forEach((m,T)=>{if(!i.isImmediateParentOf(T)){const C=this.getFieldsMap(i);this.applyChanges(C,s,u),s={},u=[],i=T.popLast()}m?s[T.lastSegment()]=fo(m):u.push(T.lastSegment())});const d=this.getFieldsMap(i);this.applyChanges(d,s,u)}delete(n){const i=this.field(n.popLast());ho(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Fi(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];ho(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){lo(i,(u,d)=>n[u]=d);for(const u of s)delete n[u]}clone(){return new ui(fo(this.value))}}function Bc(c){const n=[];return lo(c.fields,(i,s)=>{const u=new Wn([i]);if(ho(s)){const d=Bc(s.mapValue).fields;if(0===d.length)n.push(u);else for(const m of d)n.push(u.child(m))}else n.push(u)}),new Rr(n)}class Pr{constructor(n,i,s,u,d,m,T){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=d,this.data=m,this.documentState=T}static newInvalidDocument(n){return new Pr(n,0,Et.min(),Et.min(),Et.min(),ui.empty(),0)}static newFoundDocument(n,i,s,u){return new Pr(n,1,i,Et.min(),s,u,0)}static newNoDocument(n,i){return new Pr(n,2,i,Et.min(),Et.min(),ui.empty(),0)}static newUnknownDocument(n,i){return new Pr(n,3,i,Et.min(),Et.min(),ui.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(Et.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Pr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $o{constructor(n,i){this.position=n,this.inclusive=i}}function jc(c,n,i){let s=0;for(let u=0;u<c.position.length;u++){const d=n[u],m=c.position[u];if(s=d.field.isKeyField()?It.comparator(It.fromName(m.referenceValue),i.key):yi(m,i.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function cs(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Fi(c.position[i],n.position[i]))return!1;return!0}class $c{constructor(n,i="asc"){this.field=n,this.dir=i}}function Za(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class Ya{}class Yt extends Ya{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new to(n,i,s):"array-contains"===i?new Rs(n,s):"in"===i?new Tr(n,s):"not-in"===i?new ls(n,s):"array-contains-any"===i?new Sa(n,s):new Yt(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new vn(n,s):new us(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&void 0===i.nullValue&&this.matchesComparison(yi(i,this.value)):null!==i&&bo(this.value)===bo(i)&&this.matchesComparison(yi(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ye extends Ya{constructor(n,i){super(),this.filters=n,this.op=i,this.Pe=null}static create(n,i){return new Ye(n,i)}matches(n){return yn(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yn(c){return"and"===c.op}function li(c){return function _i(c){for(const n of c.filters)if(n instanceof Ye)return!1;return!0}(c)&&yn(c)}function vi(c){if(c instanceof Yt)return c.field.canonicalString()+c.op.toString()+ss(c.value);if(li(c))return c.filters.map(n=>vi(n)).join(",");{const n=c.filters.map(i=>vi(i)).join(",");return`${c.op}(${n})`}}function ea(c,n){return c instanceof Yt?(s=c,(u=n)instanceof Yt&&s.op===u.op&&s.field.isEqual(u.field)&&Fi(s.value,u.value)):c instanceof Ye?function(s,u){return u instanceof Ye&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((d,m,T)=>d&&ea(m,u.filters[T]),!0)}(c,n):void Dt(19439);var s,u}function Mr(c){return c instanceof Yt?`${(i=c).field.canonicalString()} ${i.op} ${ss(i.value)}`:c instanceof Ye?function(i){return i.op.toString()+" {"+i.getFilters().map(Mr).join(" ,")+"}"}(c):"Filter";var i}class to extends Yt{constructor(n,i,s){super(n,i,s),this.key=It.fromName(s.referenceValue)}matches(n){const i=It.comparator(n.key,this.key);return this.matchesComparison(i)}}class vn extends Yt{constructor(n,i){super(n,"in",i),this.keys=ec(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class us extends Yt{constructor(n,i){super(n,"not-in",i),this.keys=ec(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function ec(c,n){return(n.arrayValue?.values||[]).map(i=>It.fromName(i.referenceValue))}class Rs extends Yt{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Ys(i)&&mi(i.arrayValue,this.value)}}class Tr extends Yt{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&mi(this.value.arrayValue,i)}}class ls extends Yt{constructor(n,i){super(n,"not-in",i)}matches(n){if(mi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&void 0===i.nullValue&&!mi(this.value.arrayValue,i)}}class Sa extends Yt{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Ys(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>mi(this.value.arrayValue,s))}}class Ps{constructor(n,i=null,s=[],u=[],d=null,m=null,T=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=d,this.startAt=m,this.endAt=T,this.Te=null}}function ds(c,n=null,i=[],s=[],u=null,d=null,m=null){return new Ps(c,n,i,s,u,d,m)}function Jo(c){const n=yt(c);if(null===n.Te){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>vi(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),Ce(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ss(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ss(s)).join(",")),n.Te=i}return n.Te}function Po(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!Za(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!ea(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!cs(c.startAt,n.startAt)&&cs(c.endAt,n.endAt)}function Mo(c){return It.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class Ht{constructor(n,i=null,s=[],u=[],d=null,m="F",T=null,C=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=d,this.limitType=m,this.startAt=T,this.endAt=C,this.Ie=null,this.Ee=null,this.de=null}}function qi(c){return new Ht(c)}function Zo(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function tc(c){return null!==c.collectionGroup}function Yo(c){const n=yt(c);if(null===n.Ie){n.Ie=[];const i=new Set;for(const d of n.explicitOrderBy)n.Ie.push(d),i.add(d.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let T=new Qt(Wn.comparator);return m.filters.forEach(C=>{C.getFlattenedFilters().forEach(P=>{P.isInequality()&&(T=T.add(P.field))})}),T})(n).forEach(d=>{i.has(d.canonicalString())||d.isKeyField()||n.Ie.push(new $c(d,s))}),i.has(Wn.keyField().canonicalString())||n.Ie.push(new $c(Wn.keyField(),s))}return n.Ie}function kn(c){const n=yt(c);return n.Ee||(n.Ee=function ei(c,n){if("F"===c.limitType)return ds(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new $c(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new $o(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new $o(c.startAt.position,c.startAt.inclusive):null;return ds(c.path,c.collectionGroup,n,c.filters,c.limit,i,s)}}(n,Yo(c))),n.Ee}function Ra(c,n){const i=c.filters.concat([n]);return new Ht(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function po(c,n,i){return new Ht(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function na(c,n){return Po(kn(c),kn(n))&&c.limitType===n.limitType}function Ki(c){return`${Jo(kn(c))}|lt:${c.limitType}`}function go(c){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Mr(u)).join(", ")}]`),Ce(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>ss(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>ss(u)).join(",")),`Target(${s})`}(kn(c))}; limitType=${c.limitType})`}function nc(c,n){return n.isFoundDocument()&&function(s,u){const d=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):It.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(c,n)&&function(s,u){for(const d of Yo(s))if(!d.field.isKeyField()&&null===u.data.field(d.field))return!1;return!0}(c,n)&&function(s,u){for(const d of s.filters)if(!d.matches(u))return!1;return!0}(c,n)&&(u=n,!((s=c).startAt&&!function(m,T,C){const P=jc(m,T,C);return m.inclusive?P<=0:P<0}(s.startAt,Yo(s),u)||s.endAt&&!function(m,T,C){const P=jc(m,T,C);return m.inclusive?P>=0:P>0}(s.endAt,Yo(s),u)));var s,u}function Ci(c){return(n,i)=>{let s=!1;for(const u of Yo(c)){const d=rc(u,n,i);if(0!==d)return d;s=s||u.field.isKeyField()}return 0}}function rc(c,n,i){const s=c.field.isKeyField()?It.comparator(n.key,i.key):function(d,m,T){const C=m.data.field(d),P=T.data.field(d);return null!==C&&null!==P?yi(C,P):Dt(42886)}(c.field,n,i);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return Dt(19790,{direction:c.dir})}}class Ms{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,d]of s)if(this.equalsFn(u,n))return d}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],n))return void(u[d]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){lo(this.inner,(i,s)=>{for(const[u,d]of s)n(u,d)})}isEmpty(){return Lc(this.inner)}size(){return this.innerSize}}const Ns=new $n(It.comparator);function Qi(){return Ns}const Gd=new $n(It.comparator);function Gc(...c){let n=Gd;for(const i of c)n=n.insert(i.key,i);return n}function Wd(c){let n=Gd;return c.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function No(){return oc()}function ic(){return oc()}function oc(){return new Ms(c=>c.toString(),(c,n)=>c.isEqual(n))}const Wc=new $n(It.comparator),Ml=new Qt(It.comparator);function Ln(...c){let n=Ml;for(const i of c)n=n.add(i);return n}const xf=new Qt(St);function sc(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lt(n)?"-0":n}}function Of(c){return{integerValue:""+c}}function kf(c,n){return function Ft(c){return"number"==typeof c&&Number.isInteger(c)&&!lt(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}(n)?Of(n):sc(c,n)}class Nl{constructor(){this._=void 0}}function Lf(c,n,i){return c instanceof hs?function(u,d){const m={fields:{[Ta]:{stringValue:Ru},[wa]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return d&&Ds(d)&&(d=Da(d)),d&&(m.fields[Li]=d),{mapValue:m}}(i,n):c instanceof ra?kl(c,n):c instanceof es?Nu(c,n):function(u,d){const m=Ol(u,d),T=_(m)+_(u.Ae);return ba(m)&&ba(u.Ae)?Of(T):sc(u.serializer,T)}(c,n)}function xl(c,n,i){return c instanceof ra?kl(c,n):c instanceof es?Nu(c,n):i}function Ol(c,n){return c instanceof Nr?ba(s=n)||(d=s)&&"doubleValue"in d?n:{integerValue:0}:null;var s,d}class hs extends Nl{}class ra extends Nl{constructor(n){super(),this.elements=n}}function kl(c,n){const i=D(n);for(const s of c.elements)i.some(u=>Fi(u,s))||i.push(s);return{arrayValue:{values:i}}}class es extends Nl{constructor(n){super(),this.elements=n}}function Nu(c,n){let i=D(n);for(const s of c.elements)i=i.filter(u=>!Fi(u,s));return{arrayValue:{values:i}}}class Nr extends Nl{constructor(n,i){super(),this.serializer=n,this.Ae=i}}function _(c){return Qn(c.integerValue||c.doubleValue)}function D(c){return Ys(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class N{constructor(n,i){this.version=n,this.transformResults=i}}class V{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new V}static exists(n){return new V(void 0,n)}static updateTime(n){return new V(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function j(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class ye{}function ke(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new xs(c.key,V.none()):new lr(c.key,c.data,V.none());{const i=c.data,s=ui.empty();let u=new Qt(Wn.comparator);for(let d of n.fields)if(!u.has(d)){let m=i.field(d);null===m&&d.length>1&&(d=d.popLast(),m=i.field(d)),null===m?s.delete(d):s.set(d,m),u=u.add(d)}return new $r(c.key,s,new Rr(u.toArray()),V.none())}}function Ct(c,n,i){c instanceof lr?function(u,d,m){const T=u.value.clone(),C=ts(u.fieldTransforms,d,m.transformResults);T.setAll(C),d.convertToFoundDocument(m.version,T).setHasCommittedMutations()}(c,n,i):c instanceof $r?function(u,d,m){if(!j(u.precondition,d))return void d.convertToUnknownDocument(m.version);const T=ts(u.fieldTransforms,d,m.transformResults),C=d.data;C.setAll(mo(u)),C.setAll(T),d.convertToFoundDocument(m.version,C).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function _n(c,n,i,s){return c instanceof lr?function(d,m,T,C){if(!j(d.precondition,m))return T;const P=d.value.clone(),F=xi(d.fieldTransforms,C,m);return P.setAll(F),m.convertToFoundDocument(m.version,P).setHasLocalMutations(),null}(c,n,i,s):c instanceof $r?function(d,m,T,C){if(!j(d.precondition,m))return T;const P=xi(d.fieldTransforms,C,m),F=m.data;return F.setAll(mo(d)),F.setAll(P),m.convertToFoundDocument(m.version,F).setHasLocalMutations(),null===T?null:T.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(q=>q.field))}(c,n,i,s):(T=i,j(c.precondition,m=n)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):T);var m,T}function dr(c,n){let i=null;for(const s of c.fieldTransforms){const u=n.data.field(s.field),d=Ol(s.transform,u||null);null!=d&&(null===i&&(i=ui.empty()),i.set(s.field,d))}return i||null}function Vi(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&Qr(s,u,(d,m)=>function A(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(s=c.transform)instanceof ra&&u instanceof ra||s instanceof es&&u instanceof es?Qr(s.elements,u.elements,Fi):s instanceof Nr&&u instanceof Nr?Fi(s.Ae,u.Ae):s instanceof hs&&u instanceof hs);var s,u}(d,m))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var s,u}class lr extends ye{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class $r extends ye{constructor(n,i,s,u,d=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function mo(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=c.data.field(i);n.set(i,s)}}),n}function ts(c,n,i){const s=new Map;Nt(c.length===i.length,32656,{Re:i.length,Ve:c.length});for(let u=0;u<i.length;u++){const d=c[u],m=d.transform,T=n.data.field(d.field);s.set(d.field,xl(m,T,i[u]))}return s}function xi(c,n,i){const s=new Map;for(const u of c){const d=u.transform,m=i.data.field(u.field);s.set(u.field,Lf(d,m,n))}return s}class xs extends ye{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Os extends ye{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ll{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(n.key)&&Ct(d,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=_n(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=_n(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=ic();return this.mutations.forEach(u=>{const d=n.get(u.key),m=d.overlayedDocument;let T=this.applyToLocalView(m,d.mutatedFields);T=i.has(u.key)?null:T;const C=ke(m,T);null!==C&&s.set(u.key,C),m.isValidDocument()||m.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Ln())}isEqual(n){return this.batchId===n.batchId&&Qr(this.mutations,n.mutations,(i,s)=>Vi(i,s))&&Qr(this.baseMutations,n.baseMutations,(i,s)=>Vi(i,s))}}class Kc{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Nt(n.mutations.length===s.length,58842,{me:n.mutations.length,fe:s.length});let u=function(){return Wc}();const d=n.mutations;for(let m=0;m<d.length;m++)u=u.insert(d[m].key,s[m].version);return new Kc(n,i,s,u)}}class xu{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fl{constructor(n,i){this.count=n,this.unchangedNames=i}}var di,Fn;function Ul(c){if(void 0===c)return en("GRPC error has no .code"),ve.UNKNOWN;switch(c){case di.OK:return ve.OK;case di.CANCELLED:return ve.CANCELLED;case di.UNKNOWN:return ve.UNKNOWN;case di.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case di.INTERNAL:return ve.INTERNAL;case di.UNAVAILABLE:return ve.UNAVAILABLE;case di.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case di.NOT_FOUND:return ve.NOT_FOUND;case di.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case di.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case di.ABORTED:return ve.ABORTED;case di.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case di.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case di.DATA_LOSS:return ve.DATA_LOSS;default:return Dt(39323,{code:c})}}(Fn=di||(di={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";const Ma=new Be([4294967295,4294967295],0);function Bl(c){const n=function Mn(){return new TextEncoder}().encode(c),i=new ct;return i.update(n),new Uint8Array(i.digest())}function Kd(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),d=n.getUint32(12,!0);return[new Be([i,s],0),new Be([u,d],0)]}class Qd{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ac(`Invalid padding: ${i}`);if(s<0)throw new ac(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new ac(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new ac(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*n.length-i,this.pe=Be.fromNumber(this.ge)}ye(n,i,s){let u=n.add(i.multiply(Be.fromNumber(s)));return 1===u.compare(Ma)&&(u=new Be([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.ge)return!1;const i=Bl(n),[s,u]=Kd(i);for(let d=0;d<this.hashCount;d++){const m=this.ye(s,u,d);if(!this.we(m))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,d=new Uint8Array(Math.ceil(n/8)),m=new Qd(d,u,i);return s.forEach(T=>m.insert(T)),m}insert(n){if(0===this.ge)return;const i=Bl(n),[s,u]=Kd(i);for(let d=0;d<this.hashCount;d++){const m=this.ye(s,u,d);this.Se(m)}}Se(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jl{constructor(n,i,s,u,d){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,ia.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new jl(Et.min(),u,new $n(St),Qi(),Ln())}}class ia{constructor(n,i,s,u,d){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new ia(s,i,Ln(),Ln(),Ln())}}class oa{constructor(n,i,s,u){this.be=n,this.removedTargetIds=i,this.key=s,this.De=u}}class $l{constructor(n,i){this.targetId=n,this.Ce=i}}class Rg{constructor(n,i,s=nn.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Hl{constructor(){this.ve=0,this.Fe=Qe(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(n){n.approximateByteSize()>0&&(this.Oe=!0,this.Me=n)}ke(){let n=Ln(),i=Ln(),s=Ln();return this.Fe.forEach((u,d)=>{switch(d){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Dt(38017,{changeType:d})}}),new ia(this.Me,this.xe,n,i,s)}qe(){this.Oe=!1,this.Fe=Qe()}Qe(n,i){this.Oe=!0,this.Fe=this.Fe.insert(n,i)}$e(n){this.Oe=!0,this.Fe=this.Fe.remove(n)}Ue(){this.ve+=1}Ke(){this.ve-=1,Nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Xd{constructor(n){this.Ge=n,this.ze=new Map,this.je=Qi(),this.Je=Qc(),this.He=Qc(),this.Ye=new $n(St)}Ze(n){for(const i of n.be)n.De&&n.De.isFoundDocument()?this.Xe(i,n.De):this.et(i,n.key,n.De);for(const i of n.removedTargetIds)this.et(i,n.key,n.De)}tt(n){this.forEachTarget(n,i=>{const s=this.nt(i);switch(n.state){case 0:this.rt(i)&&s.Le(n.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(n.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(n.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(n.resumeToken));break;default:Dt(56790,{state:n.state})}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.ze.forEach((s,u)=>{this.rt(u)&&i(u)})}st(n){const i=n.targetId,s=n.Ce.count,u=this.ot(i);if(u){const d=u.target;if(Mo(d))if(0===s){const m=new It(d.path);this.et(i,m,Pr.newNoDocument(m,Et.min()))}else Nt(1===s,20013,{expectedCount:s});else{const m=this._t(i);if(m!==s){const T=this.ut(n),C=T?this.ct(T,n,m):1;0!==C&&(this.it(i),this.Ye=this.Ye.insert(i,2===C?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ut(n){const i=n.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:d=0}=i;let m,T;try{m=Ai(s).toUint8Array()}catch(C){if(C instanceof os)return Bn("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw C}try{T=new Qd(m,u,d)}catch(C){return Bn(C instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",C),null}return 0===T.ge?null:T}ct(n,i,s){return i.Ce.count===s-this.Pt(n,i.targetId)?0:2}Pt(n,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach(d=>{const m=this.Ge.ht(),T=`projects/${m.projectId}/databases/${m.database}/documents/${d.path.canonicalString()}`;n.mightContain(T)||(this.et(i,d,null),u++)}),u}Tt(n){const i=new Map;this.ze.forEach((d,m)=>{const T=this.ot(m);if(T){if(d.current&&Mo(T.target)){const C=new It(T.target.path);this.It(C).has(m)||this.Et(m,C)||this.et(m,C,Pr.newNoDocument(C,n))}d.Be&&(i.set(m,d.ke()),d.qe())}});let s=Ln();this.He.forEach((d,m)=>{let T=!0;m.forEachWhile(C=>{const P=this.ot(C);return!P||"TargetPurposeLimboResolution"===P.purpose||(T=!1,!1)}),T&&(s=s.add(d))}),this.je.forEach((d,m)=>m.setReadTime(n));const u=new jl(n,i,this.Ye,this.je,s);return this.je=Qi(),this.Je=Qc(),this.He=Qc(),this.Ye=new $n(St),u}Xe(n,i){if(!this.rt(n))return;const s=this.Et(n,i.key)?2:0;this.nt(n).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(n)),this.He=this.He.insert(i.key,this.dt(i.key).add(n))}et(n,i,s){if(!this.rt(n))return;const u=this.nt(n);this.Et(n,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(n)),this.He=this.He.insert(i,this.dt(i).add(n)),s&&(this.je=this.je.insert(i,s))}removeTarget(n){this.ze.delete(n)}_t(n){const i=this.nt(n).ke();return this.Ge.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Ue(n){this.nt(n).Ue()}nt(n){let i=this.ze.get(n);return i||(i=new Hl,this.ze.set(n,i)),i}dt(n){let i=this.He.get(n);return i||(i=new Qt(St),this.He=this.He.insert(n,i)),i}It(n){let i=this.Je.get(n);return i||(i=new Qt(St),this.Je=this.Je.insert(n,i)),i}rt(n){const i=null!==this.ot(n);return i||je("WatchChangeAggregator","Detected inactive target",n),i}ot(n){const i=this.ze.get(n);return i&&i.Ne?null:this.Ge.At(n)}it(n){this.ze.set(n,new Hl),this.Ge.getRemoteKeysForTarget(n).forEach(i=>{this.et(n,i,null)})}Et(n,i){return this.Ge.getRemoteKeysForTarget(n).has(i)}}function Qc(){return new $n(It.comparator)}function Qe(){return new $n(It.comparator)}const Dn={asc:"ASCENDING",desc:"DESCENDING"},zl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gl={and:"AND",or:"OR"};class Kn{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function ks(c,n){return c.useProto3Json||Ce(n)?n:{value:n}}function ns(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function rs(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function Jd(c,n){return ns(c,n.toTimestamp())}function ti(c){return Nt(!!c,49232),Et.fromTimestamp(function(i){const s=Br(i);return new Ut(s.seconds,s.nanos)}(c))}function Xc(c,n){return Ff(c,n).canonicalString()}function Ff(c,n){const i=(u=c,new ln(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function Hy(c){const n=ln.fromString(c);return Nt(Vs(n),10190,{key:n.toString()}),n}function Ou(c,n){return Xc(c.databaseId,n.path)}function zo(c,n){const i=Hy(n);if(i.get(1)!==c.databaseId.projectId)throw new Q(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new Q(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new It(ku(i))}function Wl(c,n){return Xc(c.databaseId,n)}function Ls(c){return new ln(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function ku(c){return Nt(c.length>4&&"documents"===c.get(4),29091,{key:c.toString()}),c.popFirst(5)}function yo(c,n,i){return{name:Ou(c,n),fields:i.value.mapValue.fields}}function Jc(c,n){return{documents:[Wl(c,n.path)]}}function Bu(c,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Wl(c,u);const d=function(P){if(0!==P.length)return Mg(Ye.create(P,"and"))}(n.filters);d&&(i.structuredQuery.where=d);const m=function(P){if(0!==P.length)return P.map(F=>{return{field:sa((de=F).field),direction:Uf(de.dir)};var de})}(n.orderBy);m&&(i.structuredQuery.orderBy=m);const T=ks(c,n.limit);return null!==T&&(i.structuredQuery.limit=T),n.startAt&&(i.structuredQuery.startAt={before:(P=n.startAt).inclusive,values:P.position}),n.endAt&&(i.structuredQuery.endAt=function(P){return{before:!P.inclusive,values:P.position}}(n.endAt)),{ft:i,parent:u};var P}function Zd(c){let n=function Ui(c){const n=Hy(c);return 4===n.length?ln.emptyPath():ku(n)}(c.parent);const i=c.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Nt(1===s,65062);const F=i.from[0];F.allDescendants?u=F.collectionId:n=n.child(F.collectionId)}let d=[];i.where&&(d=function(q){const de=eh(q);return de instanceof Ye&&li(de)?de.getFilters():[de]}(i.where));let m=[];i.orderBy&&(m=i.orderBy.map(de=>{return new $c(Fs((tt=de).field),function(_t){switch(_t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction));var tt}));let T=null;i.limit&&(T=function(q){let de;return de="object"==typeof q?q.value:q,Ce(de)?null:de}(i.limit));let C=null;var q;i.startAt&&(C=new $o((q=i.startAt).values||[],!!q.before));let P=null;return i.endAt&&(P=function(q){return new $o(q.values||[],!q.before)}(i.endAt)),function Hc(c,n,i,s,u,d,m,T){return new Ht(c,n,i,s,u,d,m,T)}(n,u,m,d,T,"F",C,P)}function eh(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Fs(i.unaryFilter.field);return Yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Fs(i.unaryFilter.field);return Yt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Fs(i.unaryFilter.field);return Yt.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Fs(i.unaryFilter.field);return Yt.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}}(c):void 0!==c.fieldFilter?Yt.create(Fs((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Ye.create(i.compositeFilter.filters.map(s=>eh(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}}(i.compositeFilter.op))}(c):Dt(30097,{filter:c});var i}function Uf(c){return Dn[c]}function ql(c){return zl[c]}function Pg(c){return Gl[c]}function sa(c){return{fieldPath:c.canonicalString()}}function Fs(c){return Wn.fromServerFormat(c.fieldPath)}function Mg(c){return c instanceof Yt?function(i){if("=="===i.op){if(bs(i.value))return{unaryFilter:{field:sa(i.field),op:"IS_NAN"}};if(Fc(i.value))return{unaryFilter:{field:sa(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(bs(i.value))return{unaryFilter:{field:sa(i.field),op:"IS_NOT_NAN"}};if(Fc(i.value))return{unaryFilter:{field:sa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(i.field),op:ql(i.op),value:i.value}}}(c):c instanceof Ye?function(i){const s=i.getFilters().map(u=>Mg(u));return 1===s.length?s[0]:{compositeFilter:{op:Pg(i.op),filters:s}}}(c):Dt(54877,{filter:c})}function Xi(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Vs(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Yn{constructor(n,i,s,u,d=Et.min(),m=Et.min(),T=nn.EMPTY_BYTE_STRING,C=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=T,this.expectedCount=C}withSequenceNumber(n){return new Yn(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Kl{constructor(n){this.yt=n}}function Zc(c){const n=Zd({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?po(n,n.limit,"L"):n}class ua{constructor(){}Dt(n,i){this.Ct(n,i),i.vt()}Ct(n,i){if("nullValue"in n)this.Ft(i,5);else if("booleanValue"in n)this.Ft(i,10),i.Mt(n.booleanValue?1:0);else if("integerValue"in n)this.Ft(i,15),i.Mt(Qn(n.integerValue));else if("doubleValue"in n){const s=Qn(n.doubleValue);isNaN(s)?this.Ft(i,13):(this.Ft(i,15),lt(s)?i.Mt(0):i.Mt(s))}else if("timestampValue"in n){let s=n.timestampValue;this.Ft(i,20),"string"==typeof s&&(s=Br(s)),i.xt(`${s.seconds||""}`),i.Mt(s.nanos||0)}else if("stringValue"in n)this.Ot(n.stringValue,i),this.Nt(i);else if("bytesValue"in n)this.Ft(i,30),i.Bt(Ai(n.bytesValue)),this.Nt(i);else if("referenceValue"in n)this.Lt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.Ft(i,45),i.Mt(s.latitude||0),i.Mt(s.longitude||0)}else"mapValue"in n?as(n)?this.Ft(i,Number.MAX_SAFE_INTEGER):Ro(n)?this.kt(n.mapValue,i):(this.qt(n.mapValue,i),this.Nt(i)):"arrayValue"in n?(this.Qt(n.arrayValue,i),this.Nt(i)):Dt(19022,{$t:n})}Ot(n,i){this.Ft(i,25),this.Ut(n,i)}Ut(n,i){i.xt(n)}qt(n,i){const s=n.fields||{};this.Ft(i,55);for(const u of Object.keys(s))this.Ot(u,i),this.Ct(s[u],i)}kt(n,i){const s=n.fields||{};this.Ft(i,53);const u=Wi,d=s[u].arrayValue?.values?.length||0;this.Ft(i,15),i.Mt(Qn(d)),this.Ot(u,i),this.Ct(s[u],i)}Qt(n,i){const s=n.values||[];this.Ft(i,50);for(const u of s)this.Ct(u,i)}Lt(n,i){this.Ft(i,37),It.fromName(n).path.forEach(s=>{this.Ft(i,60),this.Ut(s,i)})}Ft(n,i){n.Mt(i)}Nt(n){n.Mt(2)}}ua.Kt=new ua;class iu{constructor(){this.Cn=new Gu}addToCollectionParentIndex(n,i){return this.Cn.add(i),we.resolve()}getCollectionParents(n,i){return we.resolve(this.Cn.getEntries(i))}addFieldIndex(n,i){return we.resolve()}deleteFieldIndex(n,i){return we.resolve()}deleteAllFieldIndexes(n){return we.resolve()}createTargetIndexes(n,i){return we.resolve()}getDocumentsMatchingTarget(n,i){return we.resolve(null)}getIndexType(n,i){return we.resolve(0)}getFieldIndexes(n,i){return we.resolve([])}getNextCollectionGroupToUpdate(n){return we.resolve(null)}getMinOffset(n,i){return we.resolve(rr.min())}getMinOffsetFromCollectionGroup(n,i){return we.resolve(rr.min())}updateCollectionGroup(n,i,s){return we.resolve()}updateIndexEntries(n,i){return we.resolve()}}class Gu{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new Qt(ln.comparator),d=!u.has(s);return this.index[i]=u.add(s),d}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new Qt(ln.comparator)).toArray()}}new Uint8Array(0);const ch={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ii{static withCacheSize(n){return new Ii(n,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);class La{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new La(0)}static cr(){return new La(-1)}}const g="LruGarbageCollector";function k([c,n],[i,s]){const u=St(c,i);return 0===u?St(n,s):u}class Z{constructor(n){this.Ir=n,this.buffer=new Qt(k),this.Er=0}dr(){return++this.Er}Ar(n){const i=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();k(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ee{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(n){var i=this;je(g,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,R.A)(function*(){i.Rr=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){an(s)?je(g,"Ignoring IndexedDB error during garbage collection: ",s):yield _r(s)}yield i.Vr(3e5)}))}}class $e{constructor(n,i){this.mr=n,this.params=i}calculateTargetCount(n,i){return this.mr.gr(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return we.resolve(te.ce);const s=new Z(i);return this.mr.forEachTarget(n,u=>s.Ar(u.sequenceNumber)).next(()=>this.mr.pr(n,u=>s.Ar(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.mr.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.mr.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(ch)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ch):this.yr(n,i))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,i){let s,u,d,m,T,C,P;const F=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(q=>(q>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${q}`),u=this.params.maximumSequenceNumbersToCollect):u=q,m=Date.now(),this.nthSequenceNumber(n,u))).next(q=>(s=q,T=Date.now(),this.removeTargets(n,s,i))).next(q=>(d=q,C=Date.now(),this.removeOrphanedDocuments(n,s))).next(q=>(P=Date.now(),Te()<=oe.$b.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-F}ms\n\tDetermined least recently used ${u} in `+(T-m)+`ms\n\tRemoved ${d} targets in `+(C-T)+`ms\n\tRemoved ${q} documents in `+(P-C)+`ms\nTotal Duration: ${P-F}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:q})))}}class fn{constructor(){this.changes=new Ms(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,Pr.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?we.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class _I{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class vI{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&_n(s.mutation,u,Rr.empty(),Ut.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,Ln()).next(()=>s))}getLocalViewOfDocuments(n,i,s=Ln()){const u=No();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(d=>{let m=Gc();return d.forEach((T,C)=>{m=m.insert(T,C.overlayedDocument)}),m}))}getOverlayedDocuments(n,i){const s=No();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,Ln()))}populateOverlays(n,i,s){const u=[];return s.forEach(d=>{i.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(n,u).next(d=>{d.forEach((m,T)=>{i.set(m,T)})})}computeViews(n,i,s,u){let d=Qi();const m=oc(),T=oc();return i.forEach((C,P)=>{const F=s.get(P.key);u.has(P.key)&&(void 0===F||F.mutation instanceof $r)?d=d.insert(P.key,P):void 0!==F?(m.set(P.key,F.mutation.getFieldMask()),_n(F.mutation,P,F.mutation.getFieldMask(),Ut.now())):m.set(P.key,Rr.empty())}),this.recalculateAndSaveOverlays(n,d).next(C=>(C.forEach((P,F)=>m.set(P,F)),i.forEach((P,F)=>T.set(P,new _I(F,m.get(P)??null))),T))}recalculateAndSaveOverlays(n,i){const s=oc();let u=new $n((m,T)=>m-T),d=Ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(m=>{for(const T of m)T.keys().forEach(C=>{const P=i.get(C);if(null===P)return;let F=s.get(C)||Rr.empty();F=T.applyToLocalView(P,F),s.set(C,F);const q=(u.get(T.batchId)||Ln()).add(C);u=u.insert(T.batchId,q)})}).next(()=>{const m=[],T=u.getReverseIterator();for(;T.hasNext();){const C=T.getNext(),P=C.key,F=C.value,q=ic();F.forEach(de=>{if(!d.has(de)){const ze=ke(i.get(de),s.get(de));null!==ze&&q.set(de,ze),d=d.add(de)}}),m.push(this.documentOverlayCache.saveOverlays(n,P,q))}return we.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return It.isDocumentKey((m=i).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):tc(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var m}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(d=>{const m=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-d.size):we.resolve(No());let T=-1,C=d;return m.next(P=>we.forEach(P,(F,q)=>(T<q.largestBatchId&&(T=q.largestBatchId),d.get(F)?we.resolve():this.remoteDocumentCache.getEntry(n,F).next(de=>{C=C.insert(F,de)}))).next(()=>this.populateOverlays(n,P,d)).next(()=>this.computeViews(n,C,P,Ln())).next(F=>({batchId:T,changes:Wd(F)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new It(i)).next(s=>{let u=Gc();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const d=i.collectionGroup;let m=Gc();return this.indexManager.getCollectionParents(n,d).next(T=>we.forEach(T,C=>{const P=(q=i,de=C.child(d),new Ht(de,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,de;return this.getDocumentsMatchingCollectionQuery(n,P,s,u).next(F=>{F.forEach((q,de)=>{m=m.insert(q,de)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(n,i,s,u){let d;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(m=>(d=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,d,u))).next(m=>{d.forEach((C,P)=>{const F=P.getKey();null===m.get(F)&&(m=m.insert(F,Pr.newInvalidDocument(F)))});let T=Gc();return m.forEach((C,P)=>{const F=d.get(C);void 0!==F&&_n(F.mutation,P,Rr.empty(),Ut.now()),nc(i,P)&&(T=T.insert(C,P))}),T})}}class Wy{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,i){return we.resolve(this.Lr.get(i))}saveBundleMetadata(n,i){return this.Lr.set(i.id,{id:(u=i).id,version:u.version,createTime:ti(u.createTime)}),we.resolve();var u}getNamedQuery(n,i){return we.resolve(this.kr.get(i))}saveNamedQuery(n,i){return this.kr.set(i.name,{name:(u=i).name,query:Zc(u.bundledQuery),readTime:ti(u.readTime)}),we.resolve();var u}}class Ua{constructor(){this.overlays=new $n(It.comparator),this.qr=new Map}getOverlay(n,i){return we.resolve(this.overlays.get(i))}getOverlays(n,i){const s=No();return we.forEach(i,u=>this.getOverlay(n,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,d)=>{this.St(n,i,d)}),we.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.qr.get(s);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.qr.delete(s)),we.resolve()}getOverlaysForCollection(n,i,s){const u=No(),d=i.length+1,m=new It(i.child("")),T=this.overlays.getIteratorFrom(m);for(;T.hasNext();){const C=T.getNext().value,P=C.getKey();if(!i.isPrefixOf(P.path))break;P.path.length===d&&C.largestBatchId>s&&u.set(C.getKey(),C)}return we.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let d=new $n((P,F)=>P-F);const m=this.overlays.getIterator();for(;m.hasNext();){const P=m.getNext().value;if(P.getKey().getCollectionGroup()===i&&P.largestBatchId>s){let F=d.get(P.largestBatchId);null===F&&(F=No(),d=d.insert(P.largestBatchId,F)),F.set(P.getKey(),P)}}const T=No(),C=d.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((P,F)=>T.set(P,F)),!(T.size()>=u)););return we.resolve(T)}St(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const m=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new xu(i,s));let d=this.qr.get(i);void 0===d&&(d=Ln(),this.qr.set(i,d)),this.qr.set(i,d.add(s.key))}}class qy{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(n){return we.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,we.resolve()}}class Og{constructor(){this.Qr=new Qt(qr.$r),this.Ur=new Qt(qr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,i){const s=new qr(n,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.Gr(new qr(n,i))}zr(n,i){n.forEach(s=>this.removeReference(s,i))}jr(n){const i=new It(new ln([])),s=new qr(i,n),u=new qr(i,n+1),d=[];return this.Ur.forEachInRange([s,u],m=>{this.Gr(m),d.push(m.key)}),d}Jr(){this.Qr.forEach(n=>this.Gr(n))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const i=new It(new ln([])),s=new qr(i,n),u=new qr(i,n+1);let d=Ln();return this.Ur.forEachInRange([s,u],m=>{d=d.add(m.key)}),d}containsKey(n){const i=new qr(n,0),s=this.Qr.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class qr{constructor(n,i){this.key=n,this.Yr=i}static $r(n,i){return It.comparator(n.key,i.key)||St(n.Yr,i.Yr)}static Kr(n,i){return St(n.Yr,i.Yr)||It.comparator(n.key,i.key)}}class hh{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(qr.$r)}checkEmpty(n){return we.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const d=this.tr;this.tr++;const m=new Ll(d,i,s,u);this.mutationQueue.push(m);for(const T of u)this.Zr=this.Zr.add(new qr(T.key,d)),this.indexManager.addToCollectionParentIndex(n,T.key.path.popLast());return we.resolve(m)}lookupMutationBatch(n,i){return we.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.ei(i+1),d=u<0?0:u;return we.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(n){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new qr(i,0),u=new qr(i,Number.POSITIVE_INFINITY),d=[];return this.Zr.forEachInRange([s,u],m=>{const T=this.Xr(m.Yr);d.push(T)}),we.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Qt(St);return i.forEach(u=>{const d=new qr(u,0),m=new qr(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([d,m],T=>{s=s.add(T.Yr)})}),we.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let d=s;It.isDocumentKey(d)||(d=d.child(""));const m=new qr(new It(d),0);let T=new Qt(St);return this.Zr.forEachWhile(C=>{const P=C.key.path;return!!s.isPrefixOf(P)&&(P.length===u&&(T=T.add(C.Yr)),!0)},m),we.resolve(this.ti(T))}ti(n){const i=[];return n.forEach(s=>{const u=this.Xr(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Nt(0===this.ni(i.batchId,"removed"),55003),this.mutationQueue.shift();let s=this.Zr;return we.forEach(i.mutations,u=>{const d=new qr(u.key,i.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.Zr=s})}ir(n){}containsKey(n,i){const s=new qr(i,0),u=this.Zr.firstAfterOrEqual(s);return we.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return we.resolve()}ni(n,i){return this.ei(n)}ei(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Xr(n){const i=this.ei(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class hw{constructor(n){this.ri=n,this.docs=new $n(It.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),d=u?u.size:0,m=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return we.resolve(s?s.document.mutableCopy():Pr.newInvalidDocument(i))}getEntries(n,i){let s=Qi();return i.forEach(u=>{const d=this.docs.get(u);s=s.insert(u,d?d.document.mutableCopy():Pr.newInvalidDocument(u))}),we.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let d=Qi();const m=i.path,T=new It(m.child("__id-9223372036854775808__")),C=this.docs.getIteratorFrom(T);for(;C.hasNext();){const{key:P,value:{document:F}}=C.getNext();if(!m.isPrefixOf(P.path))break;P.path.length>m.length+1||Vt(new rr((c=F).readTime,c.key,-1),s)<=0||(u.has(F.key)||nc(i,F))&&(d=d.insert(F.key,F.mutableCopy()))}var c;return we.resolve(d)}getAllFromCollectionGroup(n,i,s,u){Dt(9500)}ii(n,i){return we.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new Ky(this)}getSize(n){return we.resolve(this.size)}}class Ky extends fn{constructor(n){super(),this.Nr=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(n,u)):this.Nr.removeEntry(s)}),we.waitFor(i)}getFromCache(n,i){return this.Nr.getEntry(n,i)}getAllFromCache(n,i){return this.Nr.getEntries(n,i)}}class kg{constructor(n){this.persistence=n,this.si=new Ms(i=>Jo(i),Po),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Og,this.targetCount=0,this.ai=La.ur()}forEachTarget(n,i){return this.si.forEach((s,u)=>i(u)),we.resolve()}getLastRemoteSnapshotVersion(n){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return we.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),we.resolve()}Pr(n){this.si.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.ai=new La(i),this.highestTargetId=i),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,i){return this.Pr(i),this.targetCount+=1,we.resolve()}updateTargetData(n,i){return this.Pr(i),we.resolve()}removeTargetData(n,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,we.resolve()}removeTargets(n,i,s){let u=0;const d=[];return this.si.forEach((m,T)=>{T.sequenceNumber<=i&&null===s.get(T.targetId)&&(this.si.delete(m),d.push(this.removeMatchingKeysForTargetId(n,T.targetId)),u++)}),we.waitFor(d).next(()=>u)}getTargetCount(n){return we.resolve(this.targetCount)}getTargetData(n,i){const s=this.si.get(i)||null;return we.resolve(s)}addMatchingKeys(n,i,s){return this._i.Wr(i,s),we.resolve()}removeMatchingKeys(n,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,d=[];return u&&i.forEach(m=>{d.push(u.markPotentiallyOrphaned(n,m))}),we.waitFor(d)}removeMatchingKeysForTargetId(n,i){return this._i.jr(i),we.resolve()}getMatchingKeysForTargetId(n,i){const s=this._i.Hr(i);return we.resolve(s)}containsKey(n,i){return we.resolve(this._i.containsKey(i))}}class dc{constructor(n,i){this.ui={},this.overlays={},this.ci=new te(0),this.li=!1,this.li=!0,this.hi=new qy,this.referenceDelegate=n(this),this.Pi=new kg(this),this.indexManager=new iu,this.remoteDocumentCache=new hw(s=>this.referenceDelegate.Ti(s)),this.serializer=new Kl(i),this.Ii=new Wy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Ua,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.ui[n.toKey()];return s||(s=new hh(i,this.referenceDelegate),this.ui[n.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,i,s){je("MemoryPersistence","Starting transaction:",n);const u=new Qy(this.ci.next());return this.referenceDelegate.Ei(),s(u).next(d=>this.referenceDelegate.di(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ai(n,i){return we.or(Object.values(this.ui).map(s=>()=>s.containsKey(n,i)))}}class Qy extends sr{constructor(n){super(),this.currentSequenceNumber=n}}class Gf{constructor(n){this.persistence=n,this.Ri=new Og,this.Vi=null}static mi(n){return new Gf(n)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(n,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),we.resolve()}removeReference(n,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),we.resolve()}markPotentiallyOrphaned(n,i){return this.fi.add(i.toString()),we.resolve()}removeTarget(n,i){this.Ri.jr(i.targetId).forEach(u=>this.fi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(d=>this.fi.add(d.toString()))}).next(()=>s.removeTargetData(n,i))}Ei(){this.Vi=new Set}di(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,s=>{const u=It.fromPath(s);return this.gi(n,u).next(d=>{d||i.removeEntry(u,Et.min())})}).next(()=>(this.Vi=null,i.apply(n)))}updateLimboDocument(n,i){return this.gi(n,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(n){return 0}gi(n,i){return we.or([()=>we.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ai(n,i)])}}class js{constructor(n,i){this.persistence=n,this.pi=new Ms(s=>function $t(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=Sn(n)),n=dn(c.get(i),n);return Sn(n)}(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=function Tt(c,n){return new $e(c,n)}(this,i)}static mi(n,i){return new js(n,i)}Ei(){}di(n){return we.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}gr(n){const i=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}wr(n){let i=0;return this.pr(n,s=>{i++}).next(()=>i)}pr(n,i){return we.forEach(this.pi,(s,u)=>this.br(n,s,u).next(d=>d?we.resolve():i(u)))}removeTargets(n,i,s){return this.persistence.getTargetCache().removeTargets(n,i,s)}removeOrphanedDocuments(n,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),d=u.newChangeBuffer();return u.ii(n,m=>this.br(n,m,i).next(T=>{T||(s++,d.removeEntry(m,Et.min()))})).next(()=>d.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,i){return this.pi.set(i,n.currentSequenceNumber),we.resolve()}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,i,s){return this.pi.set(s,n.currentSequenceNumber),we.resolve()}removeReference(n,i,s){return this.pi.set(s,n.currentSequenceNumber),we.resolve()}updateLimboDocument(n,i){return this.pi.set(i,n.currentSequenceNumber),we.resolve()}Ti(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=Xo(n.data.value)),i}br(n,i,s){return we.or([()=>this.persistence.Ai(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const u=this.pi.get(i);return we.resolve(void 0!==u&&u>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class Vg{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.Es=s,this.ds=u}static As(n,i){let s=Ln(),u=Ln();for(const d of i.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Vg(n,i.fromCache,s,u)}}class Ug{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Bg{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,Pe.nr)()?8:function rt(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Pe.ZQ)())>0?6:4}initialize(n,i){this.ps=n,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(n,i,s,u){const d={result:null};return this.ys(n,i).next(m=>{d.result=m}).next(()=>{if(!d.result)return this.ws(n,i,u,s).next(m=>{d.result=m})}).next(()=>{if(d.result)return;const m=new Ug;return this.Ss(n,i,m).next(T=>{if(d.result=T,this.Vs)return this.bs(n,i,m,T.size)})}).next(()=>d.result)}bs(n,i,s,u){return s.documentReadCount<this.fs?(Te()<=oe.$b.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",go(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(Te()<=oe.$b.DEBUG&&je("QueryEngine","Query:",go(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(Te()<=oe.$b.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",go(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,kn(i))):we.resolve())}ys(n,i){if(Zo(i))return we.resolve(null);let s=kn(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=po(i,null,"F"),s=kn(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(d=>{const m=Ln(...d);return this.ps.getDocuments(n,m).next(T=>this.indexManager.getMinOffset(n,s).next(C=>{const P=this.Ds(i,T);return this.Cs(i,P,m,C.readTime)?this.ys(n,po(i,null,"F")):this.vs(n,P,i,C)}))})))}ws(n,i,s,u){return Zo(i)||u.isEqual(Et.min())?we.resolve(null):this.ps.getDocuments(n,s).next(d=>{const m=this.Ds(i,d);return this.Cs(i,m,s,u)?we.resolve(null):(Te()<=oe.$b.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),go(i)),this.vs(n,m,i,function In(c,n){const i=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=Et.fromTimestamp(1e9===s?new Ut(i+1,0):new Ut(i,s));return new rr(u,It.empty(),n)}(u,-1)).next(T=>T))})}Ds(n,i){let s=new Qt(Ci(n));return i.forEach((u,d)=>{nc(n,d)&&(s=s.add(d))}),s}Cs(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const d="F"===n.limitType?i.last():i.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Ss(n,i,s){return Te()<=oe.$b.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",go(i)),this.ps.getDocumentsMatchingQuery(n,i,rr.min(),s)}vs(n,i,s,u){return this.ps.getDocumentsMatchingQuery(n,s,u).next(d=>(i.forEach(m=>{d=d.insert(m.key,m)}),d))}}const Wf="LocalStore";class II{constructor(n,i,s,u){this.persistence=n,this.Fs=i,this.serializer=u,this.Ms=new $n(St),this.xs=new Ms(d=>Jo(d),Po),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(s)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new vI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.Ms))}}function $g(c,n){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,R.A)(function*(c,n){const i=yt(c);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(d=>(u=d,i.Bs(n),i.mutationQueue.getAllMutationBatches(s))).next(d=>{const m=[],T=[];let C=Ln();for(const P of u){m.push(P.batchId);for(const F of P.mutations)C=C.add(F.key)}for(const P of d){T.push(P.batchId);for(const F of P.mutations)C=C.add(F.key)}return i.localDocuments.getDocuments(s,C).next(P=>({Ls:P,removedBatchIds:m,addedBatchIds:T}))})})})).apply(this,arguments)}function Yy(c){const n=yt(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Pi.getLastRemoteSnapshotVersion(i))}function fw(c,n){const i=yt(c);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function nd(c,n,i){return zg.apply(this,arguments)}function zg(){return(zg=(0,R.A)(function*(c,n,i){const s=yt(c),u=s.Ms.get(n),d=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",d,m=>s.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!an(m))throw m;je(Wf,`Failed to update sequence numbers for target ${n}: ${m}`)}s.Ms=s.Ms.remove(n),s.xs.delete(u.target)})).apply(this,arguments)}function qf(c,n,i){const s=yt(c);let u=Et.min(),d=Ln();return s.persistence.runTransaction("Execute query","readwrite",m=>function(C,P,F){const q=yt(C),de=q.xs.get(F);return void 0!==de?we.resolve(q.Ms.get(de)):q.Pi.getTargetData(P,F)}(s,m,kn(n)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(m,T.targetId).next(C=>{d=C})}).next(()=>s.Fs.getDocumentsMatchingQuery(m,n,i?u:Et.min(),i?d:Ln())).next(T=>(function Gg(c,n,i){let s=c.Os.get(n)||Et.min();i.forEach((u,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),c.Os.set(n,s)}(s,function zc(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}(n),T),{documents:T,Qs:d})))}class cd{constructor(){this.activeTargetIds=function qc(){return xf}()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class s_{constructor(){this.Mo=new cd,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,i,s){this.xo[n]=i}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new cd,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class TI{Oo(n){}shutdown(){}}const Kg="ConnectivityMonitor";class Kf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){je(Kg,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){je(Kg,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qf=null;function Qg(){return null===Qf?Qf=268435456+Math.round(2147483648*Math.random()):Qf++,"0x"+Qf.toString(16)}const Oo="RestConnection",Xg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a_{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+n.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===As?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(n,i,s,u,d){const m=Qg(),T=this.zo(n,i.toUriEncodedString());je(Oo,`Sending RPC '${n}' ${m}:`,T,s);const C={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(C,u,d);const{host:P}=new URL(T),F=(0,Pe.zJ)(P);return this.Jo(n,T,C,s,F).then(q=>(je(Oo,`Received RPC '${n}' ${m}: `,q),q),q=>{throw Bn(Oo,`RPC '${n}' ${m} failed with error: `,q,"url: ",T,"request:",s),q})}Ho(n,i,s,u,d,m){return this.Go(n,i,s,u,d)}jo(n,i,s){n["X-Goog-Api-Client"]="gl-js/ fire/"+it,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,d)=>n[d]=u),s&&s.headers.forEach((u,d)=>n[d]=u)}zo(n,i){return`${this.Uo}/v1/${i}:${Xg[n]}`}terminate(){}}class Jg{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}const Or="WebChannelConnection";class _h extends a_{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,i,s,u,d){const m=Qg();return new Promise((T,C)=>{const P=new We;P.setWithCredentials(!0),P.listenOnce(Ot.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case Cn.NO_ERROR:const q=P.getResponseJson();je(Or,`XHR for RPC '${n}' ${m} received:`,JSON.stringify(q)),T(q);break;case Cn.TIMEOUT:je(Or,`RPC '${n}' ${m} timed out`),C(new Q(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Cn.HTTP_ERROR:const de=P.getStatus();if(je(Or,`RPC '${n}' ${m} failed with status:`,de,"response text:",P.getResponseText()),de>0){let ze=P.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const tt=ze?.error;if(tt&&tt.status&&tt.message){const wt=function(qt){const An=qt.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(An)>=0?An:ve.UNKNOWN}(tt.status);C(new Q(wt,tt.message))}else C(new Q(ve.UNKNOWN,"Server responded with status "+P.getStatus()))}else C(new Q(ve.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:n,streamId:m,h_:P.getLastErrorCode(),P_:P.getLastError()})}}finally{je(Or,`RPC '${n}' ${m} completed.`)}});const F=JSON.stringify(u);je(Or,`RPC '${n}' ${m} sending request:`,u),P.send(i,"POST",F,s,15)})}T_(n,i,s){const u=Qg(),d=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=En(),T=Nn(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},P=this.longPollingOptions.timeoutSeconds;void 0!==P&&(C.longPollingTimeout=Math.round(1e3*P)),this.useFetchStreams&&(C.useFetchStreams=!0),this.jo(C.initMessageHeaders,i,s),C.encodeInitMessageHeaders=!0;const F=d.join("");je(Or,`Creating RPC '${n}' stream ${u}: ${F}`,C);const q=m.createWebChannel(F,C);this.I_(q);let de=!1,ze=!1;const tt=new Jg({Yo:_t=>{ze?je(Or,`Not sending because RPC '${n}' stream ${u} is closed:`,_t):(de||(je(Or,`Opening RPC '${n}' stream ${u} transport.`),q.open(),de=!0),je(Or,`RPC '${n}' stream ${u} sending:`,_t),q.send(_t))},Zo:()=>q.close()}),wt=(_t,qt,An)=>{_t.listen(qt,pn=>{try{An(pn)}catch(er){setTimeout(()=>{throw er},0)}})};return wt(q,vt.EventType.OPEN,()=>{ze||(je(Or,`RPC '${n}' stream ${u} transport opened.`),tt.o_())}),wt(q,vt.EventType.CLOSE,()=>{ze||(ze=!0,je(Or,`RPC '${n}' stream ${u} transport closed`),tt.a_(),this.E_(q))}),wt(q,vt.EventType.ERROR,_t=>{ze||(ze=!0,Bn(Or,`RPC '${n}' stream ${u} transport errored. Name:`,_t.name,"Message:",_t.message),tt.a_(new Q(ve.UNAVAILABLE,"The operation could not be completed")))}),wt(q,vt.EventType.MESSAGE,_t=>{if(!ze){const qt=_t.data[0];Nt(!!qt,16349);const An=qt,pn=An?.error||An[0]?.error;if(pn){je(Or,`RPC '${n}' stream ${u} received error:`,pn);const er=pn.status;let mr=function(ue){const pe=di[ue];if(void 0!==pe)return Ul(pe)}(er),pr=pn.message;void 0===mr&&(mr=ve.INTERNAL,pr="Unknown error status: "+er+" with message "+pn.message),ze=!0,tt.a_(new Q(mr,pr)),q.close()}else je(Or,`RPC '${n}' stream ${u} received:`,qt),tt.u_(qt)}}),wt(T,un.STAT_EVENT,_t=>{_t.stat===rn.PROXY?je(Or,`RPC '${n}' stream ${u} detected buffering proxy`):_t.stat===rn.NOPROXY&&je(Or,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{tt.__()},0),tt}terminate(){this.c_.forEach(n=>n.close()),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter(i=>i===n)}}function vh(){return typeof document<"u"?document:null}function Yu(c){return new Kn(c,!0)}class Jf{constructor(n,i,s=1e3,u=1.5,d=6e4){this.Mi=n,this.timerId=i,this.d_=s,this.A_=u,this.R_=d,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&je("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,()=>(this.f_=Date.now(),n())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const c_="PersistentStream";class Zg{constructor(n,i,s,u,d,m,T,C){this.Mi=n,this.S_=s,this.b_=u,this.connection=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=T,this.listener=C,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jf(n,i)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}stop(){var n=this;return(0,R.A)(function*(){n.x_()&&(yield n.close(0))})()}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(n){this.Q_(),this.stream.send(n)}k_(){var n=this;return(0,R.A)(function*(){if(n.O_())return n.close(0)})()}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(n,i){var s=this;return(0,R.A)(function*(){s.Q_(),s.U_(),s.M_.cancel(),s.D_++,4!==n?s.M_.reset():i&&i.code===ve.RESOURCE_EXHAUSTED?(en(i.toString()),en("Using maximum backoff delay to prevent overloading the backend."),s.M_.g_()):i&&i.code===ve.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.K_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.r_(i)})()}K_(){}auth(){this.state=1;const n=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.D_===i&&this.G_(s,u)},s=>{n(()=>{const u=new Q(ve.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)})})}G_(n,i){const s=this.W_(this.D_);this.stream=this.j_(n,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(u=>{s(()=>this.z_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.F_?this.J_(u):this.onNext(u))})}N_(){var n=this;this.state=5,this.M_.p_((0,R.A)(function*(){n.state=0,n.start()}))}z_(n){return je(c_,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return i=>{this.Mi.enqueueAndForget(()=>this.D_===n?i():(je(c_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wI extends Zg{constructor(n,i,s,u,d,m){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,m),this.serializer=d}j_(n,i){return this.connection.T_("Listen",n,i)}J_(n){return this.onNext(n)}onNext(n){this.M_.reset();const i=function Vf(c,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(P=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===P?1:"REMOVE"===P?2:"CURRENT"===P?3:"RESET"===P?4:Dt(39313,{state:P}),u=n.targetChange.targetIds||[],d=function(P,F){return P.useProto3Json?(Nt(void 0===F||"string"==typeof F,58123),nn.fromBase64String(F||"")):(Nt(void 0===F||F instanceof Buffer||F instanceof Uint8Array,16193),nn.fromUint8Array(F||new Uint8Array))}(c,n.targetChange.resumeToken),m=n.targetChange.cause,T=m&&function(P){const F=void 0===P.code?ve.UNKNOWN:Ul(P.code);return new Q(F,P.message||"")}(m);i=new Rg(s,u,d,T||null)}else if("documentChange"in n){const s=n.documentChange,u=zo(c,s.document.name),d=ti(s.document.updateTime),m=s.document.createTime?ti(s.document.createTime):Et.min(),T=new ui({mapValue:{fields:s.document.fields}}),C=Pr.newFoundDocument(u,d,m,T);i=new oa(s.targetIds||[],s.removedTargetIds||[],C.key,C)}else if("documentDelete"in n){const s=n.documentDelete,u=zo(c,s.document),d=s.readTime?ti(s.readTime):Et.min(),m=Pr.newNoDocument(u,d);i=new oa([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in n){const s=n.documentRemove,u=zo(c,s.document);i=new oa([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return Dt(11601,{Rt:n});{const s=n.filter,{count:u=0,unchangedNames:d}=s,m=new Fl(u,d);i=new $l(s.targetId,m)}}var P;return i}(this.serializer,n),s=function(d){if(!("targetChange"in d))return Et.min();const m=d.targetChange;return m.targetIds&&m.targetIds.length?Et.min():m.readTime?ti(m.readTime):Et.min()}(n);return this.listener.H_(i,s)}Y_(n){const i={};i.database=Ls(this.serializer),i.addTarget=function(d,m){let T;const C=m.target;if(T=Mo(C)?{documents:Jc(d,C)}:{query:Bu(d,C).ft},T.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){T.resumeToken=rs(d,m.resumeToken);const P=ks(d,m.expectedCount);null!==P&&(T.expectedCount=P)}else if(m.snapshotVersion.compareTo(Et.min())>0){T.readTime=ns(d,m.snapshotVersion.toTimestamp());const P=ks(d,m.expectedCount);null!==P&&(T.expectedCount=P)}return T}(this.serializer,n);const s=function Yd(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:u})}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.q_(i)}Z_(n){const i={};i.database=Ls(this.serializer),i.removeTarget=n,this.q_(i)}}class u_ extends Zg{constructor(n,i,s,u,d,m){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,m),this.serializer=d}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(n,i){return this.connection.T_("Write",n,i)}J_(n){return Nt(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,Nt(!n.writeResults||0===n.writeResults.length,55816),this.listener.ta()}onNext(n){Nt(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.M_.reset();const i=function Uu(c,n){return c&&c.length>0?(Nt(void 0!==n,14353),c.map(i=>function(u,d){let m=ti(u.updateTime?u.updateTime:d);return m.isEqual(Et.min())&&(m=ti(d)),new N(m,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=ti(n.commitTime);return this.listener.na(s,i)}ra(){const n={};n.database=Ls(this.serializer),this.q_(n)}ea(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>function Fu(c,n){let i;if(n instanceof lr)i={update:yo(c,n.key,n.value)};else if(n instanceof xs)i={delete:Ou(c,n.key)};else if(n instanceof $r)i={update:yo(c,n.key,n.data),updateMask:Xi(n.fieldMask)};else{if(!(n instanceof Os))return Dt(16599,{Vt:n.type});i={verify:Ou(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(d,m){const T=m.transform;if(T instanceof hs)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof ra)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof es)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof Nr)return{fieldPath:m.field.canonicalString(),increment:T.Ae};throw Dt(20930,{transform:m.transform})}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(d=n.precondition).updateTime?{updateTime:Jd(c,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Dt(27497)),i;var d}(this.serializer,s))};this.q_(i)}}class DI{}class AI extends DI{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new Q(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Go(n,Ff(i,s),u,d,m)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Q(ve.UNKNOWN,d.toString())})}Ho(n,i,s,u,d){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,T])=>this.connection.Ho(n,Ff(i,s),u,m,T,d)).catch(m=>{throw"FirebaseError"===m.name?(m.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Q(ve.UNKNOWN,m.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class CI{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(n){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,"Online"===n&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(en(i),this.aa=!1):je("OnlineStateTracker",i)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const el="RemoteStore";class l_{constructor(n,i,s,u,d){var m=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=d,this.Aa.Oo(T=>{s.enqueueAndForget((0,R.A)(function*(){var C;uu(m)&&(je(el,"Restarting streams for network reachability change."),yield(C=(0,R.A)(function*(F){const q=yt(F);q.Ea.add(4),yield pc(q),q.Ra.set("Unknown"),q.Ea.delete(4),yield ud(q)}),function P(F){return C.apply(this,arguments)})(m))}))}),this.Ra=new CI(s,u)}}function ud(c){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,R.A)(function*(c){if(uu(c))for(const n of c.da)yield n(!0)})).apply(this,arguments)}function pc(c){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,R.A)(function*(c){for(const n of c.da)yield n(!1)})).apply(this,arguments)}function Ih(c,n){const i=yt(c);i.Ia.has(n.targetId)||(i.Ia.set(n.targetId,n),em(i)?Yg(i):gs(i).O_()&&ep(i,n))}function tl(c,n){const i=yt(c),s=gs(i);i.Ia.delete(n),s.O_()&&d_(i,n),0===i.Ia.size&&(s.O_()?s.L_():uu(i)&&i.Ra.set("Unknown"))}function ep(c,n){if(c.Va.Ue(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Et.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}gs(c).Y_(n)}function d_(c,n){c.Va.Ue(n),gs(c).Z_(n)}function Yg(c){c.Va=new Xd({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),At:n=>c.Ia.get(n)||null,ht:()=>c.datastore.serializer.databaseId}),gs(c).start(),c.Ra.ua()}function em(c){return uu(c)&&!gs(c).x_()&&c.Ia.size>0}function uu(c){return 0===yt(c).Ea.size}function h_(c){c.Va=void 0}function f_(c){return tm.apply(this,arguments)}function tm(){return(tm=(0,R.A)(function*(c){c.Ra.set("Online")})).apply(this,arguments)}function bI(c){return nm.apply(this,arguments)}function nm(){return(nm=(0,R.A)(function*(c){c.Ia.forEach((n,i)=>{ep(c,n)})})).apply(this,arguments)}function p_(c,n){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,R.A)(function*(c,n){h_(c),em(c)?(c.Ra.ha(n),Yg(c)):c.Ra.set("Unknown")})).apply(this,arguments)}function SI(c,n,i){return $s.apply(this,arguments)}function $s(){return $s=(0,R.A)(function*(c,n,i){if(c.Ra.set("Online"),n instanceof Rg&&2===n.state&&n.cause)try{yield(s=(0,R.A)(function*(d,m){const T=m.cause;for(const C of m.targetIds)d.Ia.has(C)&&(yield d.remoteSyncer.rejectListen(C,T),d.Ia.delete(C),d.Va.removeTarget(C))}),function u(d,m){return s.apply(this,arguments)})(c,n)}catch(s){je(el,"Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield fa(c,s)}else if(n instanceof oa?c.Va.Ze(n):n instanceof $l?c.Va.st(n):c.Va.tt(n),!i.isEqual(Et.min()))try{const s=yield Yy(c.localStore);i.compareTo(s)>=0&&(yield function(d,m){const T=d.Va.Tt(m);return T.targetChanges.forEach((C,P)=>{if(C.resumeToken.approximateByteSize()>0){const F=d.Ia.get(P);F&&d.Ia.set(P,F.withResumeToken(C.resumeToken,m))}}),T.targetMismatches.forEach((C,P)=>{const F=d.Ia.get(C);if(!F)return;d.Ia.set(C,F.withResumeToken(nn.EMPTY_BYTE_STRING,F.snapshotVersion)),d_(d,C);const q=new Yn(F.target,C,P,F.sequenceNumber);ep(d,q)}),d.remoteSyncer.applyRemoteEvent(T)}(c,i))}catch(s){je(el,"Failed to raise snapshot:",s),yield fa(c,s)}var s}),$s.apply(this,arguments)}function fa(c,n,i){return rm.apply(this,arguments)}function rm(){return(rm=(0,R.A)(function*(c,n,i){if(!an(n))throw n;c.Ea.add(1),yield pc(c),c.Ra.set("Offline"),i||(i=()=>Yy(c.localStore)),c.asyncQueue.enqueueRetryable((0,R.A)(function*(){je(el,"Retrying IndexedDB access"),yield i(),c.Ea.delete(1),yield ud(c)}))})).apply(this,arguments)}function tp(c,n){return n().catch(i=>fa(c,i,n))}function ld(c){return g_.apply(this,arguments)}function g_(){return(g_=(0,R.A)(function*(c){const n=yt(c),i=ja(n);let s=n.Ta.length>0?n.Ta[n.Ta.length-1].batchId:-1;for(;pw(n);)try{const u=yield fw(n.localStore,s);if(null===u){0===n.Ta.length&&i.L_();break}s=u.batchId,RI(n,u)}catch(u){yield fa(n,u)}m_(n)&&y_(n)})).apply(this,arguments)}function pw(c){return uu(c)&&c.Ta.length<10}function RI(c,n){c.Ta.push(n);const i=ja(c);i.O_()&&i.X_&&i.ea(n.mutations)}function m_(c){return uu(c)&&!ja(c).x_()&&c.Ta.length>0}function y_(c){ja(c).start()}function gw(c){return im.apply(this,arguments)}function im(){return(im=(0,R.A)(function*(c){ja(c).ra()})).apply(this,arguments)}function nl(c){return om.apply(this,arguments)}function om(){return(om=(0,R.A)(function*(c){const n=ja(c);for(const i of c.Ta)n.ea(i.mutations)})).apply(this,arguments)}function sm(c,n,i){return Th.apply(this,arguments)}function Th(){return(Th=(0,R.A)(function*(c,n,i){const s=c.Ta.shift(),u=Kc.from(s,n,i);yield tp(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield ld(c)})).apply(this,arguments)}function am(c,n){return np.apply(this,arguments)}function np(){return np=(0,R.A)(function*(c,n){var i;n&&ja(c).X_&&(yield(i=(0,R.A)(function*(u,d){if(function Vl(c){switch(c){case ve.OK:return Dt(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Dt(15467,{code:c})}}(T=d.code)&&T!==ve.ABORTED){const m=u.Ta.shift();ja(u).B_(),yield tp(u,()=>u.remoteSyncer.rejectFailedWrite(m.batchId,d)),yield ld(u)}var T}),function s(u,d){return i.apply(this,arguments)})(c,n)),m_(c)&&y_(c)}),np.apply(this,arguments)}function wh(c,n){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,R.A)(function*(c,n){const i=yt(c);i.asyncQueue.verifyOperationInProgress(),je(el,"RemoteStore received new credentials");const s=uu(i);i.Ea.add(3),yield pc(i),s&&i.Ra.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.Ea.delete(3),yield ud(i)})).apply(this,arguments)}function dd(){return(dd=(0,R.A)(function*(c,n){const i=yt(c);n?(i.Ea.delete(2),yield ud(i)):n||(i.Ea.add(2),yield pc(i),i.Ra.set("Unknown"))})).apply(this,arguments)}function gs(c){return c.ma||(c.ma=function(i,s,u){const d=yt(i);return d.sa(),new wI(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)}(c.datastore,c.asyncQueue,{Xo:f_.bind(null,c),t_:bI.bind(null,c),r_:p_.bind(null,c),H_:SI.bind(null,c)}),c.da.push(function(){var n=(0,R.A)(function*(i){i?(c.ma.B_(),em(c)?Yg(c):c.Ra.set("Unknown")):(yield c.ma.stop(),h_(c))});return function(i){return n.apply(this,arguments)}}())),c.ma}function ja(c){return c.fa||(c.fa=function(i,s,u){const d=yt(i);return d.sa(),new u_(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)}(c.datastore,c.asyncQueue,{Xo:()=>Promise.resolve(),t_:gw.bind(null,c),r_:am.bind(null,c),ta:nl.bind(null,c),na:sm.bind(null,c)}),c.da.push(function(){var n=(0,R.A)(function*(i){i?(c.fa.B_(),yield ld(c)):(yield c.fa.stop(),c.Ta.length>0&&(je(el,`Stopping write stream with ${c.Ta.length} pending writes`),c.Ta=[]))});return function(i){return n.apply(this,arguments)}}())),c.fa}class hd{constructor(n,i,s,u,d){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=d,this.deferred=new Se,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,d){const m=Date.now()+s,T=new hd(n,i,m,u,d);return T.start(s),T}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Q(ve.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $a(c,n){if(en("AsyncQueue",`${n}: ${c}`),an(c))return new Q(ve.UNAVAILABLE,`${n}: ${c}`);throw c}class gc{static emptySet(n){return new gc(n.comparator)}constructor(n){this.comparator=n?(i,s)=>n(i,s)||It.comparator(i.key,s.key):(i,s)=>It.comparator(i.key,s.key),this.keyedMap=Gc(),this.sortedSet=new $n(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof gc)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,d=s.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new gc;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class rp{constructor(){this.ga=new $n(It.comparator)}track(n){const i=n.doc.key,s=this.ga.get(i);s?0!==n.type&&3===s.type?this.ga=this.ga.insert(i,n):3===n.type&&1!==s.type?this.ga=this.ga.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.ga=this.ga.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.ga=this.ga.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.ga=this.ga.remove(i):1===n.type&&2===s.type?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.ga=this.ga.insert(i,{type:2,doc:n.doc}):Dt(63341,{Rt:n,pa:s}):this.ga=this.ga.insert(i,n)}ya(){const n=[];return this.ga.inorderTraversal((i,s)=>{n.push(s)}),n}}class Ha{constructor(n,i,s,u,d,m,T,C,P){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=T,this.excludesMetadataChanges=C,this.hasCachedResults=P}static fromInitialDocuments(n,i,s,u,d){const m=[];return i.forEach(T=>{m.push({type:0,doc:T})}),new Ha(n,i,gc.emptySet(i),m,s,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&na(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class __{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(n=>n.Da())}}class cm{constructor(){this.queries=il(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(i,s){const u=yt(i),d=u.queries;u.queries=il(),d.forEach((m,T)=>{for(const C of T.Sa)C.onError(s)})}(this,new Q(ve.ABORTED,"Firestore shutting down"))}}function il(){return new Ms(c=>Ki(c),na)}function ip(c,n){return op.apply(this,arguments)}function op(){return(op=(0,R.A)(function*(c,n){const i=yt(c);let s=3;const u=n.query;let d=i.queries.get(u);d?!d.ba()&&n.Da()&&(s=2):(d=new __,s=n.Da()?0:1);try{switch(s){case 0:d.wa=yield i.onListen(u,!0);break;case 1:d.wa=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(m){const T=$a(m,`Initialization of query '${go(n.query)}' failed`);return void n.onError(T)}i.queries.set(u,d),d.Sa.push(n),n.va(i.onlineState),d.wa&&n.Fa(d.wa)&&Ch(i)})).apply(this,arguments)}function sp(c,n){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,R.A)(function*(c,n){const i=yt(c),s=n.query;let u=3;const d=i.queries.get(s);if(d){const m=d.Sa.indexOf(n);m>=0&&(d.Sa.splice(m,1),0===d.Sa.length?u=n.Da()?0:1:!d.ba()&&n.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function v_(c,n){const i=yt(c);let s=!1;for(const u of n){const m=i.queries.get(u.query);if(m){for(const T of m.Sa)T.Fa(u)&&(s=!0);m.wa=u}}s&&Ch(i)}function I_(c,n,i){const s=yt(c),u=s.queries.get(n);if(u)for(const d of u.Sa)d.onError(i);s.queries.delete(n)}function Ch(c){c.Ca.forEach(n=>{n.next()})}var bh,ol;(ol=bh||(bh={})).Ma="default",ol.Cache="cache";class ap{constructor(n,i,s){this.query=n,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new Ha(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Oa?this.Ba(n)&&(this.xa.next(n),i=!0):this.La(n,this.onlineState)&&(this.ka(n),i=!0),this.Na=n,i}onError(n){this.xa.error(n)}va(n){this.onlineState=n;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,n)&&(this.ka(this.Na),i=!0),i}La(n,i){return!n.fromCache||!this.Da()||(!this.options.qa||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}Ba(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Na&&this.Na.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ka(n){n=Ha.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Oa=!0,this.xa.next(n)}Da(){return this.options.source!==bh.Cache}}class sl{constructor(n){this.key=n}}class cp{constructor(n){this.key=n}}class um{constructor(n,i){this.query=n,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ln(),this.mutatedKeys=Ln(),this.eu=Ci(n),this.tu=new gc(this.eu)}get nu(){return this.Ya}ru(n,i){const s=i?i.iu:new rp,u=i?i.tu:this.tu;let d=i?i.mutatedKeys:this.mutatedKeys,m=u,T=!1;const C="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,P="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((F,q)=>{const de=u.get(F),ze=nc(this.query,q)?q:null,tt=!!de&&this.mutatedKeys.has(de.key),wt=!!ze&&(ze.hasLocalMutations||this.mutatedKeys.has(ze.key)&&ze.hasCommittedMutations);let _t=!1;de&&ze?de.data.isEqual(ze.data)?tt!==wt&&(s.track({type:3,doc:ze}),_t=!0):this.su(de,ze)||(s.track({type:2,doc:ze}),_t=!0,(C&&this.eu(ze,C)>0||P&&this.eu(ze,P)<0)&&(T=!0)):!de&&ze?(s.track({type:0,doc:ze}),_t=!0):de&&!ze&&(s.track({type:1,doc:de}),_t=!0,(C||P)&&(T=!0)),_t&&(ze?(m=m.add(ze),d=wt?d.add(F):d.delete(F)):(m=m.delete(F),d=d.delete(F)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const F="F"===this.query.limitType?m.last():m.first();m=m.delete(F.key),d=d.delete(F.key),s.track({type:1,doc:F})}return{tu:m,iu:s,Cs:T,mutatedKeys:d}}su(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const d=this.tu;this.tu=n.tu,this.mutatedKeys=n.mutatedKeys;const m=n.iu.ya();m.sort((F,q)=>function(ze,tt){const wt=_t=>{switch(_t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:_t})}};return wt(ze)-wt(tt)}(F.type,q.type)||this.eu(F.doc,q.doc)),this.ou(s),u=u??!1;const T=i&&!u?this._u():[],C=0===this.Xa.size&&this.current&&!u?1:0,P=C!==this.Za;return this.Za=C,0!==m.length||P?{snapshot:new Ha(this.query,n.tu,d,m,n.mutatedKeys,0===C,P,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:T}:{au:T}}va(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(n){return!this.Ya.has(n)&&!!this.tu.has(n)&&!this.tu.get(n).hasLocalMutations}ou(n){n&&(n.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=n.current)}_u(){if(!this.current)return[];const n=this.Xa;this.Xa=Ln(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return n.forEach(s=>{this.Xa.has(s)||i.push(new cp(s))}),this.Xa.forEach(s=>{n.has(s)||i.push(new sl(s))}),i}cu(n){this.Ya=n.Qs,this.Xa=Ln();const i=this.ru(n.documents);return this.applyChanges(i,!0)}lu(){return Ha.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const mc="SyncEngine";class T_{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class w_{constructor(n){this.key=n,this.hu=!1}}class lm{constructor(n,i,s,u,d,m){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Ms(T=>Ki(T),na),this.Iu=new Map,this.Eu=new Set,this.du=new $n(It.comparator),this.Au=new Map,this.Ru=new Og,this.Vu={},this.mu=new Map,this.fu=La.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function MI(c,n){return up.apply(this,arguments)}function up(){return(up=(0,R.A)(function*(c,n,i=!0){const s=kh(c);let u;const d=s.Tu.get(n);return d?(s.sharedClientState.addLocalQueryTarget(d.targetId),u=d.view.lu()):u=yield Sh(s,n,i,!0),u})).apply(this,arguments)}function mw(c,n){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,R.A)(function*(c,n){const i=kh(c);yield Sh(i,n,!0,!1)})).apply(this,arguments)}function Sh(c,n,i,s){return lp.apply(this,arguments)}function lp(){return(lp=(0,R.A)(function*(c,n,i,s){const u=yield function Ju(c,n){const i=yt(c);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Pi.getTargetData(s,n).next(d=>d?(u=d,we.resolve(u)):i.Pi.allocateTargetId(s).next(m=>(u=new Yn(n,m,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ms.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(n,s.targetId)),s})}(c.localStore,kn(n)),d=u.targetId,m=c.sharedClientState.addLocalQueryTarget(d,i);let T;return s&&(T=yield function wr(c,n,i,s,u){return lu.apply(this,arguments)}(c,n,d,"current"===m,u.resumeToken)),c.isPrimaryClient&&i&&Ih(c.remoteStore,u),T})).apply(this,arguments)}function lu(){return lu=(0,R.A)(function*(c,n,i,s,u){c.pu=(q,de,ze)=>{return(tt=(0,R.A)(function*(_t,qt,An,pn){let er=qt.view.ru(An);er.Cs&&(er=yield qf(_t.localStore,qt.query,!1).then(({documents:ue})=>qt.view.ru(ue,er)));const mr=pn&&pn.targetChanges.get(qt.targetId),pr=pn&&null!=pn.targetMismatches.get(qt.targetId),Ae=qt.view.applyChanges(er,_t.isPrimaryClient,mr,pr);return Nh(_t,qt.targetId,Ae.au),Ae.snapshot}),function wt(_t,qt,An,pn){return tt.apply(this,arguments)})(c,q,de,ze);var tt};const d=yield qf(c.localStore,n,!0),m=new um(n,d.Qs),T=m.ru(d.documents),C=ia.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==c.onlineState,u),P=m.applyChanges(T,c.isPrimaryClient,C);Nh(c,i,P.au);const F=new T_(n,i,m);return c.Tu.set(n,F),c.Iu.has(i)?c.Iu.get(i).push(n):c.Iu.set(i,[n]),P.snapshot}),lu.apply(this,arguments)}function pd(c,n,i){return pa.apply(this,arguments)}function pa(){return(pa=(0,R.A)(function*(c,n,i){const s=yt(c),u=s.Tu.get(n),d=s.Iu.get(u.targetId);if(d.length>1)return s.Iu.set(u.targetId,d.filter(m=>!na(m,n))),void s.Tu.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield nd(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&tl(s.remoteStore,u.targetId),yd(s,u.targetId)}).catch(_r))):(yd(s,u.targetId),yield nd(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Rh(c,n){return gd.apply(this,arguments)}function gd(){return(gd=(0,R.A)(function*(c,n){const i=yt(c),s=i.Tu.get(n),u=i.Iu.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),tl(i.remoteStore,s.targetId))})).apply(this,arguments)}function dm(){return(dm=(0,R.A)(function*(c,n,i){const s=function vm(c){const n=yt(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Ph.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=D_.bind(null,n),n}(c);try{const u=yield function(m,T){const C=yt(m),P=Ut.now(),F=T.reduce((ze,tt)=>ze.add(tt.key),Ln());let q,de;return C.persistence.runTransaction("Locally write mutations","readwrite",ze=>{let tt=Qi(),wt=Ln();return C.Ns.getEntries(ze,F).next(_t=>{tt=_t,tt.forEach((qt,An)=>{An.isValidDocument()||(wt=wt.add(qt))})}).next(()=>C.localDocuments.getOverlayedDocuments(ze,tt)).next(_t=>{q=_t;const qt=[];for(const An of T){const pn=dr(An,q.get(An.key).overlayedDocument);null!=pn&&qt.push(new $r(An.key,pn,Bc(pn.value.mapValue),V.exists(!0)))}return C.mutationQueue.addMutationBatch(ze,P,qt,T)}).next(_t=>{de=_t;const qt=_t.applyToLocalDocumentSet(q,wt);return C.documentOverlayCache.saveOverlays(ze,_t.batchId,qt)})}).then(()=>({batchId:de.batchId,changes:Wd(q)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(m,T,C){let P=m.Vu[m.currentUser.toKey()];P||(P=new $n(St)),P=P.insert(T,C),m.Vu[m.currentUser.toKey()]=P}(s,u.batchId,i),yield yc(s,u.changes),yield ld(s.remoteStore)}catch(u){const d=$a(u,"Failed to persist write");i.reject(d)}})).apply(this,arguments)}function al(c,n){return hm.apply(this,arguments)}function hm(){return(hm=(0,R.A)(function*(c,n){const i=yt(c);try{const s=yield function e_(c,n){const i=yt(c),s=n.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const T=[];n.targetChanges.forEach((F,q)=>{const de=u.get(q);if(!de)return;T.push(i.Pi.removeMatchingKeys(d,F.removedDocuments,q).next(()=>i.Pi.addMatchingKeys(d,F.addedDocuments,q)));let ze=de.withSequenceNumber(d.currentSequenceNumber);var wt,_t,qt;null!==n.targetMismatches.get(q)?ze=ze.withResumeToken(nn.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):F.resumeToken.approximateByteSize()>0&&(ze=ze.withResumeToken(F.resumeToken,s)),u=u.insert(q,ze),_t=ze,qt=F,(0===(wt=de).resumeToken.approximateByteSize()||_t.snapshotVersion.toMicroseconds()-wt.snapshotVersion.toMicroseconds()>=3e8||qt.addedDocuments.size+qt.modifiedDocuments.size+qt.removedDocuments.size>0)&&T.push(i.Pi.updateTargetData(d,ze))});let C=Qi(),P=Ln();if(n.documentUpdates.forEach(F=>{n.resolvedLimboDocuments.has(F)&&T.push(i.persistence.referenceDelegate.updateLimboDocument(d,F))}),T.push(function EI(c,n,i){let s=Ln(),u=Ln();return i.forEach(d=>s=s.add(d)),n.getEntries(c,s).next(d=>{let m=Qi();return i.forEach((T,C)=>{const P=d.get(T);C.isFoundDocument()!==P.isFoundDocument()&&(u=u.add(T)),C.isNoDocument()&&C.version.isEqual(Et.min())?(n.removeEntry(T,C.readTime),m=m.insert(T,C)):!P.isValidDocument()||C.version.compareTo(P.version)>0||0===C.version.compareTo(P.version)&&P.hasPendingWrites?(n.addEntry(C),m=m.insert(T,C)):je(Wf,"Ignoring outdated watch update for ",T,". Current version:",P.version," Watch version:",C.version)}),{ks:m,qs:u}})}(d,m,n.documentUpdates).next(F=>{C=F.ks,P=F.qs})),!s.isEqual(Et.min())){const F=i.Pi.getLastRemoteSnapshotVersion(d).next(q=>i.Pi.setTargetsMetadata(d,d.currentSequenceNumber,s));T.push(F)}return we.waitFor(T).next(()=>m.apply(d)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,C,P)).next(()=>C)}).then(d=>(i.Ms=u,d))}(i.localStore,n);n.targetChanges.forEach((u,d)=>{const m=i.Au.get(d);m&&(Nt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?m.hu=!0:u.modifiedDocuments.size>0?Nt(m.hu,14607):u.removedDocuments.size>0&&(Nt(m.hu,42227),m.hu=!1))}),yield yc(i,s,n)}catch(s){yield _r(s)}})).apply(this,arguments)}function cl(c,n,i){const s=yt(c);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Tu.forEach((d,m)=>{const T=m.view.va(n);T.snapshot&&u.push(T.snapshot)}),function(m,T){const C=yt(m);C.onlineState=T;let P=!1;C.queries.forEach((F,q)=>{for(const de of q.Sa)de.va(T)&&(P=!0)}),P&&Ch(C)}(s.eventManager,n),u.length&&s.Pu.H_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function xI(c,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,R.A)(function*(c,n,i){const s=yt(c);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Au.get(n),d=u&&u.key;if(d){let m=new $n(It.comparator);m=m.insert(d,Pr.newNoDocument(d,Et.min()));const T=Ln().add(d),C=new jl(Et.min(),new Map,new $n(St),m,T);yield al(s,C),s.du=s.du.remove(d),s.Au.delete(n),fp(s)}else yield nd(s.localStore,n,!1).then(()=>yd(s,n,i)).catch(_r)})).apply(this,arguments)}function Ph(c,n){return md.apply(this,arguments)}function md(){return(md=(0,R.A)(function*(c,n){const i=yt(c),s=n.batch.batchId;try{const u=yield function Ba(c,n){const i=yt(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),d=i.Ns.newChangeBuffer({trackRemovals:!0});return function(T,C,P,F){const q=P.batch,de=q.keys();let ze=we.resolve();return de.forEach(tt=>{ze=ze.next(()=>F.getEntry(C,tt)).next(wt=>{const _t=P.docVersions.get(tt);Nt(null!==_t,48541),wt.version.compareTo(_t)<0&&(q.applyToRemoteDocument(wt,P),wt.isValidDocument()&&(wt.setReadTime(P.commitVersion),F.addEntry(wt)))})}),ze.next(()=>T.mutationQueue.removeMutationBatch(C,q))}(i,s,n,d).next(()=>d.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(T){let C=Ln();for(let P=0;P<T.mutationResults.length;++P)T.mutationResults[P].transformResults.length>0&&(C=C.add(T.batch.mutations[P].key));return C}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);ji(i,s,null),fm(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield yc(i,u)}catch(u){yield _r(u)}})).apply(this,arguments)}function D_(c,n,i){return hp.apply(this,arguments)}function hp(){return(hp=(0,R.A)(function*(c,n,i){const s=yt(c);try{const u=yield function(m,T){const C=yt(m);return C.persistence.runTransaction("Reject batch","readwrite-primary",P=>{let F;return C.mutationQueue.lookupMutationBatch(P,T).next(q=>(Nt(null!==q,37113),F=q.keys(),C.mutationQueue.removeMutationBatch(P,q))).next(()=>C.mutationQueue.performConsistencyCheck(P)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(P,F,T)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(P,F)).next(()=>C.localDocuments.getDocuments(P,F))})}(s.localStore,n);ji(s,n,i),fm(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield yc(s,u)}catch(u){yield _r(u)}})).apply(this,arguments)}function fm(c,n){(c.mu.get(n)||[]).forEach(i=>{i.resolve()}),c.mu.delete(n)}function ji(c,n,i){const s=yt(c);let u=s.Vu[s.currentUser.toKey()];if(u){const d=u.get(n);d&&(i?d.reject(i):d.resolve(),u=u.remove(n)),s.Vu[s.currentUser.toKey()]=u}}function yd(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const s of c.Iu.get(n))c.Tu.delete(s),i&&c.Pu.yu(s,i);c.Iu.delete(n),c.isPrimaryClient&&c.Ru.jr(n).forEach(s=>{c.Ru.containsKey(s)||A_(c,s)})}function A_(c,n){c.Eu.delete(n.path.canonicalString());const i=c.du.get(n);null!==i&&(tl(c.remoteStore,i),c.du=c.du.remove(n),c.Au.delete(i),fp(c))}function Nh(c,n,i){for(const s of i)s instanceof sl?(c.Ru.addReference(s.key,n),C_(c,s)):s instanceof cp?(je(mc,"Document no longer in limbo: "+s.key),c.Ru.removeReference(s.key,n),c.Ru.containsKey(s.key)||A_(c,s.key)):Dt(19791,{wu:s})}function C_(c,n){const i=n.key,s=i.path.canonicalString();c.du.get(i)||c.Eu.has(s)||(je(mc,"New document in limbo: "+i),c.Eu.add(s),fp(c))}function fp(c){for(;c.Eu.size>0&&c.du.size<c.maxConcurrentLimboResolutions;){const n=c.Eu.values().next().value;c.Eu.delete(n);const i=new It(ln.fromString(n)),s=c.fu.next();c.Au.set(s,new w_(i)),c.du=c.du.insert(i,s),Ih(c.remoteStore,new Yn(kn(qi(i.path)),s,"TargetPurposeLimboResolution",te.ce))}}function yc(c,n,i){return b_.apply(this,arguments)}function b_(){return b_=(0,R.A)(function*(c,n,i){const s=yt(c),u=[],d=[],m=[];var T;s.Tu.isEmpty()||(s.Tu.forEach((T,C)=>{m.push(s.pu(C,n,i).then(P=>{if((P||i)&&s.isPrimaryClient){const F=P?!P.fromCache:i?.targetChanges.get(C.targetId)?.current;s.sharedClientState.updateQueryState(C.targetId,F?"current":"not-current")}if(P){u.push(P);const F=Vg.As(C.targetId,P);d.push(F)}}))}),yield Promise.all(m),s.Pu.H_(u),yield(T=(0,R.A)(function*(P,F){const q=yt(P);try{yield q.persistence.runTransaction("notifyLocalViewChanges","readwrite",de=>we.forEach(F,ze=>we.forEach(ze.Es,tt=>q.persistence.referenceDelegate.addReference(de,ze.targetId,tt)).next(()=>we.forEach(ze.ds,tt=>q.persistence.referenceDelegate.removeReference(de,ze.targetId,tt)))))}catch(de){if(!an(de))throw de;je(Wf,"Failed to update sequence numbers: "+de)}for(const de of F){const ze=de.targetId;if(!de.fromCache){const tt=q.Ms.get(ze),_t=tt.withLastLimboFreeSnapshotVersion(tt.snapshotVersion);q.Ms=q.Ms.insert(ze,_t)}}}),function C(P,F){return T.apply(this,arguments)})(s.localStore,d))}),b_.apply(this,arguments)}function S_(c,n){return pm.apply(this,arguments)}function pm(){return(pm=(0,R.A)(function*(c,n){const i=yt(c);if(!i.currentUser.isEqual(n)){je(mc,"User change. New user:",n.toKey());const s=yield $g(i.localStore,n);i.currentUser=n,(d=i).mu.forEach(T=>{T.forEach(C=>{C.reject(new Q(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.mu.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield yc(i,s.Ls)}var d})).apply(this,arguments)}function yw(c,n){const i=yt(c),s=i.Au.get(n);if(s&&s.hu)return Ln().add(s.key);{let u=Ln();const d=i.Iu.get(n);if(!d)return u;for(const m of d){const T=i.Tu.get(m);u=u.unionWith(T.view.nu)}return u}}function kh(c){const n=yt(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=al.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=yw.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=xI.bind(null,n),n.Pu.H_=v_.bind(null,n.eventManager),n.Pu.yu=I_.bind(null,n.eventManager),n}let Im=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,R.A)(function*(){s.serializer=Yu(i.databaseInfo.databaseId),s.sharedClientState=s.Du(i),s.persistence=s.Cu(i),yield s.persistence.start(),s.localStore=s.vu(i),s.gcScheduler=s.Fu(i,s.localStore),s.indexBackfillerScheduler=s.Mu(i,s.localStore)})()}Fu(i,s){return null}Mu(i,s){return null}vu(i){return function Zy(c,n,i,s){return new II(c,n,i,s)}(this.persistence,new Bg,i.initialUser,this.serializer)}Cu(i){return new dc(Gf.mi,this.serializer)}Du(i){return new s_}terminate(){var i=this;return(0,R.A)(function*(){i.gcScheduler?.stop(),i.indexBackfillerScheduler?.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class _p extends Im{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,i){return Nt(this.persistence.referenceDelegate instanceof js,46915),new Ee(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}Cu(n){const i=void 0!==this.cacheSizeBytes?Ii.withCacheSize(this.cacheSizeBytes):Ii.DEFAULT;return new dc(s=>js.mi(s,i),this.serializer)}}let hu=(()=>{class c{initialize(i,s){var u=this;return(0,R.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=d=>cl(u.syncEngine,d,1),u.remoteStore.remoteSyncer.handleCredentialChange=S_.bind(null,u.syncEngine),yield function rl(c,n){return dd.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new cm}createDatastore(i){const s=Yu(i.databaseInfo.databaseId),u=new _h(i.databaseInfo);return new AI(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,d=this.datastore,m=i.asyncQueue,T=s=>cl(this.syncEngine,s,0),C=Kf.v()?new Kf:new TI,new l_(u,d,m,T,C);var u,d,m,T,C}createSyncEngine(i,s){return function(d,m,T,C,P,F,q){const de=new lm(d,m,T,C,P,F);return q&&(de.gu=!0),de}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,R.A)(function*(){var s;yield(s=(0,R.A)(function*(d){const m=yt(d);je(el,"RemoteStore shutting down."),m.Ea.add(5),yield pc(m),m.Aa.shutdown(),m.Ra.set("Unknown")}),function u(d){return s.apply(this,arguments)})(i.remoteStore),i.datastore?.terminate(),i.eventManager?.terminate()})()}}return c.provider={build:()=>new c},c})();class Lh{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ou(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ou(this.observer.error,n):en("Uncaught Error in snapshot listener:",n.toString()))}Nu(){this.muted=!0}Ou(n,i){setTimeout(()=>{this.muted||n(i)},0)}}const fu="FirestoreClient";class _w{constructor(n,i,s,u,d){var m=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=at.UNAUTHENTICATED,this.clientId=ri.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=d,this.authCredentials.start(s,function(){var T=(0,R.A)(function*(C){je(fu,"Received user=",C.uid),yield m.authCredentialListener(C),m.user=C});return function(C){return T.apply(this,arguments)}}()),this.appCheckCredentials.start(s,T=>(je(fu,"Received new app check token=",T),this.appCheckCredentialListener(T,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Se;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,R.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=$a(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Fh(c,n){return N_.apply(this,arguments)}function N_(){return N_=(0,R.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),je(fu,"Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let s=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,R.A)(function*(d){s.isEqual(d)||(yield $g(n.localStore,d),s=d)});return function(d){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),N_.apply(this,arguments)}function Vh(c,n){return ll.apply(this,arguments)}function ll(){return(ll=(0,R.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield function wm(c){return vp.apply(this,arguments)}(c);je(fu,"Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(s=>wh(n.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>wh(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function vp(){return(vp=(0,R.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){je(fu,"Using user provided OfflineComponentProvider");try{yield Fh(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===ve.FAILED_PRECONDITION||u.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;Bn("Error using user provided cache. Falling back to memory cache: "+n),yield Fh(c,new Im)}}else je(fu,"Using default OfflineComponentProvider"),yield Fh(c,new _p(void 0));var u;return c._offlineComponents})).apply(this,arguments)}function Ip(c){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,R.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(je(fu,"Using user provided OnlineComponentProvider"),yield Vh(c,c._uninitializedComponentsProvider._online)):(je(fu,"Using default OnlineComponentProvider"),yield Vh(c,new hu))),c._onlineComponents})).apply(this,arguments)}function hl(c){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,R.A)(function*(c){const n=yield Ip(c),i=n.eventManager;return i.onListen=MI.bind(null,n.syncEngine),i.onUnlisten=pd.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=mw.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=Rh.bind(null,n.syncEngine),i})).apply(this,arguments)}function Tp(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const Sm=new Map,pu="firestore.googleapis.com";class F_{constructor(n){if(void 0===n.host){if(void 0!==n.ssl)throw new Q(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pu,this.ssl=!0}else this.host=n.host,this.ssl=n.ssl??!0;if(this.isUsingEmulator=void 0!==n.emulatorOptions,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Q(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function oi(c,n,i,s){if(!0===n&&!0===s)throw new Q(ve.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Tp(n.experimentalLongPollingOptions??{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Q(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class $h{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Q(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(n),this._emulatorOptions=n.emulatorOptions||{},void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new Re;switch(s.type){case"firstParty":return new kt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Q(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,R.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Sm.get(i);s&&(je("ComponentProvider","Removing Datastore"),Sm.delete(i),s.terminate())}(this),Promise.resolve()}}class no{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new no(this.firestore,n,this._query)}}class kr{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new kr(this.firestore,n,this._key)}toJSON(){return{type:kr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,i,s){if(sn(i,kr._jsonSchema))return new kr(n,s||null,new It(ln.fromString(i.referencePath)))}}kr._jsonSchemaVersion="firestore/documentReference/1.0",kr._jsonSchema={type:dt("string",kr._jsonSchemaVersion),referencePath:dt("string")};class za extends no{constructor(n,i,s){super(n,i,qi(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new kr(this.firestore,null,new It(n))}withConverter(n){return new za(this.firestore,n,this._path)}}function $I(c,n,...i){if(c=(0,Pe.Ku)(c),At("collection","path",n),c instanceof $h){const s=ln.fromString(n,...i);return ut(s),new za(c,null,s)}{if(!(c instanceof kr||c instanceof za))throw new Q(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(ln.fromString(n,...i));return ut(s),new za(c.firestore,null,s)}}function V_(c,n,...i){if(c=(0,Pe.Ku)(c),1===arguments.length&&(n=ri.newId()),At("doc","path",n),c instanceof $h){const s=ln.fromString(n,...i);return hi(s),new kr(c,null,new It(s))}{if(!(c instanceof kr||c instanceof za))throw new Q(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(ln.fromString(n,...i));return hi(s),new kr(c.firestore,c instanceof za?c.converter:null,new It(s))}}const U_="AsyncQueue";class B_{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jf(this,"async_queue_retry"),this._c=()=>{const s=vh();s&&je(U_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=n;const i=vh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const i=vh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Se;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Xu.push(n),this.lc()))}lc(){var n=this;return(0,R.A)(function*(){if(0!==n.Xu.length){try{yield n.Xu[0](),n.Xu.shift(),n.M_.reset()}catch(i){if(!an(i))throw i;je(U_,"Operation failed with retryable error: "+i)}n.Xu.length>0&&n.M_.p_(()=>n.lc())}})()}cc(n){const i=this.ac.then(()=>(this.rc=!0,n().catch(s=>{throw this.nc=s,this.rc=!1,en("INTERNAL UNHANDLED ERROR: ",Dp(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(n,i,s){this.uc(),this.oc.indexOf(n)>-1&&(i=0);const u=hd.createAndSchedule(this,n,i,s,d=>this.hc(d));return this.tc.push(u),u}uc(){this.nc&&Dt(47125,{Pc:Dp(this.nc)})}verifyOperationInProgress(){}Tc(){var n=this;return(0,R.A)(function*(){let i;do{i=n.ac,yield i}while(i!==n.ac)})()}Ic(n){for(const i of this.tc)if(i.timerId===n)return!0;return!1}Ec(n){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.Tc()})}dc(n){this.oc.push(n)}hc(n){const i=this.tc.indexOf(n);this.tc.splice(i,1)}}function Dp(c){let n=c.message||"";return c.stack&&(n=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),n}class Lr extends $h{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new B_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,R.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new B_(i),n._firestoreClient=void 0,yield i}})()}}function vc(c,n){const i="object"==typeof c?c:(0,$.Sx)(),s="string"==typeof c?c:n||As,u=(0,$.j6)(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const d=(0,Pe.yU)("firestore");d&&function jI(c,n,i,s={}){c=Ie(c,$h);const u=(0,Pe.zJ)(n),d=c._getSettings(),m={...d,emulatorOptions:c._getEmulatorOptions()},T=`${n}:${i}`;u&&((0,Pe.gE)(`https://${T}`),(0,Pe.P1)("Firestore",!0)),d.host!==pu&&d.host!==T&&Bn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const C={...d,host:T,ssl:u,emulatorOptions:s};if(!(0,Pe.bD)(C,m)&&(c._setSettings(C),s.mockUserToken)){let P,F;if("string"==typeof s.mockUserToken)P=s.mockUserToken,F=at.MOCK_USER;else{P=(0,Pe.Fy)(s.mockUserToken,c._app?.options.projectId);const q=s.mockUserToken.sub||s.mockUserToken.user_id;if(!q)throw new Q(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new at(q)}c._authCredentials=new ot(new Ve(P,F))}}(u,...d)}return u}function Kr(c){if(c._terminated)throw new Q(ve.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||function Pm(c){const n=c._freezeSettings(),i=new Pu(c._databaseId,c._app?.options.appId||"",c._persistenceKey,(T=n).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Tp(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator);var T;c._componentsProvider||n.localCache?._offlineComponentProvider&&n.localCache?._onlineComponentProvider&&(c._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),c._firestoreClient=new _w(c._authCredentials,c._appCheckCredentials,c._queue,i,c._componentsProvider&&function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}}(c._componentsProvider))}(c),c._firestoreClient}class $i{constructor(n){this._byteString=n}static fromBase64String(n){try{return new $i(nn.fromBase64String(n))}catch(i){throw new Q(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new $i(nn.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:$i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(sn(n,$i._jsonSchema))return $i.fromBase64String(n.bytes)}}$i._jsonSchemaVersion="firestore/bytes/1.0",$i._jsonSchema={type:dt("string",$i._jsonSchemaVersion),bytes:dt("string")};class ga{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Q(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Gh{constructor(n){this._methodName=n}}class Ic{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Q(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Q(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return St(this._lat,n._lat)||St(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ic._jsonSchemaVersion}}static fromJSON(n){if(sn(n,Ic._jsonSchema))return new Ic(n.latitude,n.longitude)}}Ic._jsonSchemaVersion="firestore/geoPoint/1.0",Ic._jsonSchema={type:dt("string",Ic._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};class Ga{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let d=0;d<s.length;++d)if(s[d]!==u[d])return!1;return!0}(this._values,n._values)}toJSON(){return{type:Ga._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(sn(n,Ga._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every(i=>"number"==typeof i))return new Ga(n.vectorValues);throw new Q(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ga._jsonSchemaVersion="firestore/vectorValue/1.0",Ga._jsonSchema={type:dt("string",Ga._jsonSchemaVersion),vectorValues:dt("object")};const bw=/^__.*__$/;class Sw{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new $r(n,this.data,this.fieldMask,i,this.fieldTransforms):new lr(n,this.data,i,this.fieldTransforms)}}class Mm{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new $r(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function H_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:c})}}class Cp{constructor(n,i,s,u,d,m){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===d&&this.Rc(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(n){return new Cp({...this.settings,...n},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(n){const i=this.path?.child(n),s=this.Vc({path:i,fc:!1});return s.gc(n),s}yc(n){const i=this.path?.child(n),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(n){return this.Vc({path:void 0,fc:!0})}Sc(n){return xp(n,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}Rc(){if(this.path)for(let n=0;n<this.path.length;n++)this.gc(this.path.get(n))}gc(n){if(0===n.length)throw this.Sc("Document fields must not be empty");if(H_(this.Ac)&&bw.test(n))throw this.Sc('Document fields cannot begin and end with "__"')}}class JI{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||Yu(n)}Cc(n,i,s,u=!1){return new Cp({Ac:n,methodName:i,Dc:s,path:Wn.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pl(c){const n=c._freezeSettings(),i=Yu(c._databaseId);return new JI(c._databaseId,!!n.ignoreUndefinedProperties,i)}function wd(c,n,i,s,u,d={}){const m=c.Cc(d.merge||d.mergeFields?2:0,n,i,u);Mp("Data must be an object, but it was:",m,s);const T=ZI(s,m);let C,P;if(d.merge)C=new Rr(m.fieldMask),P=m.fieldTransforms;else if(d.mergeFields){const F=[];for(const q of d.mergeFields){const de=Wh(n,q,i);if(!m.contains(de))throw new Q(ve.INVALID_ARGUMENT,`Field '${de}' is specified in your field mask but missing from your input data.`);q_(F,de)||F.push(de)}C=new Rr(F),P=m.fieldTransforms.filter(q=>C.covers(q.field))}else C=null,P=m.fieldTransforms;return new Sw(new ui(T),C,P)}class ms extends Gh{_toFieldTransform(n){if(2!==n.Ac)throw n.Sc(1===n.Ac?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof ms}}function Ec(c,n){if(YI(c=(0,Pe.Ku)(c)))return Mp("Unsupported field value:",n,c),ZI(c,n);if(c instanceof Gh)return function(s,u){if(!H_(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(u);d&&u.fieldTransforms.push(d)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.fc&&4!==n.Ac)throw n.Sc("Nested arrays are not supported");return function(s,u){const d=[];let m=0;for(const T of s){let C=Ec(T,u.wc(m));null==C&&(C={nullValue:"NULL_VALUE"}),d.push(C),m++}return{arrayValue:{values:d}}}(c,n)}return function(s,u){if(null===(s=(0,Pe.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return kf(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Ut.fromDate(s);return{timestampValue:ns(u.serializer,d)}}if(s instanceof Ut){const d=new Ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ns(u.serializer,d)}}if(s instanceof Ic)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $i)return{bytesValue:rs(u.serializer,s._byteString)};if(s instanceof kr){const d=u.databaseId,m=s.firestore._databaseId;if(!m.isEqual(d))throw u.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Xc(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ga)return m=s,T=u,{mapValue:{fields:{[Aa]:{stringValue:Cs},[Wi]:{arrayValue:{values:m.toArray().map(P=>{if("number"!=typeof P)throw T.Sc("VectorValues must only contain numeric values.");return sc(T.serializer,P)})}}}}};var m,T;throw u.Sc(`Unsupported field value: ${ge(s)}`)}(c,n)}function ZI(c,n){const i={};return Lc(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):lo(c,(s,u)=>{const d=Ec(u,n.mc(s));null!=d&&(i[s]=d)}),{mapValue:{fields:i}}}function YI(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Ut||c instanceof Ic||c instanceof $i||c instanceof kr||c instanceof Gh||c instanceof Ga)}function Mp(c,n,i){if(!YI(i)||!Ke(i)){const s=ge(i);throw n.Sc("an object"===s?c+" a custom object":c+" "+s)}}function Wh(c,n,i){if((n=(0,Pe.Ku)(n))instanceof ga)return n._internalPath;if("string"==typeof n)return Np(c,n);throw xp("Field path arguments must be of type string or ",c,!1,void 0,i)}const eE=new RegExp("[~\\*/\\[\\]]");function Np(c,n,i){if(n.search(eE)>=0)throw xp(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new ga(...n.split("."))._internalPath}catch{throw xp(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function xp(c,n,i,s,u){const d=s&&!s.isEmpty(),m=void 0!==u;let T=`Function ${n}() called with invalid data`;i&&(T+=" (via `toFirestore()`)"),T+=". ";let C="";return(d||m)&&(C+=" (found",d&&(C+=` in field ${s}`),m&&(C+=` in document ${u}`),C+=")"),new Q(ve.INVALID_ARGUMENT,T+c+C)}function q_(c,n){return c.some(i=>i.isEqual(n))}class Ad{constructor(n,i,s,u,d){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new K_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Op("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class K_ extends Ad{data(){return super.data()}}function Op(c,n){return"string"==typeof n?Np(c,n):n instanceof ga?n._internalPath:n._delegate._internalPath}class kp{}class gu extends kp{}function tE(c,n,...i){let s=[];n instanceof kp&&s.push(n),s=s.concat(i),function(d){const m=d.filter(C=>C instanceof ma).length,T=d.filter(C=>C instanceof gl).length;if(m>1||m>0&&T>0)throw new Q(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class gl extends gu{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new gl(n,i,s)}_apply(n){const i=this._parse(n);return Y_(n._query,i),new no(n.firestore,n.converter,Ra(n._query,i))}_parse(n){const i=pl(n.firestore);return function(d,m,T,C,P,F,q){let de;if(P.isKeyField()){if("array-contains"===F||"array-contains-any"===F)throw new Q(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${F}' queries on documentId().`);if("in"===F||"not-in"===F){xm(q,F);const tt=[];for(const wt of q)tt.push(Z_(C,d,wt));de={arrayValue:{values:tt}}}else de=Z_(C,d,q)}else"in"!==F&&"not-in"!==F&&"array-contains-any"!==F||xm(q,F),de=function Pp(c,n,i,s=!1){return Ec(i,c.Cc(s?4:3,n))}(T,"where",q,"in"===F||"not-in"===F);return Yt.create(P,F,de)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function nE(c,n,i){const s=n,u=Op("where",c);return gl._create(u,s,i)}class ma extends kp{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new ma(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Ye.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,d){let m=u;const T=d.getFlattenedFilters();for(const C of T)Y_(m,C),m=Ra(m,C)}(n._query,i),new no(n.firestore,n.converter,Ra(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qh extends gu{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new qh(n,i)}_apply(n){const i=function(u,d,m){if(null!==u.startAt)throw new Q(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Q(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $c(d,m)}(n._query,this._field,this._direction);return new no(n.firestore,n.converter,function(u,d){const m=u.explicitOrderBy.concat([d]);return new Ht(u.path,u.collectionGroup,m,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}function X_(c,n="asc"){const i=n,s=Op("orderBy",c);return qh._create(s,i)}function Z_(c,n,i){if("string"==typeof(i=(0,Pe.Ku)(i))){if(""===i)throw new Q(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tc(n)&&-1!==i.indexOf("/"))throw new Q(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(ln.fromString(i));if(!It.isDocumentKey(s))throw new Q(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return So(c,new It(s))}if(i instanceof kr)return So(c,i._key);throw new Q(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ge(i)}.`)}function xm(c,n){if(!Array.isArray(c)||0===c.length)throw new Q(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function Y_(c,n){const i=function(u,d){for(const m of u)for(const T of m.getFlattenedFilters())if(d.indexOf(T.op)>=0)return T.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Q(ve.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class tv{convertValue(n,i="none"){switch(bo(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Qn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(Ai(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw Dt(62114,{value:n})}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return lo(n,(u,d)=>{s[u]=this.convertValue(d,i)}),s}convertVectorValue(n){const i=n.fields?.[Wi].arrayValue?.values?.map(s=>Qn(s.doubleValue));return new Ga(i)}convertGeoPoint(n){return new Ic(Qn(n.latitude),Qn(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=Da(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ko(n));default:return null}}convertTimestamp(n){const i=Br(n);return new Ut(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=ln.fromString(n);Nt(Vs(s),9688,{name:n});const u=new Qo(s.get(1),s.get(3)),d=new It(s.popFirst(5));return u.isEqual(i)||en(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),d}}class ml{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Hs extends Ad{constructor(n,i,s,u,d,m){super(n,i,s,u,m),this._firestore=n,this._firestoreImpl=n,this.metadata=d}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Op("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,i={};return i.type=Hs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),n&&n.isValidDocument()&&n.isFoundDocument()?(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),i.bundle="NOT SUPPORTED",i):i}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:dt("string",Hs._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};class km extends Hs{data(n={}){return super.data(n)}}class ys{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new ml(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new km(this._firestore,this._userDataWriter,s.key,s,new ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Q(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,d){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(T=>({type:"added",doc:new km(u._firestore,u._userDataWriter,T.doc.key,T.doc,new ml(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(T=>d||3!==T.type).map(T=>{const C=new km(u._firestore,u._userDataWriter,T.doc.key,T.doc,new ml(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter);let P=-1,F=-1;return 0!==T.type&&(P=m.indexOf(T.doc.key),m=m.delete(T.doc.key)),1!==T.type&&(m=m.add(T.doc),F=m.indexOf(T.doc.key)),{type:Bp(T.type),doc:C,oldIndex:P,newIndex:F}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=ys._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=ri.newId();const i=[],s=[],u=[];return this.docs.forEach(d=>{null!==d._document&&(i.push(d._document),s.push(this._userDataWriter.convertObjectMap(d._document.data.value.mapValue.fields,"previous")),u.push(d.ref.path))}),n.bundle="NOT SUPPORTED",n}}function Bp(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:c})}}function iv(c){c=Ie(c,kr);const n=Ie(c.firestore,Lr);return function VI(c,n,i={}){const s=new Se;return c.asyncQueue.enqueueAndForget((0,R.A)(function*(){return function(d,m,T,C,P){const F=new Lh({next:de=>{F.Nu(),m.enqueueAndForget(()=>sp(d,q));const ze=de.docs.has(T);!ze&&de.fromCache?P.reject(new Q(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):ze&&de.fromCache&&C&&"server"===C.source?P.reject(new Q(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):P.resolve(de)},error:de=>P.reject(de)}),q=new ap(qi(T.path),F,{includeMetadataChanges:!0,qa:!0});return ip(d,q)}(yield hl(c),c.asyncQueue,n,i,s)})),s.promise}(Kr(n),c._key).then(i=>function Fm(c,n,i){const s=i.docs.get(n._key),u=new Tc(c);return new Hs(c,u,n._key,s,new ml(i.hasPendingWrites,i.fromCache),n.converter)}(n,c,i))}ys._jsonSchemaVersion="firestore/querySnapshot/1.0",ys._jsonSchema={type:dt("string",ys._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};class Tc extends tv{constructor(n){super(),this.firestore=n}convertBytes(n){return new $i(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new kr(this.firestore,null,i)}}function ov(c){c=Ie(c,no);const n=Ie(c.firestore,Lr),i=Kr(n),s=new Tc(n);return function Q_(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new Q(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(c._query),function O_(c,n,i={}){const s=new Se;return c.asyncQueue.enqueueAndForget((0,R.A)(function*(){return function(d,m,T,C,P){const F=new Lh({next:de=>{F.Nu(),m.enqueueAndForget(()=>sp(d,q)),de.fromCache&&"server"===C.source?P.reject(new Q(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):P.resolve(de)},error:de=>P.reject(de)}),q=new ap(T,F,{includeMetadataChanges:!0,qa:!0});return ip(d,q)}(yield hl(c),c.asyncQueue,n,i,s)})),s.promise}(i,c._query).then(u=>new ys(n,s,c,u))}function Vw(c,n,i,...s){c=Ie(c,kr);const u=Ie(c.firestore,Lr),d=pl(u);let m;return m="string"==typeof(n=(0,Pe.Ku)(n))||n instanceof ga?function W_(c,n,i,s,u,d){const m=c.Cc(1,n,i),T=[Wh(n,s,i)],C=[u];if(d.length%2!=0)throw new Q(ve.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let de=0;de<d.length;de+=2)T.push(Wh(n,d[de])),C.push(d[de+1]);const P=[],F=ui.empty();for(let de=T.length-1;de>=0;--de)if(!q_(P,T[de])){const ze=T[de];let tt=C[de];tt=(0,Pe.Ku)(tt);const wt=m.yc(ze);if(tt instanceof ms)P.push(ze);else{const _t=Ec(tt,wt);null!=_t&&(P.push(ze),F.set(ze,_t))}}const q=new Rr(P);return new Mm(F,q,m.fieldTransforms)}(d,"updateDoc",c._key,n,i,s):function G_(c,n,i,s){const u=c.Cc(1,n,i);Mp("Data must be an object, but it was:",u,s);const d=[],m=ui.empty();lo(s,(C,P)=>{const F=Np(n,C,i);P=(0,Pe.Ku)(P);const q=u.yc(F);if(P instanceof ms)d.push(F);else{const de=Ec(P,q);null!=de&&(d.push(F),m.set(F,de))}});const T=new Rr(d);return new Mm(m,T,u.fieldTransforms)}(d,"updateDoc",c._key,n),jp(u,[m.toMutation(c._key,V.exists(!0))])}function aE(c){return jp(Ie(c.firestore,Lr),[new xs(c._key,V.none())])}function Uw(c,n){const i=Ie(c.firestore,Lr),s=V_(c),u=function Up(c,n,i){let s;return s=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,s}(c.converter,n);return jp(i,[wd(pl(c.firestore),"addDoc",s._key,u,null!==c.converter,{}).toMutation(s._key,V.exists(!1))]).then(()=>s)}function jp(c,n){return function(s,u){const d=new Se;return s.asyncQueue.enqueueAndForget((0,R.A)(function*(){return function NI(c,n,i){return dm.apply(this,arguments)}(yield function Cm(c){return Ip(c).then(n=>n.syncEngine)}(s),u,d)})),d.promise}(Kr(c),n)}!function(n,i=!0){it=$.MF,(0,$.om)(new H.uA("firestore",(s,{instanceIdentifier:u,options:d})=>{const m=s.getProvider("app").getImmediate(),T=new Lr(new ft(s.getProvider("auth-internal")),new Bt(m,s.getProvider("app-check-internal")),function(P,F){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new Q(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(P.options.projectId,F)}(m,u),m);return d={useFetchStreams:i,...d},T._setSettings(d),T},"PUBLIC").setMultipleInstances(!0)),(0,$.KO)(mt,"4.9.1",n),(0,$.KO)(mt,"4.9.1","esm2020")}()},9164:(gn,pt,W)=>{W.d(pt,{cY:()=>et,FA:()=>tr,g:()=>Hn,u:()=>We,Uj:()=>se,Fy:()=>en,tD:()=>hr,bD:()=>Ke,hp:()=>sn,T9:()=>at,Tj:()=>mt,yU:()=>Oe,XA:()=>it,mS:()=>Cn,Ku:()=>we,ZQ:()=>Ar,sr:()=>Re,zJ:()=>Te,c1:()=>Ve,Im:()=>hi,lT:()=>Wt,zW:()=>on,jZ:()=>yt,lV:()=>ot,nr:()=>Bt,Ov:()=>Tn,gE:()=>mn,Am:()=>st,I9:()=>dt,P1:()=>Nt,eX:()=>ri});var R=W(467);const gt=function(re){const ie=[];let me=0;for(let rt=0;rt<re.length;rt++){let He=re.charCodeAt(rt);He<128?ie[me++]=He:He<2048?(ie[me++]=He>>6|192,ie[me++]=63&He|128):55296==(64512&He)&&rt+1<re.length&&56320==(64512&re.charCodeAt(rt+1))?(He=65536+((1023&He)<<10)+(1023&re.charCodeAt(++rt)),ie[me++]=He>>18|240,ie[me++]=He>>12&63|128,ie[me++]=He>>6&63|128,ie[me++]=63&He|128):(ie[me++]=He>>12|224,ie[me++]=He>>6&63|128,ie[me++]=63&He|128)}return ie},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,ie){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const me=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,rt=[];for(let He=0;He<re.length;He+=3){const Kt=re[He],an=He+1<re.length,ar=an?re[He+1]:0,z=He+2<re.length,X=z?re[He+2]:0;let Fe=(15&ar)<<2|X>>6,Xe=63&X;z||(Xe=64,an||(Fe=64)),rt.push(me[Kt>>2],me[(3&Kt)<<4|ar>>4],me[Fe],me[Xe])}return rt.join("")},encodeString(re,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(re):this.encodeByteArray(gt(re),ie)},decodeString(re,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(re):function(re){const ie=[];let me=0,rt=0;for(;me<re.length;){const He=re[me++];if(He<128)ie[rt++]=String.fromCharCode(He);else if(He>191&&He<224){const Kt=re[me++];ie[rt++]=String.fromCharCode((31&He)<<6|63&Kt)}else if(He>239&&He<365){const z=((7&He)<<18|(63&re[me++])<<12|(63&re[me++])<<6|63&re[me++])-65536;ie[rt++]=String.fromCharCode(55296+(z>>10)),ie[rt++]=String.fromCharCode(56320+(1023&z))}else{const Kt=re[me++],an=re[me++];ie[rt++]=String.fromCharCode((15&He)<<12|(63&Kt)<<6|63&an)}}return ie.join("")}(this.decodeStringToByteArray(re,ie))},decodeStringToByteArray(re,ie){this.init_();const me=ie?this.charToByteMapWebSafe_:this.charToByteMap_,rt=[];for(let He=0;He<re.length;){const Kt=me[re.charAt(He++)],ar=He<re.length?me[re.charAt(He)]:0;++He;const X=He<re.length?me[re.charAt(He)]:64;++He;const Me=He<re.length?me[re.charAt(He)]:64;if(++He,null==Kt||null==ar||null==X||null==Me)throw new ct;rt.push(Kt<<2|ar>>4),64!==X&&(rt.push(ar<<4&240|X>>2),64!==Me&&rt.push(X<<6&192|Me))}return rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class ct extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const se=function(re){return function(re){const ie=gt(re);return Be.encodeByteArray(ie,!0)}(re).replace(/\./g,"")},We=function(re){try{return Be.decodeString(re,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function Cn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const En=()=>{try{return Cn().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=re&&We(re[1]);return ie&&JSON.parse(ie)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},mt=re=>En()?.emulatorHosts?.[re],Oe=re=>{const ie=mt(re);if(!ie)return;const me=ie.lastIndexOf(":");if(me<=0||me+1===ie.length)throw new Error(`Invalid host ${ie} with no separate hostname and port!`);const rt=parseInt(ie.substring(me+1),10);return"["===ie[0]?[ie.substring(1,me-1),rt]:[ie.substring(0,me),rt]},at=()=>En()?.config,it=re=>En()?.[`_${re}`];class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,me)=>{this.resolve=ie,this.reject=me})}wrapCallback(ie){return(me,rt)=>{me?this.reject(me):this.resolve(rt),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(me):ie(me,rt))}}}function Te(re){try{return(re.startsWith("http://")||re.startsWith("https://")?new URL(re).hostname:re).endsWith(".cloudworkstations.dev")}catch{return!1}}function mn(re){return je.apply(this,arguments)}function je(){return(je=(0,R.A)(function*(re){return(yield fetch(re,{credentials:"include"})).ok})).apply(this,arguments)}function en(re,ie){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const rt=ie||"demo-project",He=re.iat||0,Kt=re.sub||re.user_id;if(!Kt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const an={iss:`https://securetoken.google.com/${rt}`,aud:rt,iat:He,exp:He+3600,auth_time:He,sub:Kt,user_id:Kt,firebase:{sign_in_provider:"custom",identities:{}},...re};return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(an)),""].join(".")}const Bn={};let wn=!1;function Nt(re,ie){if(typeof window>"u"||typeof document>"u"||!Te(window.location.host)||Bn[re]===ie||Bn[re]||wn)return;function me(Fe){return`__firebase__banner__${Fe}`}Bn[re]=ie;const rt="__firebase__banner",Kt=function Xn(){const re={prod:[],emulator:[]};for(const ie of Object.keys(Bn))Bn[ie]?re.emulator.push(ie):re.prod.push(ie);return re}().prod.length>0;function Me(){const Fe=function Dt(re){let ie=document.getElementById(re),me=!1;return ie||(ie=document.createElement("div"),ie.setAttribute("id",re),me=!0),{created:me,element:ie}}(rt),Xe=me("text"),te=document.getElementById(Xe)||document.createElement("span"),ne=me("learnmore"),Ce=document.getElementById(ne)||document.createElement("a"),lt=me("preprendIcon"),Ft=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(Fe.created){const Xt=Fe.element;(function ar(Fe){Fe.style.display="flex",Fe.style.background="#7faaf0",Fe.style.position="fixed",Fe.style.bottom="5px",Fe.style.left="5px",Fe.style.padding=".5em",Fe.style.borderRadius="5px",Fe.style.alignItems="center"})(Xt),function ce(Fe,Xe){Fe.setAttribute("id",Xe),Fe.innerText="Learn more",Fe.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",Fe.setAttribute("target","__blank"),Fe.style.paddingLeft="5px",Fe.style.textDecoration="underline"}(Ce,ne);const $t=function X(){const Fe=document.createElement("span");return Fe.style.cursor="pointer",Fe.style.marginLeft="16px",Fe.style.fontSize="24px",Fe.innerHTML=" &times;",Fe.onclick=()=>{wn=!0,function an(){const Fe=document.getElementById(rt);Fe&&Fe.remove()}()},Fe}();(function z(Fe,Xe){Fe.setAttribute("width","24"),Fe.setAttribute("id",Xe),Fe.setAttribute("height","24"),Fe.setAttribute("viewBox","0 0 24 24"),Fe.setAttribute("fill","none"),Fe.style.marginLeft="-6px"})(Ft,lt),Xt.append(Ft,te,Ce,$t),document.body.appendChild(Xt)}Kt?(te.innerText="Preview backend disconnected.",Ft.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(Ft.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',te.innerText="Preview backend running in this workspace."),te.setAttribute("id",Xe)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",Me):Me()}function Ar(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function ve(){const re=En()?.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ve(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Re(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wt(){const re=Ar();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Bt(){return!ve()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tn(){return!ve()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function on(){try{return"object"==typeof indexedDB}catch{return!1}}function ri(){return new Promise((re,ie)=>{try{let me=!0;const rt="validate-browser-context-for-indexeddb-analytics-module",He=self.indexedDB.open(rt);He.onsuccess=()=>{He.result.close(),me||self.indexedDB.deleteDatabase(rt),re(!0)},He.onupgradeneeded=()=>{me=!1},He.onerror=()=>{ie(He.error?.message||"")}}catch(me){ie(me)}})}class Hn extends Error{constructor(ie,me,rt){super(me),this.code=ie,this.customData=rt,this.name="FirebaseError",Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tr.prototype.create)}}class tr{constructor(ie,me,rt){this.service=ie,this.serviceName=me,this.errors=rt}create(ie,...me){const rt=me[0]||{},He=`${this.service}/${ie}`,Kt=this.errors[ie],an=Kt?function Cr(re,ie){return re.replace(Qr,(me,rt)=>{const He=ie[rt];return null!=He?String(He):`<${rt}?>`})}(Kt,rt):"Error";return new Hn(He,`${this.serviceName}: ${an} (${He}).`,rt)}}const Qr=/\{\$([^}]+)}/g;function hi(re){for(const ie in re)if(Object.prototype.hasOwnProperty.call(re,ie))return!1;return!0}function Ke(re,ie){if(re===ie)return!0;const me=Object.keys(re),rt=Object.keys(ie);for(const He of me){if(!rt.includes(He))return!1;const Kt=re[He],an=ie[He];if(ge(Kt)&&ge(an)){if(!Ke(Kt,an))return!1}else if(Kt!==an)return!1}for(const He of rt)if(!me.includes(He))return!1;return!0}function ge(re){return null!==re&&"object"==typeof re}function st(re){const ie=[];for(const[me,rt]of Object.entries(re))Array.isArray(rt)?rt.forEach(He=>{ie.push(encodeURIComponent(me)+"="+encodeURIComponent(He))}):ie.push(encodeURIComponent(me)+"="+encodeURIComponent(rt));return ie.length?"&"+ie.join("&"):""}function dt(re){const ie={};return re.replace(/^\?/,"").split("&").forEach(rt=>{if(rt){const[He,Kt]=rt.split("=");ie[decodeURIComponent(He)]=decodeURIComponent(Kt)}}),ie}function sn(re){const ie=re.indexOf("?");if(!ie)return"";const me=re.indexOf("#",ie);return re.substring(ie,me>0?me:void 0)}function hr(re,ie){const me=new Ut(re,ie);return me.subscribe.bind(me)}class Ut{constructor(ie,me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=me,this.task.then(()=>{ie(this)}).catch(rt=>{this.error(rt)})}next(ie){this.forEachObserver(me=>{me.next(ie)})}error(ie){this.forEachObserver(me=>{me.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,me,rt){let He;if(void 0===ie&&void 0===me&&void 0===rt)throw new Error("Missing Observer.");He=function Fr(re,ie){if("object"!=typeof re||null===re)return!1;for(const me of ie)if(me in re&&"function"==typeof re[me])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:me,complete:rt},void 0===He.next&&(He.next=On),void 0===He.error&&(He.error=On),void 0===He.complete&&(He.complete=On);const Kt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?He.error(this.finalError):He.complete()}catch{}}),this.observers.push(He),Kt}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let me=0;me<this.observers.length;me++)this.sendOne(me,ie)}sendOne(ie,me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{me(this.observers[ie])}catch(rt){typeof console<"u"&&console.error&&console.error(rt)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}function we(re){return re&&re._delegate?re._delegate:re}},9270:(gn,pt,W)=>{W.d(pt,{f:()=>R});const R={setTimeout($,H,...oe){const{delegate:Pe}=R;return Pe?.setTimeout?Pe.setTimeout($,H,...oe):setTimeout($,H,...oe)},clearTimeout($){const{delegate:H}=R;return(H?.clearTimeout||clearTimeout)($)},delegate:void 0}},9361:(gn,pt,W)=>{W.d(pt,{q:()=>$});const $=new(W(1360).nKC)("")},9377:(gn,pt,W)=>{function R(xe,Be){Be=encodeURIComponent(Be);for(const ct of xe.split(";")){const le=ct.indexOf("="),[se,We]=-1==le?[ct,""]:[ct.slice(0,le),ct.slice(le+1)];if(se.trim()===Be)return decodeURIComponent(We)}return null}W.d(pt,{N0:()=>gt,Vy:()=>Pe,Zn:()=>$,bS:()=>R});const $="browser",H="server";function Pe(xe){return xe===H}class gt{}},9786:(gn,pt,W)=>{W.d(pt,{Y:()=>H,l:()=>oe});var R=W(1026);let $=null;function H(Pe){if(R.$.useDeprecatedSynchronousErrorHandling){const gt=!$;if(gt&&($={errorThrown:!1,error:null}),Pe(),gt){const{errorThrown:xe,error:Be}=$;if($=null,xe)throw Be}}else Pe()}function oe(Pe){R.$.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=Pe)}},9858:(gn,pt,W)=>{W.d(pt,{y:()=>$});var R=W(8071);function $(H){return(0,R.T)(H?.then)}},9974:(gn,pt,W)=>{W.d(pt,{N:()=>H,S:()=>$});var R=W(8071);function $(oe){return(0,R.T)(oe?.lift)}function H(oe){return Pe=>{if($(Pe))return Pe.lift(function(gt){try{return oe(gt,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}}},gn=>{gn(gn.s=4738)}]);