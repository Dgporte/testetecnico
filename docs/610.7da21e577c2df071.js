"use strict";(self.webpackChunktesteTecnico=self.webpackChunktesteTecnico||[]).push([[610],{8610:(P,p,e)=>{e.r(p),e.d(p,{ListaFuncionariosComponent:()=>M});var n=e(1360),l=e(2881),f=e(4341),d=e(4611),u=e(4378),g=e(8905);function m(o,c){1&o&&(n.j41(0,"div",13),n.nrm(1,"i",14),n.j41(2,"span"),n.EFF(3,"Carregando funcion\xe1rios..."),n.k0s()())}function _(o,c){if(1&o){const i=n.RV6();n.j41(0,"div",17)(1,"div",18)(2,"div",19),n.nrm(3,"img",20),n.k0s(),n.j41(4,"div",21)(5,"h3",22),n.EFF(6),n.k0s(),n.j41(7,"p",23),n.EFF(8),n.k0s()()(),n.j41(9,"div",24)(10,"div",25),n.nrm(11,"i",26),n.j41(12,"span"),n.EFF(13),n.k0s()(),n.j41(14,"div",25),n.nrm(15,"i",27),n.j41(16,"span"),n.EFF(17),n.k0s()(),n.j41(18,"div",25),n.nrm(19,"i",28),n.j41(20,"span"),n.EFF(21),n.k0s()(),n.j41(22,"div",25),n.nrm(23,"i",29),n.j41(24,"span"),n.EFF(25),n.k0s()(),n.j41(26,"div",25),n.nrm(27,"i",30),n.j41(28,"span"),n.EFF(29),n.k0s()(),n.j41(30,"div",25),n.nrm(31,"i",31),n.j41(32,"span"),n.EFF(33),n.k0s()()(),n.j41(34,"div",32)(35,"button",33),n.bIt("click",function(){const t=n.eBV(i).$implicit,a=n.XpG(2);return n.Njj(a.editarFuncionario(t.id))}),n.nrm(36,"i",34),n.EFF(37," Editar "),n.k0s(),n.j41(38,"button",35),n.bIt("click",function(){const t=n.eBV(i).$implicit,a=n.XpG(2);return n.Njj(a.excluirFuncionario(t))}),n.nrm(39,"i",36),n.EFF(40," Excluir "),n.k0s()()()}if(2&o){const i=c.$implicit,r=n.XpG(2);n.R7$(3),n.Y8G("src",i.foto||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM2ODcwN0EiLz4KPGNpcmNsZSBjeD0iMjAiIGN5PSIxNiIgcj0iNiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEwIDMwQzEwIDI2LjY4NjMgMTMuMTM0IDI0IDIwIDI0QzI2Ljg2NiAyNCAzMCAyNi42ODYzIDMwIDMwVjMySDEwVjMwWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+",n.B4B)("alt",i.nome),n.R7$(3),n.JRh(i.nome),n.R7$(2),n.JRh(i.cargo),n.R7$(5),n.JRh(i.email),n.R7$(4),n.JRh(i.telefone),n.R7$(4),n.JRh(r.formatarData(i.dataNascimento)),n.R7$(4),n.JRh(i.cpf),n.R7$(4),n.JRh(r.formatarSalario(i.salario)),n.R7$(4),n.Lme("",i.cidade,", ",i.estado,"")}}function b(o,c){if(1&o&&(n.j41(0,"div",15),n.DNE(1,_,41,11,"div",16),n.k0s()),2&o){const i=n.XpG();n.R7$(),n.Y8G("ngForOf",i.funcionarios)}}function h(o,c){1&o&&(n.j41(0,"p"),n.EFF(1,"Tente pesquisar com outros termos"),n.k0s())}function x(o,c){1&o&&(n.j41(0,"p"),n.EFF(1,"Adicione funcion\xe1rios para v\xea-los aqui"),n.k0s())}function C(o,c){if(1&o){const i=n.RV6();n.j41(0,"div",37),n.nrm(1,"i",38),n.j41(2,"h3"),n.EFF(3,"Nenhum funcion\xe1rio encontrado"),n.k0s(),n.DNE(4,h,2,0,"p",39)(5,x,2,0,"p",39),n.j41(6,"button",40),n.bIt("click",function(){n.eBV(i);const t=n.XpG();return n.Njj(t.adicionarFuncionario())}),n.nrm(7,"i",9),n.EFF(8," Cadastrar Funcion\xe1rio "),n.k0s()()}if(2&o){const i=n.XpG();n.R7$(4),n.Y8G("ngIf",i.searchTerm),n.R7$(),n.Y8G("ngIf",!i.searchTerm)}}let M=(()=>{class o{funcionarioService=(0,n.WQX)(g.C);router=(0,n.WQX)(d.Ix);funcionarios=[];isLoading=!0;searchTerm="";ngOnInit(){this.carregarFuncionarios()}carregarFuncionarios(){this.isLoading=!0,this.funcionarioService.listarFuncionarios().subscribe({next:i=>{this.funcionarios=i,this.isLoading=!1},error:i=>{console.error("Erro ao carregar funcion\xe1rios:",i),this.isLoading=!1,alert("Erro ao carregar lista de funcion\xe1rios.")}})}pesquisarFuncionarios(){this.searchTerm.trim()?(this.isLoading=!0,this.funcionarioService.buscarFuncionarios(this.searchTerm).subscribe({next:i=>{this.funcionarios=i,this.isLoading=!1},error:i=>{console.error("Erro ao pesquisar funcion\xe1rios:",i),this.isLoading=!1}})):this.carregarFuncionarios()}editarFuncionario(i){console.log("Editar funcion\xe1rio:",i),this.router.navigate(["/cadastro"],{queryParams:{id:i}})}excluirFuncionario(i){confirm(`Tem certeza que deseja excluir o funcion\xe1rio ${i.nome}?`)&&this.funcionarioService.deletarFuncionario(i.id).subscribe({next:()=>{alert("Funcion\xe1rio exclu\xeddo com sucesso!"),this.carregarFuncionarios()},error:r=>{console.error("Erro ao excluir funcion\xe1rio:",r),alert("Erro ao excluir funcion\xe1rio. Tente novamente.")}})}adicionarFuncionario(){this.router.navigate(["/cadastro"])}formatarData(i){return new Date(i).toLocaleDateString("pt-BR")}formatarSalario(i){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)}onSearchInput(i){this.searchTerm=i.target.value,""===this.searchTerm&&this.carregarFuncionarios()}onSearchSubmit(){this.pesquisarFuncionarios()}static \u0275fac=function(r){return new(r||o)};static \u0275cmp=n.VBU({type:o,selectors:[["app-lista-funcionarios"]],decls:16,vars:4,consts:[[1,"global-background","lista-container"],[1,"page-container","lista-content"],[1,"lista-title"],[1,"search-container"],[1,"search-box"],["type","text","placeholder","Pesquisar por nome, email, CPF ou cargo...",1,"search-input",3,"ngModelChange","input","keyup.enter","ngModel"],[1,"search-button",3,"click"],[1,"bi","bi-search"],[1,"btn-adicionar-header",3,"click"],[1,"bi","bi-plus-circle"],["class","loading",4,"ngIf"],["class","funcionarios-grid",4,"ngIf"],["class","lista-vazia",4,"ngIf"],[1,"loading"],[1,"bi","bi-arrow-clockwise"],[1,"funcionarios-grid"],["class","funcionario-card",4,"ngFor","ngForOf"],[1,"funcionario-card"],[1,"funcionario-header"],[1,"funcionario-foto"],["loading","lazy","decoding","async",3,"src","alt"],[1,"funcionario-info"],[1,"funcionario-nome"],[1,"funcionario-cargo"],[1,"funcionario-detalhes"],[1,"detalhe-item"],[1,"bi","bi-envelope"],[1,"bi","bi-telephone"],[1,"bi","bi-calendar"],[1,"bi","bi-person-badge"],[1,"bi","bi-currency-dollar"],[1,"bi","bi-geo-alt"],[1,"funcionario-acoes"],[1,"btn-editar",3,"click"],[1,"bi","bi-pencil"],[1,"btn-excluir",3,"click"],[1,"bi","bi-trash"],[1,"lista-vazia"],[1,"bi","bi-people"],[4,"ngIf"],[1,"btn-adicionar",3,"click"]],template:function(r,t){1&r&&(n.nrm(0,"app-navbar"),n.j41(1,"div",0)(2,"div",1)(3,"h2",2),n.EFF(4,"Funcion\xe1rios Cadastrados"),n.k0s(),n.j41(5,"div",3)(6,"div",4)(7,"input",5),n.mxI("ngModelChange",function(s){return n.DH7(t.searchTerm,s)||(t.searchTerm=s),s}),n.bIt("input",function(s){return t.onSearchInput(s)})("keyup.enter",function(){return t.onSearchSubmit()}),n.k0s(),n.j41(8,"button",6),n.bIt("click",function(){return t.onSearchSubmit()}),n.nrm(9,"i",7),n.k0s()(),n.j41(10,"button",8),n.bIt("click",function(){return t.adicionarFuncionario()}),n.nrm(11,"i",9),n.EFF(12," Novo Funcion\xe1rio "),n.k0s()(),n.DNE(13,m,4,0,"div",10)(14,b,2,1,"div",11)(15,C,9,2,"div",12),n.k0s()()),2&r&&(n.R7$(7),n.R50("ngModel",t.searchTerm),n.R7$(6),n.Y8G("ngIf",t.isLoading),n.R7$(),n.Y8G("ngIf",!t.isLoading&&t.funcionarios.length>0),n.R7$(),n.Y8G("ngIf",!t.isLoading&&0===t.funcionarios.length))},dependencies:[l.MD,l.Sq,l.bT,f.YN,f.me,f.BC,f.vS,u._],styles:[".lista-container[_ngcontent-%COMP%]{min-height:100vh;width:100vw;margin-top:0;padding:20px;position:relative;top:0;left:0;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none}.lista-content[_ngcontent-%COMP%]{position:relative;z-index:10;max-width:1200px;margin:70px auto}.lista-title[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Poppins,sans-serif;font-weight:600;font-size:32px;margin-bottom:30px}.funcionarios-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;margin-bottom:30px}.funcionario-card[_ngcontent-%COMP%]{background:#1a1f26;border:1px solid #2a3441;border-radius:4px;padding:16px;contain:layout style paint}.funcionario-card[_ngcontent-%COMP%]:hover{background:#1e242b}.funcionario-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.funcionario-foto[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;overflow:hidden;margin-right:15px;border:2px solid rgba(255,255,255,.3)}.funcionario-foto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.funcionario-info[_ngcontent-%COMP%]{flex:1}.funcionario-nome[_ngcontent-%COMP%]{color:#fff;font-family:Poppins,sans-serif;font-weight:600;font-size:18px;margin:0 0 5px}.funcionario-status[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;font-family:Poppins,sans-serif}.funcionario-status.ativo[_ngcontent-%COMP%]{background-color:#22c55e33;color:#22c55e;border:1px solid rgba(34,197,94,.3)}.funcionario-status.inativo[_ngcontent-%COMP%]{background-color:#ef444433;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.funcionario-detalhes[_ngcontent-%COMP%]{margin-bottom:20px}.detalhe-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;color:#ffffffe6;font-family:Poppins,sans-serif;font-size:14px}.detalhe-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;width:16px;color:#ffffffb3}.funcionario-acoes[_ngcontent-%COMP%]{display:flex;gap:10px}.btn-editar[_ngcontent-%COMP%], .btn-excluir[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:none;border-radius:4px;font-family:Poppins,sans-serif;font-size:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:5px}.btn-editar[_ngcontent-%COMP%]{background-color:#3b82f633;color:#3b82f6;border:1px solid rgba(59,130,246,.3)}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#3b82f64d}.btn-excluir[_ngcontent-%COMP%]{background-color:#ef444433;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.btn-excluir[_ngcontent-%COMP%]:hover{background-color:#ef44444d}.lista-vazia[_ngcontent-%COMP%]{text-align:center;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:16px;padding:40px;box-shadow:0 8px 32px #1f26875e}.lista-vazia[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#ffffff80;margin-bottom:20px}.lista-vazia[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-family:Poppins,sans-serif;font-weight:600;margin-bottom:10px}.lista-vazia[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffb3;font-family:Poppins,sans-serif;margin-bottom:20px}.btn-adicionar[_ngcontent-%COMP%]{background-color:#1570ef;color:#fff;border:none;border-radius:8px;padding:12px 24px;font-family:Poppins,sans-serif;font-weight:500;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-adicionar[_ngcontent-%COMP%]:hover{background-color:#0d4797;transform:translateY(-2px)}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-bottom:30px;flex-wrap:wrap}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#2a3441;border:1px solid #3a4752;border-radius:4px;overflow:hidden;flex:1;min-width:300px}.search-input[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;padding:12px 15px;font-family:Poppins,sans-serif;font-size:14px;outline:none;flex:1}.search-input[_ngcontent-%COMP%]::placeholder{color:#fff9}.search-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;padding:12px;cursor:pointer}.search-button[_ngcontent-%COMP%]:hover{color:#006aff}.btn-adicionar-header[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;border-radius:4px;padding:12px 16px;font-family:Poppins,sans-serif;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px;white-space:nowrap}.btn-adicionar-header[_ngcontent-%COMP%]:hover{background:#218838}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#fffc;font-family:Poppins,sans-serif}.loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:15px;animation:_ngcontent-%COMP%_spin 1s linear infinite;display:block}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.funcionario-cargo[_ngcontent-%COMP%]{color:#ffffffb3;font-size:14px;margin:5px 0;font-style:italic}@media (max-width: 768px){.funcionarios-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.lista-container[_ngcontent-%COMP%]{padding:10px}.lista-title[_ngcontent-%COMP%]{font-size:24px}}"]})}return o})()}}]);