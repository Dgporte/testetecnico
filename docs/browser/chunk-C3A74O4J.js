import{a as E,b as k,e as L,h as T}from"./chunk-KMALIPEK.js";import{a as z,b as D}from"./chunk-7FTP4AXE.js";import{D as b,G as p,J as n,K as t,L as s,M as h,N as u,O as m,P as r,Q as f,S as M,T as P,U as y,V as O,ba as I,ca as F,da as S,ja as w,n as _,p as g,q as x,v as C,w as c,z as v}from"./chunk-S2RDY3SF.js";function j(a,i){a&1&&(n(0,"div",13),s(1,"i",14),n(2,"span"),r(3,"Carregando funcion\xE1rios..."),t()())}function A(a,i){if(a&1){let e=h();n(0,"div",17)(1,"div",18)(2,"div",19),s(3,"img",20),t(),n(4,"div",21)(5,"h3",22),r(6),t(),n(7,"p",23),r(8),t()()(),n(9,"div",24)(10,"div",25),s(11,"i",26),n(12,"span"),r(13),t()(),n(14,"div",25),s(15,"i",27),n(16,"span"),r(17),t()(),n(18,"div",25),s(19,"i",28),n(20,"span"),r(21),t()(),n(22,"div",25),s(23,"i",29),n(24,"span"),r(25),t()(),n(26,"div",25),s(27,"i",30),n(28,"span"),r(29),t()(),n(30,"div",25),s(31,"i",31),n(32,"span"),r(33),t()()(),n(34,"div",32)(35,"button",33),u("click",function(){let l=g(e).$implicit,d=m(2);return x(d.editarFuncionario(l.id))}),s(36,"i",34),r(37," Editar "),t(),n(38,"button",35),u("click",function(){let l=g(e).$implicit,d=m(2);return x(d.excluirFuncionario(l))}),s(39,"i",36),r(40," Excluir "),t()()()}if(a&2){let e=i.$implicit,o=m(2);c(3),p("src",e.foto||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM2ODcwN0EiLz4KPGNpcmNsZSBjeD0iMjAiIGN5PSIxNiIgcj0iNiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEwIDMwQzEwIDI2LjY4NjMgMTMuMTM0IDI0IDIwIDI0QzI2Ljg2NiAyNCAzMCAyNi42ODYzIDMwIDMwVjMySDEwVjMwWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+",C)("alt",e.nome),c(3),f(e.nome),c(2),f(e.cargo),c(5),f(e.email),c(4),f(e.telefone),c(4),f(o.formatarData(e.dataNascimento)),c(4),f(e.cpf),c(4),f(o.formatarSalario(e.salario)),c(4),M("",e.cidade,", ",e.estado,"")}}function Z(a,i){if(a&1&&(n(0,"div",15),b(1,A,41,11,"div",16),t()),a&2){let e=m();c(),p("ngForOf",e.funcionarios)}}function G(a,i){a&1&&(n(0,"p"),r(1,"Tente pesquisar com outros termos"),t())}function V(a,i){a&1&&(n(0,"p"),r(1,"Adicione funcion\xE1rios para v\xEA-los aqui"),t())}function q(a,i){if(a&1){let e=h();n(0,"div",37),s(1,"i",38),n(2,"h3"),r(3,"Nenhum funcion\xE1rio encontrado"),t(),b(4,G,2,0,"p",39)(5,V,2,0,"p",39),n(6,"button",40),u("click",function(){g(e);let l=m();return x(l.adicionarFuncionario())}),s(7,"i",9),r(8," Cadastrar Funcion\xE1rio "),t()()}if(a&2){let e=m();c(4),p("ngIf",e.searchTerm),c(),p("ngIf",!e.searchTerm)}}var N=class a{funcionarioService=_(z);router=_(w);funcionarios=[];isLoading=!0;searchTerm="";ngOnInit(){this.carregarFuncionarios()}carregarFuncionarios(){this.isLoading=!0,this.funcionarioService.listarFuncionarios().subscribe({next:i=>{this.funcionarios=i,this.isLoading=!1},error:i=>{console.error("Erro ao carregar funcion\xE1rios:",i),this.isLoading=!1,alert("Erro ao carregar lista de funcion\xE1rios.")}})}pesquisarFuncionarios(){if(!this.searchTerm.trim()){this.carregarFuncionarios();return}this.isLoading=!0,this.funcionarioService.buscarFuncionarios(this.searchTerm).subscribe({next:i=>{this.funcionarios=i,this.isLoading=!1},error:i=>{console.error("Erro ao pesquisar funcion\xE1rios:",i),this.isLoading=!1}})}editarFuncionario(i){console.log("Editar funcion\xE1rio:",i),this.router.navigate(["/cadastro"],{queryParams:{id:i}})}excluirFuncionario(i){confirm(`Tem certeza que deseja excluir o funcion\xE1rio ${i.nome}?`)&&this.funcionarioService.deletarFuncionario(i.id).subscribe({next:()=>{alert("Funcion\xE1rio exclu\xEDdo com sucesso!"),this.carregarFuncionarios()},error:e=>{console.error("Erro ao excluir funcion\xE1rio:",e),alert("Erro ao excluir funcion\xE1rio. Tente novamente.")}})}adicionarFuncionario(){this.router.navigate(["/cadastro"])}formatarData(i){return new Date(i).toLocaleDateString("pt-BR")}formatarSalario(i){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)}onSearchInput(i){this.searchTerm=i.target.value,this.searchTerm===""&&this.carregarFuncionarios()}onSearchSubmit(){this.pesquisarFuncionarios()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=v({type:a,selectors:[["app-lista-funcionarios"]],decls:16,vars:4,consts:[[1,"global-background","lista-container"],[1,"page-container","lista-content"],[1,"lista-title"],[1,"search-container"],[1,"search-box"],["type","text","placeholder","Pesquisar por nome, email, CPF ou cargo...",1,"search-input",3,"ngModelChange","input","keyup.enter","ngModel"],[1,"search-button",3,"click"],[1,"bi","bi-search"],[1,"btn-adicionar-header",3,"click"],[1,"bi","bi-plus-circle"],["class","loading",4,"ngIf"],["class","funcionarios-grid",4,"ngIf"],["class","lista-vazia",4,"ngIf"],[1,"loading"],[1,"bi","bi-arrow-clockwise"],[1,"funcionarios-grid"],["class","funcionario-card",4,"ngFor","ngForOf"],[1,"funcionario-card"],[1,"funcionario-header"],[1,"funcionario-foto"],["loading","lazy","decoding","async",3,"src","alt"],[1,"funcionario-info"],[1,"funcionario-nome"],[1,"funcionario-cargo"],[1,"funcionario-detalhes"],[1,"detalhe-item"],[1,"bi","bi-envelope"],[1,"bi","bi-telephone"],[1,"bi","bi-calendar"],[1,"bi","bi-person-badge"],[1,"bi","bi-currency-dollar"],[1,"bi","bi-geo-alt"],[1,"funcionario-acoes"],[1,"btn-editar",3,"click"],[1,"bi","bi-pencil"],[1,"btn-excluir",3,"click"],[1,"bi","bi-trash"],[1,"lista-vazia"],[1,"bi","bi-people"],[4,"ngIf"],[1,"btn-adicionar",3,"click"]],template:function(e,o){e&1&&(s(0,"app-navbar"),n(1,"div",0)(2,"div",1)(3,"h2",2),r(4,"Funcion\xE1rios Cadastrados"),t(),n(5,"div",3)(6,"div",4)(7,"input",5),O("ngModelChange",function(d){return y(o.searchTerm,d)||(o.searchTerm=d),d}),u("input",function(d){return o.onSearchInput(d)})("keyup.enter",function(){return o.onSearchSubmit()}),t(),n(8,"button",6),u("click",function(){return o.onSearchSubmit()}),s(9,"i",7),t()(),n(10,"button",8),u("click",function(){return o.adicionarFuncionario()}),s(11,"i",9),r(12," Novo Funcion\xE1rio "),t()(),b(13,j,4,0,"div",10)(14,Z,2,1,"div",11)(15,q,9,2,"div",12),t()()),e&2&&(c(7),P("ngModel",o.searchTerm),c(6),p("ngIf",o.isLoading),c(),p("ngIf",!o.isLoading&&o.funcionarios.length>0),c(),p("ngIf",!o.isLoading&&o.funcionarios.length===0))},dependencies:[S,I,F,T,E,k,L,D],styles:[".lista-container[_ngcontent-%COMP%]{min-height:100vh;width:100vw;margin-top:0;padding:20px;position:relative;top:0;left:0;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none}.lista-content[_ngcontent-%COMP%]{position:relative;z-index:10;max-width:1200px;margin:70px auto}.lista-title[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Poppins,sans-serif;font-weight:600;font-size:32px;margin-bottom:30px}.funcionarios-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;margin-bottom:30px}.funcionario-card[_ngcontent-%COMP%]{background:#1a1f26;border:1px solid #2a3441;border-radius:4px;padding:16px;contain:layout style paint}.funcionario-card[_ngcontent-%COMP%]:hover{background:#1e242b}.funcionario-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.funcionario-foto[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;overflow:hidden;margin-right:15px;border:2px solid rgba(255,255,255,.3)}.funcionario-foto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.funcionario-info[_ngcontent-%COMP%]{flex:1}.funcionario-nome[_ngcontent-%COMP%]{color:#fff;font-family:Poppins,sans-serif;font-weight:600;font-size:18px;margin:0 0 5px}.funcionario-status[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;font-family:Poppins,sans-serif}.funcionario-status.ativo[_ngcontent-%COMP%]{background-color:#22c55e33;color:#22c55e;border:1px solid rgba(34,197,94,.3)}.funcionario-status.inativo[_ngcontent-%COMP%]{background-color:#ef444433;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.funcionario-detalhes[_ngcontent-%COMP%]{margin-bottom:20px}.detalhe-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;color:#ffffffe6;font-family:Poppins,sans-serif;font-size:14px}.detalhe-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;width:16px;color:#ffffffb3}.funcionario-acoes[_ngcontent-%COMP%]{display:flex;gap:10px}.btn-editar[_ngcontent-%COMP%], .btn-excluir[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:none;border-radius:4px;font-family:Poppins,sans-serif;font-size:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:5px}.btn-editar[_ngcontent-%COMP%]{background-color:#3b82f633;color:#3b82f6;border:1px solid rgba(59,130,246,.3)}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#3b82f64d}.btn-excluir[_ngcontent-%COMP%]{background-color:#ef444433;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.btn-excluir[_ngcontent-%COMP%]:hover{background-color:#ef44444d}.lista-vazia[_ngcontent-%COMP%]{text-align:center;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:16px;padding:40px;box-shadow:0 8px 32px #1f26875e}.lista-vazia[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#ffffff80;margin-bottom:20px}.lista-vazia[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-family:Poppins,sans-serif;font-weight:600;margin-bottom:10px}.lista-vazia[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffb3;font-family:Poppins,sans-serif;margin-bottom:20px}.btn-adicionar[_ngcontent-%COMP%]{background-color:#1570ef;color:#fff;border:none;border-radius:8px;padding:12px 24px;font-family:Poppins,sans-serif;font-weight:500;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-adicionar[_ngcontent-%COMP%]:hover{background-color:#0d4797;transform:translateY(-2px)}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-bottom:30px;flex-wrap:wrap}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#2a3441;border:1px solid #3a4752;border-radius:4px;overflow:hidden;flex:1;min-width:300px}.search-input[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;padding:12px 15px;font-family:Poppins,sans-serif;font-size:14px;outline:none;flex:1}.search-input[_ngcontent-%COMP%]::placeholder{color:#fff9}.search-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;padding:12px;cursor:pointer}.search-button[_ngcontent-%COMP%]:hover{color:#006aff}.btn-adicionar-header[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;border-radius:4px;padding:12px 16px;font-family:Poppins,sans-serif;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px;white-space:nowrap}.btn-adicionar-header[_ngcontent-%COMP%]:hover{background:#218838}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#fffc;font-family:Poppins,sans-serif}.loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:15px;animation:_ngcontent-%COMP%_spin 1s linear infinite;display:block}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.funcionario-cargo[_ngcontent-%COMP%]{color:#ffffffb3;font-size:14px;margin:5px 0;font-style:italic}@media (max-width: 768px){.funcionarios-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.lista-container[_ngcontent-%COMP%]{padding:10px}.lista-title[_ngcontent-%COMP%]{font-size:24px}}"]})};export{N as ListaFuncionariosComponent};
